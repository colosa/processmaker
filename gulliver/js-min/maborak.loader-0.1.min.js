leimnud.Package.Public({info:{Class:"maborak",File:"module.panel.js",Name:"panel",Type:"module",Version:"1.0.5"},content:function(){this.uid=this.parent.tools.createUID();this.zIndex=0;this.stepZindex=5;this.controlSize={w:15,h:15};this.elements={};this.setStyle={};this.events={};this.tab={};this.showing={};this.make=function(){this.makeTmpDB();this.options={statusBar:!1,titleBar:!0,cursorToDrag:"default",elementToDrag:"title",strict_position:!0}.concat(this.options||{});this.options.fx={blinkToFront:!0,
shadow:!0,opacity:!0,modal:!1,fadeIn:!1,fadeOut:!1,drag:!0}.concat(this.options.fx||{});this.options.control={resize:!1,close:!0,drag:!0}.concat(this.options.control||{});this.options.statusBar=this.options.statusBarButtons||this.options.control.resize?!0:this.options.statusBar;this.options.size={w:200,h:200}.concat(this.options.size||{});this.options.position={x:20,y:20}.concat(this.options.position||{});this.makeTheme();this.elements.containerWindow=$dce("div");this.elements.containerWindow.className=
"panel_containerWindow___"+this.getTheme("containerWindow");this.styles.containerWindow();!0===this.options.fx.fadeIn&&this.parent.dom.opacity(this.elements.containerWindow,0);this.target().appendChild(this.elements.containerWindow);this.elements.frontend=$dce("div");this.elements.frontend.className="panel_frontend___"+this.getTheme("frontend");this.styles.frontend();this.elements.containerWindow.appendChild(this.elements.frontend);this.elements.titleBar=$dce("div");this.elements.titleBar.className=
"panel_titleBar___"+this.getTheme("titleBar");this.parent.exec(this.styles.titleBar,!1,!1,this);this.elements.frontend.appendChild(this.elements.titleBar);this.elements.title=$dce("div");this.elements.title.className="panel_title___"+this.getTheme("title");this.parent.exec(this.styles.title,!1,!1,this);this.elements.title.innerHTML=this.options.title||"";this.elements.titleBar.appendChild(this.elements.title);this.elements.headerBar=$dce("div");this.elements.headerBar.className="panel_headerBar___"+
this.getTheme("headerBar");this.styles.headerBar();this.elements.frontend.appendChild(this.elements.headerBar);this.elements.tab=$dce("div");this.elements.tab.className="panel_tab___"+this.getTheme("tab");this.elements.content=$dce("div");this.elements.content.className="panel_content___"+this.getTheme("content");this.elements.loader=$dce("div");this.elements.loader.className="panel_loader___"+this.getTheme("loader");this.elements.frontend.appendChild(this.elements.content);this.elements.frontend.appendChild(this.elements.tab);
this.elements.frontend.appendChild(this.elements.loader);this.elements.statusBar=$dce("div");this.elements.statusBar.className="panel_statusBar___"+this.getTheme("statusBar");this.styles.statusBar();this.elements.frontend.appendChild(this.elements.statusBar);this.elements.statusButtons=$dce("div");this.elements.statusButtons.className="panel_statusButtons___"+this.getTheme("statusButtons");this.styles.statusButtons();this.elements.statusBar.appendChild(this.elements.statusButtons);this.elements.status=
$dce("div");this.elements.status.innerHTML="&nbsp;";this.elements.status.className="panel_status___"+this.getTheme("status");this.parent.exec(this.styles.status,!1,!1,this);this.elements.statusBar.appendChild(this.elements.status);this.elements.resize=$dce("div");this.elements.resize.className="panel_resize___"+this.getTheme("resize");this.styles.resize();this.elements.statusBar.appendChild(this.elements.resize);this.makeStatusButtons();this.parent.exec(this.styles.loader,!1,!1,this);this.parent.exec(this.styles.tab,
!1,!1,this);this.parent.exec(this.styles.content,!1,!1,this);this.elements.backend=$dce("div");this.elements.backend.className="panel_backend___"+this.getTheme("backend");this.parent.exec(this.styles.backend,!1,!1,this);this.elements.containerWindow.appendChild(this.elements.backend);this.parent.browser.isIE&&(this.elements.iframe=$dce("iframe"),this.elements.iframe.className="panel_iframe___"+this.getTheme("iframe"),this.elements.iframe.frameBorder="no",this.elements.iframe.scrolling="no",this.elements.iframe.src=
"about:blank",this.parent.exec(this.styles.iframe,!1,!1,this),this.elements.backend.appendChild(this.elements.iframe));this.makeEvents();this.makeFx();this.makeControls();!0===this.options.fx.fadeIn&&(new this.parent.module.fx.fade).make({duration:1E3,end:this.styles.fx.opacityPanel.Static/100,dom:this.elements.containerWindow})};this.makeFx=function(){this.options.fx.shadow&&(this.elements.shadow=$dce("div"),this.elements.shadow.className="panel_shadow___"+this.getTheme("shadow"),this.parent.exec(this.styles.shadow,
!1,!1,this),!0===this.options.fx.fadeIn&&(this.parent.dom.opacity(this.elements.shadow,0),(new this.parent.module.fx.fade).make({duration:1E3,end:this.styles.fx.opacityShadow.Static/100,dom:this.elements.shadow})),this.target().appendChild(this.elements.shadow));this.options.fx.modal&&(this.elements.modal=$dce("div"),this.elements.modal.className="panel_modal___"+this.getTheme("modal"),this.elements.modal.id="panel_modal___"+this.getTheme("modal"),!0===this.options.fx.fadeIn&&this.parent.dom.opacity(this.elements.modal,
0),this.styles.modal(),this.target().appendChild(this.elements.modal));!0===this.options.fx.blinkToFront&&(this.events.init.push(this.blink),this.elements.containerWindow.onmousedown=this.blink);this.options.fx.opacity&&(this.events.init.push(this.fx.setOpacity),this.events.finish.push(this.fx.unsetOpacity));this.options.fx.rolled&&this.roll()};this.makeStatusButtons=function(){if(this.options.statusBarButtons){this.parent.dom.setStyle(this.elements.statusBar,{});var a=this.options.statusBarButtons;
this.elements.statusBarButtons=[];for(var b=0;b<a.length;b++){var c=new button(a[b].value||"Button");this.elements.statusBarButtons.push(c);this.elements.statusButtons.appendChild(c)}}};this.blink=function(){this.zIndex<this.parent.tmp.panel.zIndex&&(this.zIndex=this.makezIndex(),this.parent.dom.setStyle(this.elements.containerWindow,{zIndex:this.zIndex}),this.options.fx.shadow&&this.shadowReIndex())};this.move=function(a){a={fx:!0,x:this.options.position.x,y:this.options.position.y}.concat(a);this.options.position.x=
a.x;this.options.position.y=a.y;!0===a.fx?((new this.parent.module.fx.move).make({duration:500,end:a,dom:this.elements.containerWindow,onFinish:a.onFinish||function(){}}),this.options.fx.shadow&&(new this.parent.module.fx.move).make({duration:500,end:{x:a.x+2,y:a.y+2},dom:this.elements.shadow})):(this.parent.dom.setStyle(this.elements.containerWindow,{left:a.x,top:a.y}),this.options.fx.shadow&&this.parent.dom.setStyle(this.elements.shadow,{top:parseInt(this.parent.dom.getStyle(this.elements.containerWindow,
"top"),10)+2,left:parseInt(this.parent.dom.getStyle(this.elements.containerWindow,"left"),10)+2}))};this.maximize=function(){this.move({x:0,y:0,fx:!0,onFinish:function(){(new this.parent.module.fx.algorithm).make({duration:1E3,begin:this.options.size.w,transition:"sineInOut",end:this.target().offsetWidth,onTransition:function(a){this.resize({w:a.result})}.extend(this),onFinish:function(a){this.resize({w:a.options.end});(new this.parent.module.fx.algorithm).make({duration:1E3,begin:this.options.size.h,
transition:"sineInOut",end:this.target().clientHeight,onTransition:function(a){this.resize({h:a.result})}.extend(this),onFinish:function(a){this.resize({h:a.options.end})}.extend(this)})}.extend(this)})}.extend(this)})};this.resize=function(a){a=a||{};this.options.size={w:a.w||this.options.size.w,h:a.h||this.options.size.h};this.parent.dom.setStyle(this.elements.containerWindow,{width:this.options.size.w,height:this.options.size.h});this.styles.content();this.options.fx.shadow&&this.styles.shadow();
"horizontal"===this.tab.display&&this.parent.dom.setStyle(this.elements.tab,{width:this.elements.containerWindow.clientWidth-8})};this.center=function(a){var a=a||!1,b=this.target().clientWidth/2+this.target().scrollLeft-this.options.size.w/2,c=this.target().clientHeight/2+this.target().scrollTop-this.options.size.h/2;"x"===a||"y"===a?(this.options.position.x="x"===a?b:this.options.position.x||0,this.options.position.y="y"===a?c:this.options.position.y||0):(this.options.position.x=b,this.options.position.y=
c,this.options.position.x=this.options.position.x||0,this.options.position.y=this.options.position.y||0);this.options.position.x=0>this.options.position.x?0:this.options.position.x;this.options.position.y=0>this.options.position.y?0:this.options.position.y;this.move({x:this.options.position.x,y:this.options.position.y})};this.fixContent=function(){parseInt(this.elements.content.scrollHeight-this.elements.content.clientHeight)};this.makeEvents=function(){this.events.init=this.events.init?this.events.init.isArray?
this.events.init:[this.events.init]:[];this.events.move=this.events.move?this.events.move.isArray?this.events.move:[this.events.move]:[];this.events.finish=this.events.finish?this.events.finish.isArray?this.events.finish:[this.events.finish]:[]};this.makeControls=function(){this.controls=[];this.options.control.close&&(this.elements.close=$dce("div"),this.elements.close.className="panel_close___"+this.getTheme("close"),this.parent.exec(this.styles.close,!1,!1,this),this.controls.push(this.elements.close),
this.elements.titleBar.appendChild(this.elements.close));this.options.control.roll&&(this.elements.roll=$dce("div"),this.elements.roll.className="panel_roll___"+this.getTheme("roll"),this.styles.roll(),this.controls.push(this.elements.roll),this.elements.titleBar.appendChild(this.elements.roll),this.elements.title.ondblclick=this.roll);this.options.control.setup&&(this.elements.setup=$dce("div"),this.elements.setup.className="panel_roll___"+this.getTheme("roll"),this.styles.setup(),this.controls.push(this.elements.setup),
this.elements.titleBar.appendChild(this.elements.setup));if(this.options.control.drag){var a=this.elements[this.options.elementToDrag];this.parent.dom.setStyle(this.elements.title,{cursor:this.options.cursorToDrag});this.drag=new this.parent.module.drag({link:{elements:[a],ref:!0===this.options.fx.shadow?[this.elements.containerWindow,this.elements.shadow]:[this.elements.containerWindow]},limit:this.options.limit||!1});this.drag.events={init:this.events.init,move:this.events.move,finish:this.events.finish.concat(function(a){a.options.position.x=
parseInt(a.elements.containerWindow.style.left,10);a.options.position.y=parseInt(a.elements.containerWindow.style.top,10)}.extend(this.drag,this))};this.drag.cursor=this.options.cursorToDrag;this.drag.make()}this.options.control.resize?(this.parent.dom.setStyle(this.elements.resize,{cursor:"nw-resize"}),this.resizeDrag=new this.parent.module.drag({link:{elements:[this.elements.resize],ref:[]},noCursorMove:!0}),this.resizeDrag.cursor="nw-resize",this.resizeDrag.events={init:function(a){this.panelBeginSize=
a.options.size}.extend(this.resizeDrag,this),move:function(a){a.resize({w:this.panelBeginSize.w+(this.currentCursorPosition.x-this.cursorStart.x),h:this.panelBeginSize.h+(this.currentCursorPosition.y-this.cursorStart.y)})}.extend(this.resizeDrag,this)},this.resizeDrag.make()):this.parent.dom.setStyle(this.elements.resize,{background:"transparent"})};this.makeTab=function(a){if(!0===this.loading)return!1;var b="vertical"===this.tab.display?"":"H",c=this.elements.tabOptions[this.tabSelected];c.className=
"panel_tabOptionSelected"+b+"___"+this.getTheme("tabOptionSelected");c.onmouseover=function(a,b){a=window.event?a:b;a.a.className=a.b}.args({a:c,b:"panel_tabOptionSelectedOver"+b+"___"+this.getTheme("tabOptionSelectedOver")});c.onmouseout=function(a,b){a=window.event?a:b;a.a.className=a.b}.args({a:c,b:"panel_tabOptionSelected"+b+"___"+this.getTheme("tabOptionSelected")});a||("vertical"===this.tab.display?(a=parseInt(this.parent.dom.getStyle(c,"width"),10)-(!this.parent.browser.isIE?3:0),this.parent.dom.setStyle(c,
{width:a,borderLeftWidth:4})):this.parent.dom.setStyle(c,{}));c.onmouseup=function(){return false};!1!==this.tabLastSelected&&(a=this.elements.tabOptions[this.tabLastSelected],a.className="panel_tabOption"+b+"___"+this.getTheme("tabOption"),a.onmouseover=function(a,b){a=window.event?a:b;a.a.className=a.b}.args({a:a,b:"panel_tabOptionOver"+b+"___"+this.getTheme("tabOptionOver")}),a.onmouseout=function(a,b){a=window.event?a:b;a.a.className=a.b}.args({a:a,b:"panel_tabOption"+b+"___"+this.getTheme("tabOption")}),
a.onmouseup=function(a,b){if(this.tab.manualDisabled)return false;this.tabSelected=this.parent.browser.isIE?a:b;this.makeTab();return false}.extend(this,this.tabLastSelected),"vertical"===this.tab.display?this.parent.dom.setStyle(a,{width:parseInt(this.parent.dom.getStyle(c,"width"),10)+(!this.parent.browser.isIE?3:0),borderLeftWidth:1}):this.parent.dom.setStyle(a,{}),this.parent.dom.setStyle(a,this.setStyle.tabOption||{}));if("undefined"!=typeof this.flag)return delete this.flag,!0;this.parent.dom.setStyle(c,
this.setStyle.tabOptionSelected||{});this.tab.options[this.tabSelected].noClear||this.clearContent();this.addContent(this.tab.options[this.tabSelected].content);this.tabLastSelected=this.tabSelected;return!0};this.selectTab=function(a){if(a>=this.elements.tabOptions.length)return!1;this.tabSelected===a&&(this.tabLastSelected=!1);this.tabSelected=a;this.makeTab(!1===this.tabLastSelected?!0:!1);return!0};this.shadowReIndex=function(){this.parent.dom.setStyle(this.elements.shadow,{zIndex:this.zIndex-
2})};this.reIndexElements=function(){};this.controlPosition=function(){return 3*(this.controls.length+1)+this.controlSize.w*this.controls.length};this.makeTmpDB=function(){this.parent.tmp.panel||(this.parent.tmp.panel={},this.parent.tmp.panel.zIndex=100)};this.makezIndex=function(){this.parent.tmp.panel.zIndex+=this.stepZindex;return this.parent.tmp.panel.zIndex};this.target=function(){return this.options.target?this.options.target:this.parent.dom.capture("tag.body 0")};this.spaceOutPanel=function(){var a=
parseInt(this.parent.dom.getStyle(this.elements.content,"marginLeft")||0,10)+parseInt(this.parent.dom.getStyle(this.elements.content,"marginRight")||0,10),b=parseInt(this.parent.dom.getStyle(this.elements.content,"marginTop")||0,10)+parseInt(this.parent.dom.getStyle(this.elements.content,"marginBottom")||0,10),c=parseInt(this.parent.dom.getStyle(this.elements.content,"paddingLeft")||0,10)+parseInt(this.parent.dom.getStyle(this.elements.content,"paddingRight")||0,10),d=parseInt(this.parent.dom.getStyle(this.elements.content,
"paddingTop")||0,10)+parseInt(this.parent.dom.getStyle(this.elements.content,"paddingBottom")||0,10),e=parseInt(this.parent.dom.getStyle(this.elements.content,"borderLeftWidth")||1,10)+parseInt(this.parent.dom.getStyle(this.elements.content,"borderRightWidth")||1,10),f=parseInt(this.parent.dom.getStyle(this.elements.content,"borderTopWidth")||1,10)+parseInt(this.parent.dom.getStyle(this.elements.content,"borderBottomWidth")||1,10);return{x:a+c+e,y:b+d+f}};this.roll=function(){if(this.rolling)return!1;
!0===this.inroll?(this.rolling=!0,this.inroll=!1,this.parent.dom.setStyle(this.elements.containerWindow,{overflow:"hidden",width:this.lastWidth}),this.parent.dom.setStyle([this.elements.content,this.elements.statusBar],{display:"block"}),(new this.parent.module.fx.algorithm).make({transition:"sineOut",duration:1E3,begin:this.elements.containerWindow.offsetHeight,end:this.options.size.h,onTransition:function(a){this.parent.dom.setStyle([this.elements.containerWindow],{height:a.result});this.options.fx.shadow&&
this.styles.shadow()}.extend(this),onFinish:function(){this.parent.dom.setStyle([this.elements.containerWindow],{height:this.options.size.h});this.options.fx.shadow&&this.styles.shadow();this.parent.dom.setStyle(this.elements.frontend,{width:"auto"});this.rolling=!1;return(this.events.roll||function(){})()}.extend(this)})):(this.inroll=this.rolling=!0,this.lastWidth=this.options.size.w||this.elements.containerWindow.offsetWidth,this.parent.dom.setStyle(this.elements.containerWindow,{overflow:"hidden",
width:this.options.fx.rollWidth||this.lastWidth}),(new this.parent.module.fx.algorithm).make({transition:"sineOut",duration:1E3,begin:this.elements.containerWindow.offsetHeight,end:this.elements.titleBar.offsetHeight,onTransition:function(a){this.parent.dom.setStyle([this.elements.containerWindow],{height:a.result});this.options.fx.shadow&&this.styles.shadow()}.extend(this),onFinish:function(){this.parent.dom.setStyle([this.elements.containerWindow],{height:this.elements.titleBar.clientHeight});this.parent.dom.setStyle([this.elements.content,
this.elements.statusBar],{display:"none"});this.options.fx.shadow&&this.styles.shadow();this.parent.dom.setStyle(this.elements.frontend,{width:"100%"});this.rolling=!1;return(this.events.roll||function(){})()}.extend(this)}))};this.remove=function(){if(!0===this.inRemove)return!1;this.inRemove=!0;var a=[];!0===this.options.fx.fadeOut&&a.push(this.elements.containerWindow);this.options.fx.shadow&&a.push(this.elements.shadow);this.options.fx.modal&&a.push(this.elements.modal);if(this.events.remove){this.events.remove=
this.events.remove.isArray?this.events.remove:[this.events.remove];for(var b=0;b<this.events.remove.length;b++)if("function"==typeof this.events.remove[b])this.events.remove[b]()}if(!0===this.cancelClose)return!1;if(!0===this.options.fx.fadeOut)(new this.parent.module.fx.fade).make({duration:500,end:0,dom:a,onFinish:function(){this.drag&&this.drag.flush();for(var a in this.elements)this.elements.propertyIsEnumerable(a)&&(this.parent.dom.remove(this.elements[a]),delete this.elements[a])}.extend(this)});
else for(b in this.drag&&this.drag.flush(),this.elements)this.elements.propertyIsEnumerable(b)&&(this.parent.dom.remove(this.elements[b]),delete this.elements[b]);return!1};this.addContent=function(a){var b=!1;"string"==typeof a?(this.elements.content.innerHTML+=a,b=!0):"object"==typeof a?(this.elements.content.appendChild(a),b=!0):"function"==typeof a&&a();return b};this.open=function(a){a={proxy:!1}.concat(a||{});this.clearContent();!1===a.proxy?a.url?(a=new this.parent.module.rpc.xmlhttp({url:a.url,
method:"GET"}),this.loader.show(),a.callback=function(a){this.loader.hide();var a=a.xmlhttp.responseText,c=a.extractScript();this.addContent(a);c.evalScript();a=this.elements.content.getElementsByTagName("form");for(c=0;c<a.length;c++)(new leimnud.module.app.submit({form:a[c]})).callback=function(){}}.extend(this),a.make()):a.html?this.addContent(a.html):a.image&&this.addContent("<div style='text-align:center;'><img src=\""+a.image+'" /></div>'):this.addContent(new DOM("iframe",{src:a.url},{border:"0px solid red",
height:"100%",width:"100%"}));return!0};this.clearContent=function(){this.elements.content.innerHTML="";return!0};this.addContentTitle=function(a){return"string"==typeof a?(this.elements.title.innerHTML=a,!0):"object"==typeof a?(this.elements.title.appendChild(a),!0):!1};this.addContentStatus=function(a){"string"==typeof a?this.elements.status.innerHTML+=a:"object"==typeof a&&this.elements.status.appendChild(a);this.showing.status||this.status.show();return!0};this.clearContentStatus=function(){this.elements.status.innerHTML=
"";return!0};this.fx={setOpacity:function(){this.parent.dom.setStyle(this.elements.containerWindow,{opacity:this.styles.fx.opacityPanel.Move/100,filter:"alpha(opacity="+this.styles.fx.opacityPanel.Move+")"});!0===this.options.fx.shadow&&this.parent.dom.setStyle(this.elements.shadow,{opacity:this.styles.fx.opacityShadow.Move/100,filter:"alpha(opacity="+this.styles.fx.opacityShadow.Move+")"})},unsetOpacity:function(){this.parent.dom.setStyle(this.elements.containerWindow,{opacity:this.styles.fx.opacityPanel.Static/
100,filter:"alpha(opacity="+this.styles.fx.opacityPanel.Static+")"});!0===this.options.fx.shadow&&this.parent.dom.setStyle(this.elements.shadow,{opacity:this.styles.fx.opacityShadow.Static/100,filter:"alpha(opacity="+this.styles.fx.opacityShadow.Static+")"})}}.expand(this);this.styles={containerWindow:function(){var a,b;this.options.size.w=this.options.size.w||200;this.options.size.h=this.options.size.h||200;this.options.intoDOM?(a=this.target().offsetWidth/2+this.target().scrollLeft-this.options.size.w/
2,b=this.target().offsetHeight/2+this.target().scrollTop-this.options.size.h/2):(b=this.parent.dom.getPageScroll(),this.parent.dom.get_doc(),a=this.parent.dom.get_doc().clientWidth/2+b[0]-this.options.size.w/2,b=this.parent.dom.get_doc().clientHeight/2+b[1]-this.options.size.h/2);!0===this.options.position.center?(this.options.position.x=a,this.options.position.y=b):!0===this.options.position.centerX||!0===this.options.position.centerY?(this.options.position.x=!0===this.options.position.centerX?a:
this.options.position.x||0,this.options.position.y=!0===this.options.position.centerY?b:this.options.position.y||0):(this.options.position.x=this.options.position.x||0,this.options.position.y=this.options.position.y||0);this.options.strict_position&&(this.options.position.x=0>this.options.position.x?0:this.options.position.x,this.options.position.y=0>this.options.position.y?0:this.options.position.y);this.zIndex=this.options.zIndex||this.makezIndex();this.parent.dom.setStyle(this.elements.containerWindow,
{width:this.options.size.w,height:this.options.size.h,position:"absolute",left:this.options.position.x,top:this.options.position.y,opacity:this.styles.fx.opacityPanel.Static/100,filter:"alpha(opacity="+this.styles.fx.opacityPanel.Static+")",zIndex:this.zIndex});this.parent.dom.setStyle(this.elements.containerWindow,this.setStyle.containerWindow||{})},frontend:function(){this.parent.dom.setStyle(this.elements.frontend,{width:this.parent.browser.isIE?"auto":"100%"});this.parent.dom.setStyle(this.elements.frontend,
this.setStyle.frontend||{})},backend:function(){this.parent.dom.setStyle(this.elements.backend,{});this.parent.dom.setStyle(this.elements.backend,this.setStyle.backend||{})},loader:function(){this.parent.dom.setStyle(this.elements.loader,{background:"url('/images/classic/loader_B.gif')",backgroundRepeat:"no-repeat",width:32,height:32,position:"absolute",display:"none"});this.parent.dom.setStyle(this.elements.loader,this.setStyle.loader||{})},iframe:function(){this.parent.dom.setStyle(this.elements.iframe,
{});this.parent.dom.setStyle(this.elements.iframe,this.setStyle.iframe||{})},titleBar:function(){this.parent.dom.setStyle(this.elements.titleBar,{display:!this.options.titleBar?"none":""});this.parent.dom.setStyle(this.elements.titleBar,this.setStyle.titleBar||{})},title:function(){this.parent.dom.setStyle(this.elements.title,{});this.parent.dom.setStyle(this.elements.title,this.setStyle.title||{})},roll:function(){this.parent.dom.setStyle(this.elements.roll,{right:this.controlPosition(),height:this.controlSize.h,
width:this.controlSize.w});this.parent.dom.setStyle(this.elements.roll,this.setStyle.roll||{});this.parent.event.add(this.elements.roll,"mouseup",this.roll,!1)},setup:function(){this.parent.dom.setStyle(this.elements.setup,{right:this.controlPosition(),height:this.controlSize.h,width:this.controlSize.w});this.parent.dom.setStyle(this.elements.setup,this.setStyle.setup||{});this.parent.event.add(this.elements.setup,"mouseup",this.options.setup&&"function"==typeof this.options.setup?this.options.setup:
function(){return!1},!1)},close:function(){this.parent.dom.setStyle(this.elements.close,{height:this.controlSize.h,right:this.controlPosition(),width:this.controlSize.w});this.parent.dom.setStyle(this.elements.close,this.setStyle.close||{});this.parent.event.add(this.elements.close,"mouseup",this.remove,!1)},headerBar:function(){this.parent.dom.setStyle(this.elements.headerBar,{display:!this.options.headerBar?"none":"block"});this.parent.dom.setStyle(this.elements.headerBar,this.setStyle.headerBar||
{})},shadow:function(){this.parent.dom.setStyle(this.elements.shadow,{width:this.elements.containerWindow.offsetWidth,height:this.elements.containerWindow.offsetHeight,top:parseInt(this.parent.dom.getStyle(this.elements.containerWindow,"top"),10)+2,left:parseInt(this.parent.dom.getStyle(this.elements.containerWindow,"left"),10)+2,opacity:this.styles.fx.opacityShadow.Static/100,filter:"alpha(opacity="+this.styles.fx.opacityShadow.Static+")",zIndex:this.zIndex-2});this.parent.dom.setStyle(this.elements.shadow,
this.setStyle.shadow||{})},modal:function(){var a=[this.parent.dom.get_doc().scrollWidth,this.parent.dom.get_doc().scrollHeight];this.parent.dom.setStyle(this.elements.modal,{height:a[1],width:a[0],position:"absolute",zIndex:this.zIndex-3});!0===this.options.fx.fadeIn?(new this.parent.module.fx.fade).make({duration:1E3,end:this.styles.fx.opacityModal.Static/100,dom:this.elements.modal}):this.parent.dom.opacity(this.elements.modal,this.styles.fx.opacityModal.Static);this.parent.dom.setStyle(this.elements.modal,
this.setStyle.modal||{})},tab:function(){this.tab={display:"horizontal",initIn:20,step:5,optHeight:20,widthFixed:!0,optWidth:this.tab.width-4}.concat(this.tab);var a="vertical"===this.tab.display?"":"H",b=this.options.size.h-(this.elements.titleBar.offsetHeight+this.elements.statusBar.offsetHeight),c=this.elements.titleBar.offsetHeight+this.elements.headerBar.offsetHeight;this.spaceOutPanel();this.tab.width="vertical"===this.tab.display?this.tab.options?this.tab.width?this.tab.width:80:0:4;this.parent.dom.setStyle(this.elements.tab,
this.setStyle.tab||{});if(this.tab.options){this.parent.dom.setStyle(this.elements.tab,{height:"vertical"===this.tab.display?b:this.tab.optHeight+4+(this.parent.browser.isIE?14:0),width:"vertical"===this.tab.display?this.tab.width:this.options.size.w-8,top:c,left:"vertical"===this.tab.display?0:4});this.tabLastSelected=this.tabSelected=!1;this.tab.diffWidthBugPadding=this.parent.browser.isIE?0:20;this.elements.tabOptions=[];for(c=b=0;c<this.tab.options.length;c++){var d=this.tab.initIn+this.tab.step*
c+this.tab.optHeight*c,e=this.tab.initIn+(!0===this.tab.widthFixed?this.tab.optWidth*c:b)+this.tab.step*c,f=$dce("div");this.parent.dom.setStyle(f,{padding:5,paddingLeft:"vertical"===this.tab.display?15:5,paddingTop:"vertical"===this.tab.display?5:4,width:this.tab.widthFixed?this.tab.optWidth-("vertical"===this.tab.display?this.tab.diffWidthBugPadding:10):"undefined"!==typeof mb_strlen?0.6*mb_strlen(this.tab.options[c].title||"")+"em":"auto",position:"absolute",left:"vertical"===this.tab.display?
this.tab.width-this.tab.optWidth-(this.parent.browser.isIE?-1:1):e,top:"vertical"===this.tab.display?d:0,bottom:"vertical"===this.tab.display?"auto":0});f.innerHTML=this.tab.options[c].title||"";!0===this.tab.options[c].selected?(this.tabSelected=c,f.className="panel_tabOptionSelected"+a+"___"+this.getTheme("tabOptionSelected")):(f.className="panel_tabOption"+a+"___"+this.getTheme("tabOption"),f.onmouseover=function(a,b){a=window.event?a:b;a.a.className=a.b}.args({a:f,b:"panel_tabOptionOver"+a+"___"+
this.getTheme("tabOptionOver")}),f.onmouseout=function(a,b){a=window.event?a:b;a.a.className=a.b}.args({a:f,b:"panel_tabOption"+a+"___"+this.getTheme("tabOption")}),this.parent.dom.setStyle(f,this.setStyle.tabOption||{}),f.onmouseup=function(a,b){if(this.tab.manualDisabled)return!1;this.tabSelected=this.parent.browser.isIE?a:b;this.makeTab();return!1}.extend(this,c));this.elements.tab.appendChild(f);b+=f.clientWidth;this.elements.tabOptions.push(f)}this.tabSelected=!1===this.tabSelected?0:this.tabSelected;
this.makeTab()}},content:function(){var a=this.tab.options?parseInt(this.parent.dom.getStyle(this.elements.tab,"width"),10):4,b=this.tab.options?parseInt(this.parent.dom.getStyle(this.elements.tab,"height"),10)-1:4;this.parent.dom.setStyle(this.elements.content,{borderTopWidth:!this.options.titleBar?0:"auto",margin:4,marginLeft:"vertical"===this.tab.display?a:4,marginTop:"vertical"===this.tab.display?4:b});b=this.options.size.h-(this.elements.titleBar.offsetHeight+this.elements.statusBar.offsetHeight+
this.elements.headerBar.offsetHeight)-(this.tab.options?20:0);this.parent.dom.setStyle(this.elements.content,this.setStyle.content||{});a=this.spaceOutPanel();b-=a.y;a=this.options.size.w-a.x;this.parent.dom.setStyle(this.elements.content,{height:b,width:a});this.originalContent={w:a,h:b}},statusBar:function(){this.options.statusBar||(this.showing.status=!1,this.parent.dom.setStyle(this.elements.statusBar,{display:"none"}));this.parent.dom.setStyle(this.elements.statusBar,this.setStyle.statusBar||
{})},status:function(){this.parent.dom.setStyle(this.elements.status,{display:this.options.control.resize&&!this.options.statusBarButtons?"":"none"});this.parent.dom.setStyle(this.elements.status,this.setStyle.status||{})},statusButtons:function(){this.parent.dom.setStyle(this.elements.statusButtons,{position:"relative",textAlign:"center",display:this.options.statusBarButtons?"":"none"});this.parent.dom.setStyle(this.elements.statusButtons,this.setStyle.statusButtons||{})},resize:function(){this.parent.dom.setStyle(this.elements.resize,
{});this.parent.dom.setStyle(this.elements.resize,this.setStyle.resize||{})},fx:{opacityShadow:{Static:20,Move:5},opacityModal:{Static:40,Move:10},opacityPanel:{Static:100,Move:50}},tabCSS:{over:function(a,b){b=this.parent.browser.isIE?a:b;this.parent.dom.setStyle(b,{})},out:function(a,b){b=this.parent.browser.isIE?a:b;this.parent.dom.setStyle(b,{})},sover:function(a,b){b=this.parent.browser.isIE?a:b;this.parent.dom.setStyle(b,{cursor:"default"})},sout:function(a,b){b=this.parent.browser.isIE?a:b;
this.parent.dom.setStyle(b,{})},sel:{font:"normal 8pt Tahoma,MiscFixed",border:"1px solid #A3A2BC",borderRight:"1px solid #FFF",backgroundColor:"white",fontWeight:"bold",textAlign:"left",color:"#000000"},def:{font:"normal 8pt Tahoma,Miscfixed",border:"1px solid #A3A2BC",margin:0,fontWeight:"normal",color:"#000000",backgroundColor:"EEEEEE",textAlign:"left",cursor:"default"}}}.expand(this,!0);this.makeTheme=function(){this.themesDefault=["processmaker_fixed","panel","firefox"];this.theme=this.options.theme||
"firefox";this.themesDefault.inArray(this.theme)&&(this.theme="processmaker")};this.getTheme=function(a){return this.customTheme&&this.customTheme[a]?this.customTheme[a]:this.theme};this.command=function(a,b,c){"function"===typeof a&&this.parent.exec(a,b||!1,c||!1,this)};this.loader={show:function(){this.loading=!0;var a=this.tab.options?parseInt(this.parent.dom.getStyle(this.elements.tab,"height"),10)-1:0;this.parent.dom.setStyle(this.elements.loader,{top:this.options.size.h/2-16+a,left:this.options.size.w/
2-16,display:"block"})},hide:function(){this.parent.dom.setStyle(this.elements.loader,{display:"none"});this.loading=!1}}.expand(this);this.status={show:function(){var a=this.elements.status.offsetHeight,b=parseInt(this.parent.dom.getStyle(this.elements.content,"height"),10);this.parent.dom.setStyle([this.elements.status,this.elements.statusBar],{display:""});this.parent.dom.setStyle(this.elements.content,{height:b-(this.elements.statusBar.offsetHeight-a)});this.showing.status=!0},hide:function(){if(!0===
this.showing.status){var a=parseInt(this.parent.dom.getStyle(this.elements.statusBar,"height"),10),b=parseInt(this.parent.dom.getStyle(this.elements.content,"height"),10);this.parent.dom.setStyle(this.elements.statusBar,{display:"none"});this.parent.dom.setStyle(this.elements.content,{height:b+a});this.showing.status=!1}},write:function(){}}.expand(this);this.expand(this)}});
leimnud.Package.Public({info:{Class:"maborak",File:"module.validator.js",Name:"validator",Type:"module",Version:"1.4"},content:function(a){this.valid=a.valid||!1;this.invalid=a.invalid||!1;this.validArray=this.valid.isArray?this.valid:[];this.invalidArray=this.invalid.isArray?this.invalid:[];this.add=a.add||!1;this.generateKeys=function(){this.keys=[];this.keys.es=[];this.keys.es.Alpha=["abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","\u00e1\u00e9\u00ed\u00f3\u00fa\u00f1\u00c1\u00c9\u00cd\u00d3\u00da\u00d1\u00fc\u00ef\u00dc\u00cf",
" "];this.keys.es.Int=[[47,57]].concat("+-");this.keys.es.Real=[[48,57]].concat(".,-+");this.keys.es.Any=this.keys.es.Alpha.concat("!#$%&/()=???+*{}[]-_.:,;'|\"\\@",[[48,57]]);this.keys.es.AlphaNum=this.keys.es.Int.concat(this.keys.es.Alpha[0],this.keys.es.Alpha[1]," ");this.keys.es.Field=["abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_"];this.keys.es.Email=[this.keys.es.Alpha[0]].concat("._-@1234567890");this.keys.es.Login=[this.keys.es.Alpha[0]].concat("._-@1234567890");this.keys.es.Path=
this.keys.es.Field.concat("/"," ");this.keys.es.NodeName=this.keys.es.Field.concat("-");this.keys.en=[];this.keys.en.Alpha=[this.keys.es.Alpha[0]];this.keys.en.Int=[[48,57]].concat("+-");this.keys.en.Real=[[48,57]].concat(".,-+");this.keys.en.Any=this.keys.en.Alpha.concat("!#$%&/()=???+*{}[]-_.:,;'|\"\\@",[[48,57]]);this.keys.en.AlphaNum=this.keys.en.Int.concat(this.keys.en.Alpha[0]," ");this.keys.en.Field=this.keys.es.Field;this.keys.en.Email=[this.keys.es.Alpha[0]].concat("._-@1234567890");this.keys.en.Login=
[this.keys.es.Alpha[0]].concat("._-@1234567890");this.keys.en.Path=this.keys.es.Field.concat("/"," ");this.keys.en.Tag=this.keys.es.Field.concat(","," ");this.keys.en.NodeName=this.keys.es.Field.concat("-");return this.keys[this.lang][this.type]?this.keys[this.lang][this.type]:this.keys[this.lang].Alpha};this.result=function(){if("any"==this.validArray[0].toLowerCase())return!0;this.key=this.isNumber(a.key)?a.key:"object"==typeof a.key?a.key.which?a.key.which:a.key.keyCode:!1;this.lang=a.lang||"en";
for(var b=!0,c=0;c<this.validArray.length;c++)if(this.type=this.validArray[c],b=this.engine(this.generateKeys()),!0===b)return!0;0===this.validArray.length&&(b=this.engine([]));return b};this.isNumber=function(a){return 0<=a?!0:!1};this.compareChar=function(a,c){for(var d=0,e=!1;d<a.length&&!e;)e=a.charCodeAt(d)==c,d++;return e};this.isAlfaUS=function(){patron=[];patron[0]=validator.keys.alfa[0];patron[1]=validator.keys.alfa[2];return patron};this.isAlfa=function(){return patron=validator.keys.alfa};
this.checkAdd=function(a){return this.add?a.concat(this.add):a};this.engine=function(a){this.patron=this.checkAdd(a);for(var a=!1,c=0;c<this.patron.length;c++){var d=typeof this.patron[c];"string"==d?a=this.compareChar(this.patron[c],this.key):"object"==d?a=this.key>=this.patron[c][0]&&this.key<=this.patron[c][1]?!0:!1:"number"==d&&(a=this.key==this.patron[c]?!0:!1);if(!0===a)return!0}return a}}});
leimnud.Package.Public({info:{Class:"maborak",File:"module.app.js",Name:"app",Type:"module",Version:"0.1"},content:{line:function(a){this.options=a||{};this.make=function(){this.options.concat(this.coords());this.direction=this.getDirection();this.lines=this.createLines();this.elements=[];for(var a=0;5>a;a++){var c=$dce("div");this.parent.dom.setStyle(c,{position:"absolute",width:this.options.size||1,height:this.options.size||1,border:"0px solid red",overflow:"hidden",backgroundColor:this.options.color||
"black",zIndex:this.options.zIndex||4});this.options.target.appendChild(c);this.elements.push(c)}a=$dce("img");a.src=this.options.arrow||this.parent.info.base+"/images/arrowB.gif";this.parent.dom.setStyle(a,{position:"absolute",width:9,height:9,zIndex:this.options.zIndex||4});!1!==this.options.arrow&&this.options.target.appendChild(a);this.elements.push(a);this.paint()};this.changed=function(){var a=this.coords();return this.options.x1!==a.x1||this.options.y1!==a.y1||this.options.x2!==a.x2||this.options.y2!==
a.y2?!0:!1};this.remove=function(){this.parent.dom.remove(this.elements)};this.coords=function(){var a=this.options.elements[0],c=this.options.elements[1],d=this.parent.browser.isGK?1:0;return{x1:parseInt(a.style.left,10)+a.offsetWidth/2-d,y1:parseInt(a.style.top,10)+a.offsetHeight,x2:parseInt(c.style.left||0,10)+c.offsetWidth/2-d,y2:parseInt(c.style.top||0,10)}};this.getDirection=function(){return{l:this.options.x2<this.options.x1?!0:!1,r:this.options.x2>this.options.x1?!0:!1,t:this.options.y2<this.options.y1?
!0:!1,b:this.options.y2>this.options.y1?!0:!1}};this.createLines=function(){return this.direction.t?5:3};this.kase=function(){var a;this.options.y2>this.options.y1&&this.options.x2<this.options.x1?a=1:this.options.y1>this.options.y2&&this.options.x2<=this.options.x1?a=2:this.options.y2>this.options.y1&&this.options.x2>this.options.x1?a=3:this.options.y1>this.options.y2&&this.options.x2>this.options.x1?a=4:this.options.y2>this.options.y1&&this.options.x1===this.options.x2&&(a=1);return a};this.paint=
function(){this.rootSize=this.options.indexRootSize||15;this.rootLastSize=this.options.indexRootLastSize||15;this.codo=[];var a=(this.options.y2-this.options.y1)/2;this.codo[0]={x:this.options.x1,y:this.options.y1+a};this.codo[1]={x:this.options.x2,y:this.codo[0].y};1==this.kase()?(this.parent.dom.setStyle(this.elements[0],{height:a,top:this.options.y1,left:this.codo[0].x}),this.parent.dom.setStyle(this.elements[1],{width:this.codo[0].x-this.codo[1].x,top:this.codo[1].y,left:this.codo[1].x}),this.parent.dom.setStyle(this.elements[2],
{top:this.codo[1].y,left:this.codo[1].x,height:a})):3==this.kase()?(this.parent.dom.setStyle(this.elements[0],{height:a,top:this.options.y1,left:this.codo[0].x}),this.parent.dom.setStyle(this.elements[1],{width:this.codo[1].x-this.codo[0].x,top:this.codo[0].y,left:this.codo[0].x}),this.parent.dom.setStyle(this.elements[2],{top:this.codo[1].y,left:this.codo[1].x,height:a})):2==this.kase()?(this.codo[0]={x:this.options.x1,y:this.options.y1+this.rootSize+1},this.codo[3]={x:this.options.x2,y:this.options.y2-
this.rootLastSize},this.codo[2]={x:this.codo[0].x+(this.options.elements[0].offsetWidth/2+this.rootSize),y:this.codo[3].y},this.codo[1]={x:this.codo[2].x,y:this.codo[0].y},this.parent.dom.setStyle(this.elements[0],{height:this.codo[0].y-this.options.y1+1,top:this.options.y1,left:this.options.x1}),this.parent.dom.setStyle(this.elements[1],{width:this.codo[1].x-this.codo[0].x,top:this.codo[0].y,left:this.codo[0].x}),this.parent.dom.setStyle(this.elements[2],{top:this.codo[2].y,left:this.codo[2].x,height:this.codo[1].y-
this.codo[2].y}),this.parent.dom.setStyle(this.elements[3],{top:this.codo[3].y,left:this.codo[3].x,width:this.codo[2].x-this.codo[3].x}),this.parent.dom.setStyle(this.elements[4],{top:this.codo[3].y,left:this.codo[3].x,height:this.options.y2-this.codo[3].y})):4==this.kase()&&(this.codo[0]={x:this.options.x1,y:this.options.y1+this.rootSize},this.codo[3]={x:this.options.x2,y:this.options.y2-this.rootLastSize},this.codo[2]={x:this.codo[0].x-(this.options.elements[0].offsetWidth/2+this.rootSize),y:this.codo[3].y},
this.codo[1]={x:this.codo[2].x,y:this.codo[0].y},this.parent.dom.setStyle(this.elements[0],{height:this.codo[0].y-this.options.y1,top:this.options.y1,left:this.options.x1}),this.parent.dom.setStyle(this.elements[1],{width:this.codo[0].x-this.codo[1].x,top:this.codo[1].y,left:this.codo[1].x}),this.parent.dom.setStyle(this.elements[2],{top:this.codo[2].y,left:this.codo[2].x,height:this.codo[1].y-this.codo[2].y}),this.parent.dom.setStyle(this.elements[3],{top:this.codo[2].y,left:this.codo[2].x,width:this.codo[3].x-
this.codo[2].x}),this.parent.dom.setStyle(this.elements[4],{top:this.codo[3].y,left:this.codo[3].x,height:this.options.y2-this.codo[3].y}));this.parent.dom.setStyle(this.elements[5],{top:this.options.y2-7,left:this.options.x2-4})};this.update=function(){this.changed()&&(this.options.concat(this.coords()),0===this.kase()%2?(this.elements[3].style.visibility="visible",this.elements[4].style.visibility="visible"):(this.elements[3].style.visibility="hidden",this.elements[4].style.visibility="hidden"),
this.paint())};this.expand(this)},menuRight:function(){this.elements={};this.make=function(a){this.options={bubble:!0,theme:"firefox"}.concat(a||{});if(!this.validate()||this.options.auto_event)return!1;this.parent.event.add(this.options.targetRemove||this.options.target,"click",this.updateObservers);this.options.target.oncontextmenu=this.menu};this.menu=function(a){this.evt=a||this.options.auto_event||!1;this.updateObservers();this.parent.dom.bubble(!1,this.evt);this.maked=!0;this.cursor=this.options.auto_event?
this.options.auto_position:this.parent.dom.mouse(this.evt);this.positionTarget=this.parent.dom.position(this.options.target);this.elements.shadow=$dce("div");this.elements.shadow.className="app_menuRight_shadow___"+this.options.theme;this.elements.container=$dce("div");this.elements.container.className="app_menuRight_container___"+this.options.theme;this.parent.dom.setStyle(this.elements.container,{width:this.options.width||150,left:this.cursor.x-5,top:this.cursor.y-5});this.parent.dom.capture("tag.body 0").appendChild(this.elements.shadow);
this.parseOptionsMenu();this.parent.dom.capture("tag.body 0").appendChild(this.elements.container);this.parent.dom.setStyle(this.elements.shadow,{width:this.elements.container.clientWidth,height:this.elements.container.clientHeight,left:this.cursor.x-(this.parent.browser.isIE?1:3),top:this.cursor.y-(this.parent.browser.isIE?1:3)});this.parent.dom.nullContextMenu([this.elements.container]);return!1};this.parseOptionsMenu=function(){for(var a=0,b=0;b<this.options.menu.length;b++){if("undefined"==typeof this.options.menu[b].separator){var c=
$dce("div");c.className="app_menuRight_option___"+this.options.theme;this.elements.container.appendChild(c);var d=$dce("div");d.innerHTML="";d.className="app_menuRight_option_image___"+this.options.theme;this.parent.dom.setStyle(d,{});c.appendChild(d);var e;this.options.menu[b].image&&(e=$dce("img"),e.className="app_menuRight_option_image_element___"+this.options.theme,e.src=this.options.menu[b].image,d.appendChild(e));e=$dce("div");e.className="app_menuRight_option_text___"+this.options.theme;e.innerHTML=
this.options.menu[b].text||"";c.appendChild(e);this.parent.dom.setStyle(c,{});this.options.menu[b].submenu||(c.onclick=this.launch.args(b));c.onmouseover=function(a,b){c=this.parent.browser.isIE?a:b;var d=c.i;c.a.className="app_menuRight_option_over___"+this.options.theme;c.b.className="app_menuRight_option_image_over___"+this.options.theme;if(this.submenu&&this.submenu_current_i!=d){this.submenu.remove();delete this.submenu;this.submenu_current_d.a.className="app_menuRight_option___"+this.options.theme;
this.submenu_current_d.b.className="app_menuRight_option_image___"+this.options.theme}if(this.submenu&&this.submenu_current_i==d)return false;if(this.options.menu[d].submenu){this.parent.dom.mouse(this.evt);var e=this.parent.dom.position(c.a,true);this.submenu_current_i=d;this.submenu_current_d=c;this.submenu=new this.parent.module.app.menuRight;this.submenu.make({target:c.a,width:201,auto_event:this.evt,auto_position:{x:e.x-5,y:e.y-15},parent_menu:this,theme:this.options.theme,menu:this.options.menu[d].submenu});
this.submenu.menu();this.parent.event.add(this.options.targetRemove||this.options.target,"click",this.submenu.updateObservers)}}.extend(this,{a:c,b:d,i:b});c.onmouseout=function(a,b){var c=this.parent.browser.isIE?a:b;if(this.submenu)return false;c.a.className="app_menuRight_option___"+this.options.theme;c.b.className="app_menuRight_option_image___"+this.options.theme}.extend(this,{a:c,b:d});this.parent.dom.nullContextMenu([d,e,c])}else c=$dce("div"),c.className="app_menuRight_optionNull___"+this.options.theme,
this.elements.container.appendChild(c),d=$dce("div"),d.innerHTML="",d.className="app_menuRight_option_imageNull___"+this.options.theme,c.appendChild(d),d=$dce("div"),d.className="app_menuRight_separator___"+this.options.theme,c.appendChild(d),this.parent.dom.setStyle([c,d],{height:this.parent.browser.isIE?2:0});a++}};this.launch=function(a,b){this.options.parent_menu&&this.options.parent_menu.updateObservers();this.remove();var b=this.parent.browser.isIE?a:b,c=this.options.menu[b];c&&"function"==
typeof c.launch&&c.launch(a)};this.validate=function(){this.options.target=this.parent.dom.element(this.options.target);return!this.options.target||!this.options.menu?!1:!0};this.updateObservers=function(){try{this.observer.update()}catch(a){this.remove()}};this.remove=function(){!0===this.maked&&(this.parent.dom.remove(this.elements.container),this.parent.dom.remove(this.elements.shadow),this.maked=!1)};this.expand(this)},submit:function(a){this.options={inProgress:function(){},callback:function(){}}.concat(a||
{});if(!this.parent.dom.element(this.options.form))return!1;this.make=function(a,c){var d=!0;if((a=c||a)&&"function"===typeof a)if(d=a(),!1===d)return!1;this.options.inProgress(this.options.form);d=new this.parent.dom.serializer(this.options.form,!1);this.rpc=new this.parent.module.rpc.xmlhttp({url:this.options.form.action,method:this.options.form.method,args:d.form()});this.rpc.callback=this.options.callback;this.rpc.make();return!1};this.expand(this);this.options.form.onsubmit=this.make.args(this.options.form.onsubmit)},
iframe:function(a,b){this.element=this.parent.dom.element(a);this.post=!0===b?!0:!1;if(!this.element)return!1;var c=this.element.getElementsByTagName("a");this.href=function(a,b){b=b||a;link=b.l;onCl=b.c;var c=link.target&&this.parent.dom.element(link.target)?this.parent.dom.element(link.target):this.element,d=!0;if(onCl&&"function"===typeof onCl&&(d=onCl(),!1===d))return!1;if(this.post){var j=link.href.split("?");this.url=j[0]}else this.url=link.href;d=new this.parent.module.rpc.xmlhttp({url:this.url,
nocache:!0,method:!0===this.post?"POST":"GET",args:!0===this.post&&j[1]?j[1]:""});d.callback=function(a,b){b.innerHTML=a.xmlhttp.responseText;new this.parent.module.app.iframe(b,this.post)}.extend(this,c);d.make();return!1};this.expand(this);for(var d=0;d<c.length;d++)c[d].onclick=this.href.args({l:c[d],c:c[d].onclick})},lightbox:function(){this.inPlay=!1;this.make=function(a){this.options={initIn:0,counter:!0,target:document.body,resize:!0,size:{w:400,h:310},position:{x:0,y:0,center:!0},images:[]}.concat(a||
{});this.windowImage();this.image=$dce("img");this.image.id=this.id;this.panel.elements.content.appendChild(this.image);this.load(this.options.initIn)};this.windowImage=function(){this.panel=new this.parent.module.panel;this.panel.options={size:this.options.size,position:this.options.position,title:"",theme:"firefox",target:this.options.target,statusBar:!0,limit:!0,control:{close:!0},fx:{shadow:!1,modal:!0,opacity:!0,rolled:!1,rollWidth:150}};this.panel.setStyle={content:{overflow:"hidden",textAlign:"center",
verticalAlign:"center"},containerWindow:{border:"1px solid black"},modal:{backgroundColor:"black"},shadow:{backgroundColor:"black"},frontend:{backgroundColor:"white"}};this.panel.styles.fx.opacityShadow.Static=90;this.panel.make();this.panel.elements.modal.onmouseup=this.panel.remove;this.buttons()};this.load=function(a,b){b="number"===typeof a?a:b;b=b>this.options.images.length-1?0:b;this.current=b=0>b?this.options.images.length-1:b;this.setLoad();var c=new Image;c.onload=this.show.args(c);c.src=
this.options.images[b];this.options.counter&&(this.domCounter.innerHTML="<b>"+(b+1)+"</b> de <b>"+(this.options.images.length-1)+"</b>")};this.show=function(a,b){b=b||a;this.options.resize&&(this.panel.resize({w:b.width+10,h:b.height+50}),this.panel.center());this.image.src=b.src;this.unsetLoad();this.inPlay&&setTimeout(this.control.next,5E3)};this.setLoad=function(){this.image.style.display="none";this.panel.elements.content.style.borderWidth=1;this.panel.loader.show()};this.unsetLoad=function(){this.panel.elements.content.style.borderWidth=
0;this.panel.loader.hide();this.image.style.display=""};this.buttons=function(){var a=this.panel.elements.statusBar,b=$dce("div");this.parent.dom.setStyle(b,{right:5});var c=$dce("div");this.parent.dom.setStyle(c,{right:parseInt(b.style.right,10)+20});var d=$dce("div");this.parent.dom.setStyle(d,{right:parseInt(c.style.right,10)+20});var e=$dce("div");this.parent.dom.setStyle(e,{right:parseInt(d.style.right,10)+20});var f=$dce("div");this.parent.dom.setStyle(f,{right:parseInt(e.style.right,10)+20});
var g;this.domTitle=g=$dce("div");var h;this.domCounter=h=$dce("div");a.appendChild(b);a.appendChild(c);a.appendChild(d);a.appendChild(e);a.appendChild(f);a.appendChild(g);a.appendChild(h);this.parent.dom.setStyle([b,c,d,e,f,g,h],{position:"absolute",backgroundColor:"#006699",top:3,width:15,height:15,overflow:"hidden"});this.parent.dom.setStyle([g,h],{left:5,backgroundColor:"white",color:"black",font:"normal 8pt Tahoma,MiscFixed"});this.parent.dom.setStyle(h,{left:"auto",right:parseInt(f.style.right,
10)+30,width:60});f.onmouseup=this.control.first;d.onmouseup=this.control.play;e.onmouseup=this.control.previous;c.onmouseup=this.control.next;b.onmouseup=this.control.last};this.control={play:function(){this.inPlay||this.control.next();this.inPlay=!this.inPlay},next:function(){this.load(this.current+1)},previous:function(){this.load(this.current-1)},first:function(){this.load(0)},last:function(){this.load(this.options.images.length-1)}}.expand(this);this.expand(this)},slide:function(){this.last=
this.inPlay=!1;this.elements={};this.stopped=!1;this.inM=0;this.make=function(a){this.options={initIn:0,counter:!0,playTimeOut:3,tactil:!1,target:document.body,resize:!0,size:{w:522,h:363},position:{x:0,y:30,centerX:!0},skin_images:this.parent.info.base+"images/app.slide/",images:[]}.concat(a||{});this.options.thumbnail={show:4,size:{w:90,h:55},images:[]}.concat(a.thumbnail||{});this.windowImage();this.toolbarImage();this.image=$dce("img");this.panel.elements.content.appendChild(this.image);this.load(this.options.initIn);
this.current=this.options.initIn};this.windowImage=function(){this.panel=new this.parent.module.panel;this.panel.options={size:this.options.size,position:this.options.position,target:this.options.target,statusBar:!1,titleBar:!1,limit:!0,control:{drag:!1,close:!1},fx:{shadow:!1,modal:!0,opacity:!0,rolled:!1,rollWidth:150}};this.panel.events={remove:function(){var a=[this.domNext,this.domPlay,this.domPrev,this.buttonNext,this.domCounter,this.domTitle,this.domClose,this.toolbar,this.footer];this.options.banner&&
a.push(this.banner);(new this.parent.module.fx.fade).make({duration:200,end:0,dom:a,onFinish:function(a){this.parent.dom.remove(a)}.extend(this,a)})}.extend(this)};this.panel.setStyle={content:{overflow:"hidden",textAlign:"center",verticalAlign:"center",margin:10,marginBottom:40,border:"1px solid #fff"},containerWindow:{border:"0px solid black",backgroundColor:"transparent"},modal:{backgroundColor:"black"},shadow:{backgroundColor:"black"},frontend:{background:"",backgroundColor:"#ECECEC"},backend:{backgroundColor:"transparent"},
titleBar:{background:"transparent"},title:{textAlign:"left",color:"white"}};this.panel.styles.fx.opacityModal.Static=90;this.panel.make();this.options.tactil&&(this.panel.elements.modal.onmouseup=this.panel.remove)};this.toolbarImage=function(){this.toolbar=$dce("div");var a=$dce("div"),b=this.options.thumbnail,c=4-this.options.thumbnail.images.length%4,c=4===c?0:c,d=b.show*b.size.w+4*b.show;this.toolbar.appendChild(a);this.toolbar.scrollLeft=0;this.options.target.appendChild(this.toolbar);this.parent.dom.setStyle(this.toolbar,
{position:"absolute",border:"1px solid #666",width:d+(this.parent.browser.isIE?4:0),height:b.size.h+(this.parent.browser.isIE?8:4),padding:1,backgroundColor:"#000",overflow:"hidden",zIndex:this.panel.elements.containerWindow.style.zIndex+1});this.parent.dom.opacity(this.toolbar,80);this.parent.dom.setStyle(a,{border:"0px solid blue",overflow:"hidden",width:b.size.w*(b.images.length+c)+4*(b.images.length+c)});this.elements.thumbs=[];for(c=0;c<this.options.thumbnail.images.length;c++)d=$dce("img"),
d.src=this.options.thumbnail.images[c].src,a.appendChild(d),this.parent.dom.setStyle(d,{margin:2,overflow:"hidden",width:b.size.w,cursor:"pointer",height:b.size.h}),this.parent.dom.opacity(d,50),d.onmouseup=this.load.args(c),this.elements.thumbs.push(d);this.buttons();this.posComponents()};this.posComponents=function(){var a=this.panel.elements.containerWindow,b=parseInt(a.style.left,10)+a.clientWidth/2-this.toolbar.clientWidth/2;this.parent.dom.setStyle(this.toolbar,{top:parseInt(a.style.top,10)+
290,left:b});this.parent.dom.setStyle(this.buttonPrevious,{top:parseInt(this.toolbar.style.top,10),left:parseInt(this.toolbar.style.left,10)-(this.buttonPrevious.clientWidth+5)});this.parent.dom.setStyle(this.buttonNext,{top:parseInt(this.toolbar.style.top,10),left:parseInt(this.toolbar.style.left,10)+this.toolbar.clientWidth+5});this.parent.dom.setStyle(this.domCounter,{top:parseInt(parseInt(this.toolbar.style.top,10)+65,10),left:parseInt(this.toolbar.style.left,10)+310});this.parent.dom.setStyle(this.domTitle,
{top:parseInt(this.panel.options.position.y,10)-20,color:"#666",left:parseInt(this.panel.options.position.x,10)+5});this.parent.dom.setStyle(this.domClose,{top:parseInt(this.panel.options.position.y,10)+3,color:"#666",left:parseInt(this.panel.options.position.x+this.panel.options.size.w,10)-20});this.options.banner&&this.parent.dom.setStyle(this.banner,{width:777,height:105,top:parseInt(this.domTitle.style.top)-110,left:this.options.target.clientWidth/2+this.options.target.scrollLeft-388.5,position:"absolute",
zIndex:this.panel.elements.containerWindow.style.zIndex+1})};this.load=function(a,b){b="number"===typeof a?a:b;if(b>this.options.images.length-1||0>b)return this.inPlay&&this.control.play(),!1;this.current=b;this.setLoad();this.domCounter.innerHTML="Foto <b>"+(b+1)+"</b> de <b>"+this.options.images.length+"</b>";this.domTitle.innerHTML=" <b>"+this.options.thumbnail.images[b].title||"Untitled/b> ";!1!==this.last&&(this.parent.dom.setStyle(this.elements.thumbs[this.last],{borderWidth:0,margin:2}),this.parent.dom.opacity(this.elements.thumbs[this.last],
50));this.parent.dom.setStyle(this.elements.thumbs[b],{border:"2px solid orange",margin:0});this.parent.dom.opacity(this.elements.thumbs[b],100);this.last=b;var c=new Image;c.onload=this.show.args(c);c.src=this.options.images[b];this.panel.addContentTitle(this.options.thumbnail.images[this.current].title||"")};this.show=function(a,b){b=b||a;this.options.resize&&(this.panel.resize({w:b.width+10,h:b.height+50}),this.panel.center());this.image.src=b.src;this.unsetLoad();this.inPlay&&setTimeout(this.control.next,
1E3*this.options.playTimeOut)};this.setLoad=function(){this.image.style.display="none";this.parent.dom.opacity(this.image,0);this.panel.loader.show()};this.unsetLoad=function(){this.panel.loader.hide();this.image.style.display="";(new this.parent.module.fx.fade).make({duration:500,end:1,dom:this.image,onFinish:function(){}.extend(this)});this.image.style.display=""};this.buttons=function(){var a=this.options.target;this.footer=$dce("div");a.appendChild(this.footer);this.buttonNext=$dce("div");var b=
this.panel.elements.containerWindow;this.parent.dom.setStyle(this.footer,{position:"absolute",background:"url("+this.options.skin_images+"background_bottom_dark.png) no-repeat",width:524,height:56,top:this.panel.options.position.y+b.offsetHeight,left:this.panel.options.position.x,zIndex:this.panel.elements.containerWindow.style.zIndex});this.buttonPrevious=$dce("div");this.parent.dom.setStyle([this.buttonNext,this.buttonPrevious],{position:"absolute",backgroundColor:"#006699",width:20,cursor:"pointer",
height:this.toolbar.clientHeight,zIndex:this.panel.elements.containerWindow.style.zIndex});this.buttonNext.onmouseup=this.control.right;this.buttonPrevious.onmouseup=this.control.left;this.domNext=$dce("img");this.domNext.src=this.options.skin_images+"next_dark.png";this.domNext.onmouseover=function(){this.domNext.src=this.options.skin_images+"next_on_dark.png"}.extend(this);this.domNext.onmouseout=function(){this.domNext.src=this.options.skin_images+"next_dark.png"}.extend(this);this.parent.dom.setStyle(this.domNext,
{position:"absolute",cursor:"pointer",width:30,height:56,top:this.panel.options.position.y+b.offsetHeight+1,left:this.panel.options.position.x+295,zIndex:this.panel.elements.containerWindow.style.zIndex+1});this.domPlay=$dce("img");this.control.setPlay();this.parent.dom.setStyle(this.domPlay,{position:"absolute",cursor:"pointer",width:46,height:56,top:this.panel.options.position.y+b.offsetHeight+1,left:this.panel.options.position.x+239,zIndex:this.panel.elements.containerWindow.style.zIndex+1});this.domPrev=
$dce("img");this.domPrev.src=this.options.skin_images+"back_dark.png";this.domPrev.onmouseover=function(){this.domPrev.src=this.options.skin_images+"back_on_dark.png"}.extend(this);this.domPrev.onmouseout=function(){this.domPrev.src=this.options.skin_images+"back_dark.png"}.extend(this);this.parent.dom.setStyle(this.domPrev,{position:"absolute",cursor:"pointer",width:30,height:56,top:this.panel.options.position.y+b.offsetHeight+1,left:this.panel.options.position.x+200,zIndex:this.panel.elements.containerWindow.style.zIndex+
1});this.domCounter=b=$dce("div");this.domTitle=$dce("div");this.domClose=$dce("img");this.domClose.src=this.options.skin_images+"close.gif";this.parent.dom.setStyle(this.domClose,{cursor:"pointer"});this.domClose.onmousedown=this.panel.remove;a.appendChild(this.domNext);a.appendChild(this.domPlay);a.appendChild(this.domPrev);a.appendChild(this.domCounter);a.appendChild(this.domTitle);a.appendChild(this.domClose);this.parent.dom.setStyle([b,this.domTitle,this.domClose],{position:"absolute",font:"normal 8pt Tahoma,MiscFixed",
color:"black",overflow:"hidden",zIndex:this.panel.elements.containerWindow.style.zIndex+1});this.domPlay.onmouseup=this.control.play;this.domPrev.onmouseup=this.control.previous;this.domNext.onmouseup=this.control.next;this.options.banner&&(this.banner=$dce("img"),this.banner.src=this.options.banner,this.options.target.appendChild(this.banner))};this.control={setPlay:function(){this.domPlay.src=this.options.skin_images+"play_dark.png";this.domPlay.onmouseover=function(){this.domPlay.src=this.options.skin_images+
"play_on_dark.png"}.extend(this);this.domPlay.onmouseout=function(){this.domPlay.src=this.options.skin_images+"play_dark.png"}.extend(this)},setPause:function(){this.domPlay.src=this.options.skin_images+"pause_dark.png";this.domPlay.onmouseover=function(){this.domPlay.src=this.options.skin_images+"pause_on_dark.png"}.extend(this);this.domPlay.onmouseout=function(){this.domPlay.src=this.options.skin_images+"pause_dark.png"}.extend(this)},play:function(){this.inPlay?(this.control.setPlay(),this.stopped=
!0,this.inPlay=!this.inPlay):(this.control.setPause(),this.stopped=!1,this.inPlay=!this.inPlay,this.control.next())},next:function(){if(!0===this.Null)return!1;if(!1===this.stopped){var a=this.current+1;0===a%4?this.control.right():this.load(a)}else this.stopped=!1},previous:function(){if(!0===this.Null)return!1;0===this.current%4?this.control.left():this.load(this.current-1)},left:function(){this.Null=!0;(new this.parent.module.fx.algorithm).make({transition:"sineInOut",duration:1E3,begin:this.toolbar.scrollLeft,
end:this.toolbar.scrollLeft-(4*this.options.thumbnail.size.w+16),onTransition:function(a){this.toolbar.scrollLeft=a.result}.extend(this),onFinish:function(a){this.toolbar.scrollLeft=a.options.end;this.load(this.current-1);this.Null=!1}.extend(this)})},right:function(){this.Null=!0;(new this.parent.module.fx.algorithm).make({transition:"sineInOut",duration:1E3,begin:this.toolbar.scrollLeft,end:this.toolbar.scrollLeft+(4*this.options.thumbnail.size.w+16),onTransition:function(a){this.toolbar.scrollLeft=
a.result}.extend(this),onFinish:function(a){this.toolbar.scrollLeft=a.options.end;this.load(this.current+1);this.Null=!1}.extend(this)})}}.expand(this);this.expand(this)},box:function(){this.panel=new this.parent.module.panel;this.panel.options={size:{w:300,h:200},title:"Prueba panel",headerBar:!0,titleBar:!1,elementToDrag:"backend",position:{x:5,y:5,center:!0},fx:{shadow:!1,modal:!0,opacity:!1}};this.panel.setStyle={containerWindow:{border:"0px solid red"},frontend:{backgroundColor:"transparent"},
content:{margin:0,border:"0px solid red",borderLeft:"1px solid #DADADA",borderRight:"1px solid #DADADA",backgroundColor:"white"},headerBar:{display:""},statusBar:{}};this.panel.styles.fx.opacityModal.Static=0;this.panel.make();this.panel.elements.headerBar.className="boxTopPanel";this.panel.elements.headerBar.innerHTML="<div class='a'></div><div class='b'></div><div class='c'></div>";this.panel.elements.statusBar.className="boxBottom";this.panel.elements.statusBar.innerHTML="<div class='a'></div><div class='b'></div><div class='c'></div>";
return this.panel},confirm:function(){this.make=function(a){var b="undefined"!==typeof G_STRINGS?G_STRINGS:{},c=b.ACCEPT||"Aceptar",b=b.CANCEL||"Cancelar";this.panel=new this.parent.module.panel;this.options={action:function(){}}.concat(a||{});this.panel.options={statusBarButtons:[{value:c},{value:b}],position:{center:!0},size:{w:"undefined"!=typeof a.width?a.width:350,h:"undefined"!=typeof a.height?a.height:100},control:{close:!0,resize:!1},fx:{modal:!0}};this.panel.setStyle={content:{padding:10,
paddingBottom:2,textAlign:"left",paddingLeft:50,background:"url("+this.parent.info.images+"question.png)",backgroundRepeat:"no-repeat",backgroundPosition:"10 50%",backgroundColor:"transparent",borderWidth:0}};this.panel.make();this.panel.addContent(this.options.label||"");this.panel.fixContent();this.panel.elements.statusBarButtons[0].onmouseup=function(){this.options.action();this.panel.remove();return!1}.extend(this);this.panel.elements.statusBarButtons[1].onmouseup=function(){this.options.cancel&&
this.options.cancel();this.panel.remove();return!1}.extend(this);this.panel.events={remove:function(){}.extend(this)}}},alert:function(){this.make=function(a){var b=("undefined"!==typeof G_STRINGS?G_STRINGS:{}).ACCEPT||"Aceptar";this.panel=new this.parent.module.panel;this.options={action:function(){},target:document.body}.concat(a||{});this.panel.options={statusBarButtons:[{value:b}],target:this.options.target,position:{center:!0},size:{w:"undefined"!=typeof a.width?a.width:300,h:"undefined"!=typeof a.height?
a.height:110},control:{close:!0,resize:!1},fx:{modal:!0}};this.panel.setStyle={content:{padding:10,paddingBottom:2,textAlign:"left",paddingLeft:65,background:"url("+this.parent.info.images+"warning.png)",backgroundRepeat:"no-repeat",backgroundPosition:"10 50%",backgroundColor:"transparent",borderWidth:0}};this.panel.make();this.panel.addContent(this.options.label||"");this.panel.fixContent();this.panel.elements.statusBarButtons[0].onmouseup=function(){this.options.action();this.panel.remove();return!1}.extend(this);
return this}},info:function(){this.make=function(a){var b=("undefined"!==typeof G_STRINGS?G_STRINGS:{}).ACCEPT||"Aceptar";this.panel=new this.parent.module.panel;this.options={action:function(){},target:document.body}.concat(a||{});this.panel.options={statusBarButtons:[{value:b}],target:this.options.target,position:{center:!0},size:{w:"undefined"!=typeof a.width?a.width:300,h:"undefined"!=typeof a.height?a.height:110},control:{close:!0,resize:!1},fx:{modal:!0}};this.panel.setStyle={content:{padding:10,
paddingBottom:2,textAlign:"left",paddingLeft:65,background:"url("+this.parent.info.images+"info.png)",backgroundRepeat:"no-repeat",backgroundPosition:"10 50%",backgroundColor:"transparent",borderWidth:0}};this.panel.make();this.panel.addContent(this.options.label||"");this.panel.fixContent();this.panel.elements.statusBarButtons[0].onmouseup=function(){this.options.action();this.panel.remove();return!1}.extend(this);return this}},prompt:function(){this.make=function(a){var b="undefined"!==typeof G_STRINGS?
G_STRINGS:{},c=b.ACCEPT||"Aceptar",b=b.CANCEL||"Cancelar";this.panel=new this.parent.module.panel;this.options={action:function(){},value:""}.concat(a||{});this.panel.options={statusBarButtons:[{value:c},{value:b}],position:{center:!0},size:{w:300,h:110},control:{close:!0,resize:!1},fx:{modal:!0}};this.panel.setStyle={content:{padding:10,paddingBottom:2,textAlign:"left",paddingLeft:50,background:"url("+this.parent.info.images+"question.png)",backgroundRepeat:"no-repeat",backgroundPosition:"10 50%",
backgroundColor:"transparent",borderWidth:0}};this.panel.events={remove:this.functionOnFALSE};this.panel.make();this.panel.addContent(this.options.label||"");this.panel.addContent("<br>");this.input=$dce("input");this.input.type="text";this.parent.dom.setStyle(this.input,{font:"normal 8pt Tahoma,MiscFixed",color:"#000",width:"100%",marginTop:3,backgroundColor:"white",border:"1px solid #919B9C"});this.panel.addContent(this.input);this.input.value=this.options.value;this.input.focus();this.input.onkeyup=
function(a){a=window.event?window.event:a;a=a.which?a.which:a.keyCode;13==a?this.functionOnTRUE():27==a&&this.functionOnFALSE()}.extend(this);this.panel.fixContent();this.panel.elements.statusBarButtons[0].onmouseup=this.functionOnTRUE;this.panel.elements.statusBarButtons[1].onmouseup=this.functionOnFALSE;return this};this.functionOnTRUE=function(){this.action=!0;this.options.action(this.input.value);this.panel.remove();return!1};this.functionOnFALSE=function(){this.options.cancel&&!0!==this.action&&
this.options.cancel();this.panel.remove();return!1};this.expand(this)},radioEvents:function(){this.makes=[];this.add=function(a){var b=this.parent.module.dom.radioByValue({name:a.name,value:a.value}),c=a.name+a.value;a.activated=!1;b.id=c;b.onclick=this.engine.args({options:a,radio:b});a.make&&(this.makes[this.makes.length]=c)};this.engine=function(a){this.conditions(a.radio,a.options.event,!0,!1);if(a.options.revert)for(var b=a.arguments.options.revert.split(","),c=0;c<b.length;c++)this.revert(b[c],
a);else a.options.activated=!0;this.engineChilds(a.options.childs,!1)};this.engineChilds=function(a,b){if(a)for(var a=a.split(","),c=0;c<a.length;c++)for(var d=a[c].split("|"),e=d[0],f=d[1],d=d[2],f=f.split("-"),g=0;g<f.length;g++){var h=this.parent.module.dom.radioByValue({name:e,value:f[g]});this.conditions(h,d,!1,b)}};this.conditions=function(a,b,c,d){d=d||!1;"c"==b?(a.checked=d?!1:!0,this.recursive(a.id,b,c)):"d"==b?(a.disabled=d?!1:!0,this.recursive(a.id,b,c)):"cd"==b?(d?a.disabled=!1:(a.disabled=
!0,a.checked=!1),this.recursive(a.id,d?"ce":"cd",c)):"ce"==b?(d?a.disabled=!0:(a.disabled=!1,a.checked=!0),this.recursive(a.id,b,c)):"u"==b?(a.checked=d?!0:!1,this.recursive(a.id,d?"c":"u",c)):"e"==b&&(d?(a.disabled=!0,a.checked=!1):a.disabled=!1,this.recursive(a.id,b,c))};this.recursive=function(){};this.revert=function(a,b){var c=a.split("|");if(2==c.length)if(c=c[0]+c[1],leimnud.aplication.event.isset(c)&&leimnud.aplication.event.query(c).arguments.options.activated){var c=leimnud.aplication.event.query(c).arguments,
d=c.options.childs;c.options.activated=!1;b.options.activated=!0;this.conditions(c.radio,c.options.event,!0,!0);this.engineChilds(d,!0)}else b.options.activated=!0};this.make=function(){for(var a=0;a<this.makes.length;a++)leimnud.aplication.event.launch(!1,this.makes[a])};this.expand(this)}}});
leimnud.Package.Public({info:{Class:"maborak",File:"module.rpc.js",Name:"rpc",Type:"module",Version:"0.1"},content:{xmlhttp:function(a){this.options=a||{};this.headers=[];this.core=function(){try{xmlhttp=!1,window.ActiveXObject&&(xmlhttp=new ActiveXObject("Msxml2.XMLHTTP"))}catch(a){try{xmlhttp=new ActiveXObject("Microsoft.XMLHTTP")}catch(c){xmlhttp=!1}}return!xmlhttp&&"undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:xmlhttp||new function(){}};this.make=function(){this.xmlhttp=this.core();this.url=
this.options.url||!1;if(!this.options.url||!this.xmlhttp)return!1;this.method=(this.options.method||"POST").toUpperCase();this.args=this.options.args||"";this.async=!1===this.options.async?!1:!0;"POST"==this.method&&this.header("Content-Type","application/x-www-form-urlencoded");this.open();return!0};this.open=function(){this.url="?"!==this.url.substr(this.url.length-1,1)&&"GET"===this.method?this.url+"?":this.url;this.url="GET"==this.method?this.url+this.args:this.url;this.xmlhttp.open(this.method,
this.url+(this.options.nocache?"&rand_rpc="+Math.random():""),this.async);this.applyHeaders();this.xmlhttp.send("GET"==this.method?null:this.args);this.xmlhttp.onreadystatechange=this.changes};this.changes=function(){4==this.xmlhttp.readyState&&this.callback&&this.callback.args(this)()};this.applyHeaders=function(){for(var a=0;a<this.headers.length;a++)this.xmlhttp.setRequestHeader(this.headers[a].param,this.headers[a].value)};this.header=function(a,c){this.headers.push({param:a,value:c})};this.expand(this)},
json:function(a){this.interval=!1;this.options={url:!1,method:"GET",args:""}.concat(a||{});this.begin=(new Date).getTime();this.tmp="rpcJson_"+this.begin;this.server=this.parent.info.base+"server/proxy.js.php";this.par=this.parent.info.domBaseJS.parentNode;this.make=function(){if(!this.options.url||!this.par)return!1;this.script=$dce("script");this.par.appendChild(this.script);this.script.src=this.server+"?tmp="+this.tmp+"&url="+this.options.url+"&method="+this.options.method+"&args="+encodeURIComponent(this.options.args);
this.script.type="text/javascript";this.script.charset=this.parent.charset;this.interval=setInterval(this.probe,500)};this.probe=function(){this.time=(new Date).getTime()-this.begin;if(window[this.tmp]&&!0===window[this.tmp].loaded||65E3<this.time){this.interval=clearInterval(this.interval);var a;try{a=window[this.tmp].data.parseJSON()}catch(c){a=""}!0===this.options.debug&&console.info&&console.info(a);var d;if(document.implementation.createDocument){var e=new DOMParser;try{window.lk=d=e.parseFromString(a||
"<xml>empty</xml>","text/xml")}catch(f){d=e.parseFromString("<xml>empty</xml>","text/xml")}}else if(window.ActiveXObject){d=new ActiveXObject("Microsoft.XMLDOM");d.async="false";try{d.loadXML(a||"<xml>empty</xml>")}catch(g){d.loadXML("<xml>empty</xml>")}}this.json={responseText:a,responseXML:d};this.parent.browser.isIE?window[this.tmp]=null:delete window[this.tmp];this.script.parentNode.removeChild(this.script);this.callback&&this.callback.args(this)()}};this.expand(this);return this}}});
leimnud.Package.Public({info:{Class:"maborak",File:"module.fx.js",Name:"fx",Type:"module",Version:"0.1"},content:{algorithm:function(){this.make=function(a){this.options={transition:"sineInOut",duration:2E3,fps:70,onTransition:function(){},onFinish:function(){},begin:0,end:100,timeBegin:(new Date).getTime()}.concat(a||{});this.timer=setInterval(function(){var a=(new Date).getTime();if(a<this.options.timeBegin+this.options.duration){this.cTime=a-this.options.timeBegin;if(this.options.begin.isArray){this.result=
[];for(a=0;a<this.options.begin.length;a++)this.result.push(this.transitions[this.options.transition](this.cTime,this.options.begin[a],this.options.end[a]-this.options.begin[a],this.options.duration,0,0))}else this.result=this.transitions[this.options.transition](this.cTime,this.options.begin,this.options.end-this.options.begin,this.options.duration,0,0);return this.options.onTransition(this)}this.timer=clearInterval(this.timer);return this.options.onFinish(this)}.extend(this),Math.round(1E3/this.options.fps))};
this.transitions={linear:function(a,b,c,d){return c*a/d+b},quadIn:function(a,b,c,d){return c*(a/=d)*a+b},quadOut:function(a,b,c,d){return-c*(a/=d)*(a-2)+b},quadInOut:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b},cubicIn:function(a,b,c,d){return c*(a/=d)*a*a+b},cubicOut:function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b},cubicInOut:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},quartIn:function(a,b,c,d){return c*(a/=d)*a*a*a+b},quartOut:function(a,b,c,d){return-c*
((a=a/d-1)*a*a*a-1)+b},quartInOut:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b},quintIn:function(a,b,c,d){return c*(a/=d)*a*a*a*a+b},quintOut:function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b},quintInOut:function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b},sineIn:function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b},sineOut:function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b},sineInOut:function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-
1)+b},expoIn:function(a,b,c,d){return 0==a?b:c*Math.pow(2,10*(a/d-1))+b},expoOut:function(a,b,c,d){return a==d?b+c:c*(-Math.pow(2,-10*a/d)+1)+b},expoInOut:function(a,b,c,d){return 0==a?b:a==d?b+c:1>(a/=d/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b},circIn:function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b},circOut:function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b},circInOut:function(a,b,c,d){return 1>(a/=d/2)?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b},elasticIn:function(a,
b,c,d,e,f){if(0==a)return b;if(1==(a/=d))return b+c;f||(f=0.3*d);e||(e=1);e<Math.abs(c)?(e=c,c=f/4):c=f/(2*Math.PI)*Math.asin(c/e);return-(e*Math.pow(2,10*(a-=1))*Math.sin((a*d-c)*2*Math.PI/f))+b},elasticOut:function(a,b,c,d,e,f){if(0==a)return b;if(1==(a/=d))return b+c;f||(f=0.3*d);e||(e=1);if(e<Math.abs(c))var e=c,g=f/4;else g=f/(2*Math.PI)*Math.asin(c/e);return e*Math.pow(2,-10*a)*Math.sin((a*d-g)*2*Math.PI/f)+c+b},elasticInOut:function(a,b,c,d,e,f){if(0==a)return b;if(2==(a/=d/2))return b+c;f||
(f=d*0.3*1.5);e||(e=1);if(e<Math.abs(c))var e=c,g=f/4;else g=f/(2*Math.PI)*Math.asin(c/e);return 1>a?-0.5*e*Math.pow(2,10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/f)+b:0.5*e*Math.pow(2,-10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/f)+c+b},backIn:function(a,b,c,d,e){e||(e=1.70158);return c*(a/=d)*a*((e+1)*a-e)+b},backOut:function(a,b,c,d,e){e||(e=1.70158);return c*((a=a/d-1)*a*((e+1)*a+e)+1)+b},backInOut:function(a,b,c,d,e){e||(e=1.70158);return 1>(a/=d/2)?c/2*a*a*(((e*=1.525)+1)*a-e)+b:c/2*((a-=2)*a*(((e*=1.525)+
1)*a+e)+2)+b},bounceIn:function(a,b,c,d){return c-this.transitions.bounceOut(d-a,0,c,d)+b},bounceOut:function(a,b,c,d){return(a/=d)<1/2.75?c*7.5625*a*a+b:a<2/2.75?c*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?c*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+0.984375)+b},bounceInOut:function(a,b,c,d){return a<d/2?0.5*this.transitions.bounceIn(2*a,0,c,d)+b:0.5*this.transitions.bounceOut(2*a-d,0,c,d)+0.5*c+b}}.expand(this);this.expand(this)},fade:function(){this.make=function(a){this.options=
{duration:1E3,transition:"sineInOut",end:0,onFinish:function(){}}.concat(a);this.dom=(this.options.dom||[]).isArray?this.options.dom:[this.options.dom];for(a=0;a<this.dom.length;a++)of=a==this.dom.length-1?this.options.onFinish:function(){},(new this.parent.module.fx.algorithm).make({duration:this.options.duration,end:this.options.end,transition:this.options.transition,begin:this.parent.dom.getOpacity(this.dom[a]),onTransition:function(a,c){this.parent.dom.opacity(c,100*a.result)}.extend(this,this.dom[a]),
onFinish:function(a,c,d){this.parent.dom.opacity(c,100*this.options.end);return d()}.extend(this,this.dom[a],of)});this.expand(this)}},move:function(){this.make=function(a){this.options={duration:1E3,transition:"sineInOut",end:0,onFinish:function(){}}.concat(a);this.dom=this.options.dom;(new this.parent.module.fx.algorithm).make({duration:this.options.duration,end:[this.options.end.x,this.options.end.y],transition:this.options.transition,begin:[parseInt(this.dom.style.left),parseInt(this.dom.style.top)],
onTransition:function(a){this.dom.style.left=a.result[0];this.dom.style.top=a.result[1]}.extend(this,this.dom),onFinish:function(){this.dom.style.left=this.options.end.x;this.dom.style.top=this.options.end.y;return this.options.onFinish()}.extend(this,this.dom)});this.expand(this)}}}});
leimnud.Package.Public({info:{Class:"maborak",File:"module.drag.js",Name:"drag",Type:"module",Version:"0.1"},content:function(a){this.options={limitbox:!1}.concat(a||{});this.loaded=!1;this.eventHandlers=[];this.cursor="move";this.uid=this.parent.tools.createUID();this.make=function(){this.options.elements=this.set();this.options.fx={type:"simple",target:document.body}.concat(this.options.fx||{});this.events=this.events||{};var a=(this.options.elements||[]).length;this.flagEvents=[];for(var c=0;c<
a;c++){var d=this.parent.event.add(this.options.elements[c],"mousedown",this.parent.closure({method:this.onInit,instance:this,event:!0,args:[c]}),!1);this.flagEvents.push(d)}};this.set=function(){return this.options.elements?(this.type="simple",this.options.elements.isArray?this.options.elements:[this.options.elements]):this.options.group?(this.type="group",this.options.group.isArray?this.options.group:[this.options.group]):this.options.link?(this.type="link",this.linkRef=!this.options.link.ref.isArray&&
(this.options.link.ref.isObject||this.parent.browser.isIE&&!this.options.link.ref.isObject)||this.options.link.ref.isArray?this.options.link.ref:[this.options.link.ref],this.options.link.elements.isArray?this.options.link.elements:[this.options.link.elements]):[]};this.onInit=function(a,c){if(!0===this.noDrag||!0===this.lock)return!1;this.lock=!0;2>arguments.length&&this.parent.browser.isIE&&(c=a,a=window.event);this.currentElementInArray=c;var d=this.options.elements[c];this.currentElementDrag=d;
var e;this.cursorStart=this.parent.dom.mouse(a);if("simple"==this.type)if("simple"==this.options.fx.type)this.probeAbsolute(d),this.elementStart={x:parseInt(this.parent.dom.getStyle(d,"left"),10),y:parseInt(this.parent.dom.getStyle(d,"top"),10)};else{if("clone"==this.options.fx.type){var f=this.parent.dom.mouse(a),g=this.parent.dom.position(this.options.fx.target);e=f.x-g.x;var h=f.y-g.y;window.status=e+":"+h+"::::"+f.x+":"+f.y+":::"+g.x+":"+g.y;this.currentElementDrag=f=d.cloneNode(!0);d=this.parent.event.db[this.flagEvents[c]];
this.parent.event.remove(f,d._event_,d._function_);this.parent.dom.setStyle(f,{visibility:"hidden"});this.options.fx.target.appendChild(f);this.parent.dom.setStyle(f,{position:"absolute",left:e+(this.options.fx.target.scrollLeft||0)-f.clientWidth/2,top:h+(this.options.fx.target.scrollTop||0)-f.clientHeight/2,zIndex:this.options.fx.zIndex||1E3,visibility:"visible"});this.elementStart={x:parseInt(this.parent.dom.getStyle(f,"left"),10),y:parseInt(this.parent.dom.getStyle(f,"top"),10)};d=f;this.parent.dom.opacity(f,
33)}}else if("group"==this.type){this.elementStart=[];for(h=0;h<this.options.elements.length;h++)e=this.parent.dom.position(this.options.elements[h],!1,!0),this.elementStart[h]={x:e.x,y:e.y};this.absolutizeGroup()}else if("link"==this.type){this.elementStart=[];for(h=0;h<this.linkRef.length;h++)e=this.parent.dom.position(this.linkRef[h],!1,!0),this.elementStart[h]={x:e.x,y:e.y};this.absolutizeLink()}this.parent.event.add(document,"mousemove",this.parent.closure({method:this.onMove,instance:this,event:!0,
args:[c,d,this.parent.event.db.length]}),!0);this.parent.event.add(document,"mouseup",this.parent.closure({method:this.onFinish,instance:this,event:!0,args:[c,d,this.parent.event.db.length]}),!0);window.event?(window.event.cancelBubble=!0,window.event.returnValue=!1):a.preventDefault();this.parent.dom.bubble(!1,a);this.launchEvents(this.events.init);this.moved=!1};this.onMove=function(a,c,d){var e,f,g,h;f=this.currentCursorPosition=this.parent.dom.mouse(a);if("simple"==this.type){e=c=!0;g=parseInt(this.elementStart.x+
(f.x-this.cursorStart.x),10);h=parseInt(this.elementStart.y+(f.y-this.cursorStart.y),10);if(0>g||"x"===this.options.limit||this.options.limitbox&&g+d.clientWidth>this.options.limitbox.clientWidth)c=!1;if(0>h||"y"===this.options.limit||this.options.limitbox&&h+d.clientHeight>this.options.limitbox.clientHeight)e=!1;this.currentX=g;this.currentY=h;(c||!this.options.limit)&&this.parent.dom.setStyle(d,{left:g});(e||!this.options.limit)&&this.parent.dom.setStyle(d,{top:h})}else if("group"==this.type)for(d=
0;d<this.options.elements.length;d++)this.parent.dom.setStyle(this.options.elements[d],{left:this.elementStart[d].x+(f.x-this.cursorStart.x),top:this.elementStart[d].y+(f.y-this.cursorStart.y)});else if("link"==this.type)if(!0===this.options.limit){this.parent.dom.positionRange(this.linkRef,!1,!0);e=c=!0;for(d=0;d<this.linkRef.length;d++)g=parseInt(this.elementStart[d].x+(f.x-this.cursorStart.x),10),h=parseInt(this.elementStart[d].y+(f.y-this.cursorStart.y),10),0>g&&(c=!1),0>h&&(e=!1);for(d=0;d<this.linkRef.length;d++)g=
parseInt(this.elementStart[d].x+(f.x-this.cursorStart.x),10),h=parseInt(this.elementStart[d].y+(f.y-this.cursorStart.y),10),c&&this.parent.dom.setStyle(this.linkRef[d],{left:g}),e&&this.parent.dom.setStyle(this.linkRef[d],{top:h})}else for(d=0;d<this.linkRef.length;d++)g=parseInt(this.elementStart[d].x+(f.x-this.cursorStart.x),10),h=parseInt(this.elementStart[d].y+(f.y-this.cursorStart.y),10),this.parent.dom.setStyle(this.linkRef[d],{left:g,top:h});window.event?(window.event.cancelBubble=!0,window.event.returnValue=
!1):a.preventDefault();this.launchEvents(this.events.move)};this.onFinish=function(a,c,d,e){4>arguments.length&&this.parent.browser.isIE&&(e=d,d=c,c=a,a=window.event);this.cursorEnd=this.parent.dom.mouse(a);this.moved=this.cursorStart.x!==this.cursorEnd.x||this.cursorStart.y!==this.cursorEnd.y?!0:!1;this.launchEvents(this.events.finish);this.parent.event.remove(document,"mouseup",this.parent.event.db[e]._function_,!0,e);this.parent.event.remove(document,"mousemove",this.parent.event.db[e-1]._function_,
!0,e-1);this.lock=!1};this.flush=function(){this.parent.event.flushCollection(this.flagEvents);this.flagEvents=[]};this.probeAbsolute=function(a){if("absolute"!=this.parent.dom.getStyle(a,"position")){var c=this.parent.dom.position(a,!1,!0);this.parent.dom.setStyle(a,{position:"absolute",left:c.x,top:c.y,cursor:this.cursor})}};this.absolutizeGroup=function(){for(var a=0;a<this.options.elements.length;a++)"absolute"!=this.parent.dom.getStyle(this.options.elements[a],"position")&&this.parent.dom.setStyle(this.options.elements[a],
{position:"absolute",left:this.elementStart[a].x,top:this.elementStart[a].y,cursor:this.cursor})};this.absolutizeLink=function(){for(var a=0;a<this.options.elements.length;a++)this.parent.dom.setStyle(this.options.elements[a],{cursor:this.cursor});for(a=0;a<this.linkRef.length;a++)"absolute"!=this.parent.dom.getStyle(this.linkRef[a],"position")&&this.parent.dom.setStyle(this.linkRef[a],{position:"absolute",left:this.elementStart[a].x,top:this.elementStart[a].y})};this.launchEvents=function(a){if(a&&
!0===a.isArray)for(var c=0;c<a.length;c++){if("function"==typeof a[c])a[c]()}else return a?a():!1}}});
leimnud.Package.Public({info:{Class:"maborak",File:"module.drop.js",Name:"drop",Type:"module",Version:"0.1"},content:function(a){this.options=a||{};this.elements=[];this.lastSelected=this.selID=this.selected=!1;this.make=function(){return this};this.register=function(a){a.events=a.events||{};this.elements.push(a);return this.elements.length-1};this.unregister=function(a){this.elements[a]=null};this.generateIndex=function(){return this.elements.length};this.capture=function(a,c){this.drag=a.currentElementDrag;
var d=this.parent.dom.position(this.drag,!1,c||!1),d={x:d.x+this.drag.clientWidth/2,y:d.y+this.drag.clientHeight/2};this.selected=!1;for(var e=0;e<this.elements.length;e++)if(null!==this.elements[e]){var f=this.parent.dom.positionRange(this.elements[e].element,c||!1);if(d.x>f.x1&&d.x<f.x2&&d.y>f.y1&&d.y<f.y2){this.selected=e;break}}!1===this.selected?!1!==this.selID&&this.out(this.selID):(!1!==this.selID&&this.selID!==this.selected&&this.out(this.selID),this.over(this.selected));this.lastSelected=
!1===this.selected?this.lastSelected:this.selected};this.setArrayPositions=function(a){this.arrayPositions=[];for(var c=0;c<this.elements.length;c++)this.arrayPositions.push(this.parent.dom.positionRange(this.elements[c].element,a||!1))};this.captureFromArray=function(a){this.drag=a.currentElementDrag;this.position={x:parseInt(this.drag.style.left),y:parseInt(this.drag.style.top)};this.selected=!1;for(a=0;a<this.arrayPositions.length;a++){var c=this.arrayPositions[a];if(this.position.x>=c.x1&&this.position.x<=
c.x2&&this.position.y>=c.y1&&this.position.y<=c.y2){this.selected=a;break}}this.lastSelected=!1===this.selected?this.lastSelected:this.selected;!1===this.selected?!1!==this.selID&&this.out(this.selID):(!1!==this.selID&&this.selID!==this.selected&&this.out(this.selID),this.over(this.selected))};this.over=function(a){this.selID=a;if(null!==this.elements[a])return this.launchEvents(this.elements[a].events.over)};this.out=function(a){this.selID=!1;if(null!==this.elements[a])return this.launchEvents(this.elements[a].events.out)};
this.launchEvents=function(a){if(a&&!0===a.isArray)for(var c=0;c<a.length;c++){if("function"==typeof a[c])a[c]()}else return a?a():!1};this.expand(this);return this}});
leimnud.Package.Public({info:{Class:"maborak",File:"module.dom.js",Name:"dom",Type:"module",Version:"0.1"},content:{button:function(a,b,c,d){this.make=function(a,b,c,d){this.button=a&&a.tagName?$(a):new this.parent.module.dom.create("input",{className:"module_app_button___gray",type:"button",value:a||"Button"}.concat(d||{}),c||{});this.button.disable=function(){this.button.disabled=!0;this.button.className="module_app_buttonjs___gray module_app_buttonDisabled___gray";return this.button}.extend(this);
this.button.enable=function(){this.button.disabled=!1;this.button.className="module_app_buttonjs___gray";return this.button}.extend(this);this.button.onmouseover=this.mouseover;this.button.onmouseout=this.mouseout;this.parent.dom.setStyle(this.button,c||{});"function"===typeof b&&(this.button.onmouseup=b.args(this.button));return this.button};this.mouseover=function(){if(!0==this.button.disabled)return!1;this.button.className="module_app_buttonjs___gray module_app_buttonHover___gray";return!1};this.mouseout=
function(){if(!0==this.button.disabled)return!1;this.button.className="module_app_buttonjs___gray";return!1};this.expand();return this.make(a,b,c,d)},input:function(a){this.make=function(a){this.input=a&&a.tagName?$(a):new this.parent.module.dom.create("input",{className:"module_app_input___gray",type:"text",value:a.label||"",maxLength:a.maxlength||"30"}.concat(a.properties||{}),a.style||{});this.input.disable=function(){this.input.disabled=!0;this.input.className+=" module_app_inputDisabled___gray";
return this.input}.extend(this);this.input.enable=function(){this.input.disabled=!1;this.input.className=this.input.className.split(" ")[0];return this.input}.extend(this);this.input.passed=function(){this.input.className="\v"=="v"?"module_app_inputPassed_ie___gray "+(this.input.className.split(" ")[1]||""):"module_app_inputPassed___gray "+(this.input.className.split(" ")[1]||"");return this.input}.extend(this);this.input.normal=function(){this.input.className=this.input.className+" "+(this.input.className.split(" ")[1]||
"");return this.input}.extend(this);this.input.failed=function(){this.input.className="\v"=="v"?"module_app_inputFailed_ie___gray "+(this.input.className.split(" ")[1]||""):"module_app_inputFailed___gray "+(this.input.className.split(" ")[1]||"");return this.input}.extend(this);return this.input};this.mouseover=function(){this.input.className="module_app_input___gray module_app_inputHover___gray";return!1};this.mouseout=function(){this.input.className="module_app_input___gray";return!1};this.expand();
return this.make(a||{})},select:function(a){this.options={data:[],selected:0,properties:{},style:{}}.concat(a||{});this.make=function(){this.select=new this.parent.module.dom.create("select",this.options.properties,this.options.style);this.select.className="module_app_select___gray";this.makeData();this.select.selected=function(){return this.select.options[this.select.selectedIndex]}.extend(this);this.select.clear=function(){for(var a=this.select.options,c=a.length,d=0;d<c;d++)a[0].parentNode.removeChild(a[0])}.extend(this);
this.select.addOption=function(a){var a={value:null,text:null,selected:!1,key:!1}.concat(a||{}),c=new Option(a.text,a.value,a.selected);!1===a.key?this.select.append(c):(this.select.insertBefore(c,this.select.options[a.key]),this.select.selectedIndex=a.key)}.extend(this);return this.select};this.makeData=function(){for(var a=this.options.data,c=a.length,d=0;d<c;d++)this.select[d]=new Option(a[d].text,a[d].value,this.options.selected===d?!0:!1)};this.expand();return this.make()},create:function(a,
b,c){this.dom=$dce(a);this.parent.dom.setProperties(this.dom,b||{});this.parent.dom.setStyle(this.dom,c||{});return new this.parent.module.dom.methods(this.dom)},methods:function(a){if(!a)return!1;if(!0==a.domed)return a;this.dom=a;this.dom.dom=this.dom;this.dom.domed=!0;this.dom.replace=function(a){return a?(this.dom.parentNode.replaceChild(a,this.dom),a):this.dom}.extend(this);this.dom.before=function(a){return a?(this.dom.parentNode.insertBefore(a,this.dom),a):this.dom}.extend(this);this.dom.append=
function(){for(var a=0;a<arguments.length;a++)arguments[a]&&this.dom.appendChild(arguments[a]);return this.dom}.extend(this);this.dom.remove=function(){this.dom.parentNode.removeChild(this.dom)}.extend(this);this.dom.opacity=function(a){this.parent.dom.opacity(this.dom,a);return this.dom}.extend(this);this.dom.setStyle=function(a){this.parent.dom.setStyle(this.dom,a||{});return this.dom}.extend(this);return this.dom},radioByValue:function(a){for(var b=$n(a.name)||!1,a=a.value||!1,c=0;c<b.length;c++)if(b[c].value==
a)return b[c];return!1}}});var $=function(a){a="string"==typeof a?document.getElementById(a):a;return new leimnud.module.dom.methods(a)},button=leimnud.module.dom.button,input=leimnud.module.dom.input,DOM=leimnud.module.dom.create,panel=leimnud.module.panel,select=leimnud.module.dom.select;
leimnud.Package.Public({info:{Class:"maborak",File:"module.dashboard.js",Name:"dashboard",Type:"module",Version:"0.1"},content:function(){this.elements={};this.make=function(a){this.options={drag:!0,panel:[],data:[]}.concat(a||{});this.drop=new this.parent.module.drop;this.drop.make();a=this.options.target.offsetWidth-50;this.columns=this.options.data.length;this.widthColumn=a/this.columns;this.elements.column=[];this.elements.table=$dce("table");$(this.elements.table).setStyle({width:a,borderCollapse:"collapse"});
this.elements.tr=this.elements.table.insertRow(-1);this.options.target.append(this.elements.table);this.matriz=[];for(var b=0;b<this.columns;b++)this.elements.column[b]=this.elements.tr.insertCell(b),this.parent.dom.setStyle(this.elements.column[b],{width:a/this.columns,border:"0px solid red",verticalAlign:"top"}),this.matriz.push([]);this.parseData();this.drop.setArrayPositions(!0)};this.parseData=function(){for(var a=0;a<this.columns;a++)for(var b=this.options.data[a],c=0;c<b.length;c++)this.panel({target:this.elements.column[a],
column:a,index:c}.concat(b[c])),this.matriz[a].push(c)};this.panel=function(a){var a={style:{},titleBar:!0}.concat(a||{}),b=new this.parent.module.panel;b.options={target:a.target,title:a.title||"",size:{w:a.width||this.widthColumn,h:a.height||300},position:{x:0,y:0},titleBar:a.titleBar||!1,control:{resize:!1,roll:!1,setup:!1,drag:this.options.drag,close:!0},fx:{shadow:!1,opacity:!1}};b.setStyle={containerWindow:(a.style.containerWindow||{}).concat({position:"relative",border:"1px solid #afafaf",
margin:3}),content:(a.style.content||{}).concat({overflow:"hidden",margin:0,borderLeftWidth:0,borderRightWidth:0,borderBottomWidth:0}),titleBar:(a.style.titleBar||{}).concat({backgroundImage:"url("+this.parent.info.images+"grid.title.gray.gif)",height:16,backgroundPosition:"0pt -5px"}),title:(a.style.title||{}).concat({padding:1,fontWeight:"normal"}),roll:(a.style.roll||{}).concat({top:1}),close:(a.style.close||{}).concat({top:1}),setup:(a.style.setup||{}).concat({top:1})};a.noBg&&(b.setStyle.content.concat({backgroundColor:"#DFDFDF",
borderWidth:0}),b.setStyle.containerWindow.concat({backgroundColor:"#DFDFDF"}),b.setStyle.frontend={backgroundColor:"#DFDFDF"});b.events={roll:function(){return this.drop.setArrayPositions(true)}.extend(this),init:[function(a){if(this.lock===true||this.moving==true)return false;var a=this.options.panel[a].panel.elements.containerWindow,b;this.currentPhantom=b=new DOM("div",false,{width:a.clientWidth,height:a.clientHeight,border:"1px dashed red",position:"relative",margin:3});a.nextSibling?a.parentNode.insertBefore(b,
a.nextSibling):a.parentNode.appendChild(b)}.extend(this,this.options.panel.length)],move:function(a){var a=this.options.panel[a].panel.elements.containerWindow,b=this.drop.selected;this.drop.captureFromArray({currentElementDrag:a});if(this.drop.selected!==false&&this.drop.selected!==b){b=this.drop.elements[this.drop.selected].element;this.currentPhantom.remove();this.currentPhantom=a=new DOM("div",false,{width:a.clientWidth,height:a.clientHeight,border:"1px dashed red",position:"relative",margin:3});
b.nextSibling?b.parentNode.insertBefore(a,b.nextSibling):b.parentNode.appendChild(a)}this.de=this.drop.selected}.extend(this,this.options.panel.length),finish:function(a){if(this.lock===true&&this.moving==true)return false;this.moving=this.lock=true;var b=this.parent.dom.positionRange(this.currentPhantom,true),a=this.options.panel[a].panel.elements.containerWindow;(new this.parent.module.fx.algorithm).make({duration:400,end:[b.x1,b.y1],transition:"sineOut",begin:[parseInt(a.style.left),parseInt(a.style.top)],
onTransition:function(a,b){b.style.left=a.result[0];b.style.top=a.result[1]}.extend(this,a),onFinish:function(a,b){b.style.left=a.options.end[0];b.style.top=a.options.end[1];try{this.currentPhantom.parentNode.replaceChild(b,this.currentPhantom)}catch(c){}this.parent.dom.setStyle(b,{left:"auto",top:"auto",position:"relative"});this.drop.setArrayPositions(true);this.moving=this.lock=false}.extend(this,a)})}.extend(this,this.options.panel.length)};b.events.remove=function(){b.cancelClose=true;(new leimnud.module.app.confirm).make({label:G_STRINGS.ID_CONFIRM_REMOVE_DASHBOARD,
action:function(){removeDashboard(a["class"],a.type,a.element);return true}.extend(this),cancel:function(){b.cancelClose=true;return b.inRemove=false}})};b.make();a.url&&b.open({url:a.url,proxy:!1});a.image&&b.open({image:a.image,proxy:!1});this.options.panel.push({panel:b,index:this.options.panel.length-1,column:a.column});this.drop.register({element:b.elements.containerWindow,value:this.options.panel.length-1});return b};this.expand(this)}});
var G_CALENDAR_CURRENT_OBJ=null,G_CALENDAR_MEM_OFFSET,NeyekCalendar=function(a,b){this.target="undefined"!=typeof a?a:null;this.editable="undefined"!=typeof b?"1":"0";this.mask=this.lang=this.oCalendar=this.calendarObjForForm=null;this.showTime=!1;this.e=null;this.__init__=function(a){this.calendarObjForForm=new DHTMLSuite.calendar({minuteDropDownInterval:10,numberOfRowsInHourDropDown:5,callbackFunctionOnDayClick:{func:"getDateFromCalendar",params:[this.target,this.mask,this.editable]},isDragable:!0,
displayTimeBar:this.showTime});this.oCalendar=new DHTMLSuite.calendarModel({initialYear:a.year,initialMonth:a.month,initialDay:a.day})};this.picker=function(a,b,e,f,g,h,j){if(null!=G_CALENDAR_CURRENT_OBJ||"lock"==G_CALENDAR_MEM_OFFSET)return!1;this.mask="undefined"!=typeof b?b:"Y-m-d h:i";this.lang="undefined"!=typeof e?e:"en";this.showTime="undefined"!=typeof h?h?!0:!1:!1;this.__init__(a);"undefined"!=typeof j&&(this.calendarObjForForm.e=j);"undefined"!=typeof f&&""!=f&&this.oCalendar.addInvalidDateRange(!1,
{year:f.year,month:f.month,day:f.day});"undefined"!=typeof f&&""!=f&&this.oCalendar.addInvalidDateRange({year:g.year,month:g.month,day:g.day},!1);this.oCalendar.setLanguageCode(this.lang);this.calendarObjForForm.setCalendarModelReference(this.oCalendar);eInput=this.$(this.target);eDiv=this.$(this.target+"[div]");"1"===this.editable?this.calendarObjForForm.setCalendarPositionByHTMLElement(eInput,0,eInput.offsetHeight+2):this.calendarObjForForm.setCalendarPositionByHTMLElement(eDiv,0,eDiv.offsetHeight+
2);submask=this.mask;submask=-1!=submask.search(/Y/)?submask.replace("Y","yyyy"):submask.replace("y","yy");submask=submask.replace("m","mm");submask=submask.replace("d","dd");submask=submask.replace("h","hh");submask=submask.replace("i","ii");this.calendarObjForForm.setInitialDateFromInput(eInput,submask);"1"===this.editable?this.calendarObjForForm.addHtmlElementReference(this.target,eInput):this.calendarObjForForm.addHtmlElementReference(this.target+"[div]",eDiv);this.calendarObjForForm.isVisible()?
this.calendarObjForForm.hide():(this.calendarObjForForm.resetViewDisplayedMonth(),this.calendarObjForForm.display());G_CALENDAR_CURRENT_OBJ=this.calendarObjForForm;return!1};this.getDateFromCalendar=function(a){this.calendarObjForForm.getHtmlElementReferences().myDate.value=this.parseDateFromMask(a,this.mask);this.calendarObjForForm.hide();return!1};this.parseDateFromMask=function(a,b){result=b;result=result.replace("Y",a.year);year=new String(a.year);result=result.replace("y",year.substr(2,3));result=
result.replace("m",a.month);result=result.replace("d",a.day);result=result.replace("h",a.hour);return result=result.replace("i",a.minute)};this.$=function(a){return document.getElementById(a)}};
function getDateFromCalendar(a,b,c,d){sClear="<a onclick=\"clearCalendar('"+b+'\');return false;" onmouseover="lockCalendar()" onmouseout="enableCalendar()" title=\''+G_STRINGS.ID_RSTDATAFIELD+'\' href="#"><img src="/images/delete-icon.png" border=0 width=12 height=12/></a>';result=c;result=result.replace("Y",a.year);year=new String(a.year);result=result.replace("y",year.substr(2,3));result=result.replace("m",a.month);result=result.replace("d",a.day);result=result.replace("h",a.hour);result=result.replace("i",
a.minute);document.getElementById(b).value=result;"1"!==d&&(document.getElementById(b+"[div]").innerHTML="&nbsp;"+document.getElementById(b).value+"&nbsp;"+sClear);G_CALENDAR_CURRENT_OBJ.hide();if(document.getElementById(b).onchange)try{document.getElementById(b).onchange()}catch(e){}G_CALENDAR_CURRENT_OBJ=null}if(!window.DHTMLSuite)var DHTMLSuite={};String.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/,"")});var DHTMLSuite_funcs={};
if(!window.DHTML_SUITE_THEME)var DHTML_SUITE_THEME="blue";if(!window.DHTML_SUITE_THEME_FOLDER)var DHTML_SUITE_THEME_FOLDER="../themes/";if(!window.DHTML_SUITE_JS_FOLDER)var DHTML_SUITE_JS_FOLDER="../js/separateFiles/";var DHTMLSuite={},standardObjectsCreated=!1;DHTMLSuite.eventEls=[];
var widgetDep={formValidator:["dhtmlSuite-formUtil.js"],paneSplitter:["dhtmlSuite-paneSplitter.js","dhtmlSuite-paneSplitterModel.js","dhtmlSuite-dynamicContent.js","ajax.js"],menuBar:["dhtmlSuite-menuBar.js","dhtmlSuite-menuItem.js","dhtmlSuite-menuModel.js"],windowWidget:["dhtmlSuite-windowWidget.js","dhtmlSuite-resize.js","dhtmlSuite-dragDropSimple.js","ajax.js","dhtmlSuite-dynamicContent.js"],colorWidget:["dhtmlSuite-colorWidgets.js","dhtmlSuite-colorUtil.js"],colorSlider:["dhtmlSuite-colorWidgets.js",
"dhtmlSuite-colorUtil.js","dhtmlSuite-slider.js"],colorPalette:["dhtmlSuite-colorWidgets.js","dhtmlSuite-colorUtil.js"],calendar:["dhtmlSuite-calendar.js","dhtmlSuite-dragDropSimple.js"],dragDropTree:["dhtmlSuite-dragDropTree.js"],slider:["dhtmlSuite-slider.js"],dragDrop:["dhtmlSuite-dragDrop.js"],imageEnlarger:["dhtmlSuite-imageEnlarger.js","dhtmlSuite-dragDropSimple.js"],imageSelection:["dhtmlSuite-imageSelection.js"],floatingGallery:["dhtmlSuite-floatingGallery.js","dhtmlSuite-mediaModel.js"],
contextMenu:["dhtmlSuite-contextMenu.js","dhtmlSuite-menuBar.js","dhtmlSuite-menuItem.js","dhtmlSuite-menuModel.js"],dynamicContent:["dhtmlSuite-dynamicContent.js","ajax.js"],textEdit:["dhtmlSuite-textEdit.js","dhtmlSuite-textEditModel.js","dhtmlSuite-listModel.js"],listModel:["dhtmlSuite-listModel.js"],resize:["dhtmlSuite-resize.js"],dragDropSimple:["dhtmlSuite-dragDropSimple.js"],dynamicTooltip:["dhtmlSuite-dynamicTooltip.js","dhtmlSuite-dynamicContent.js","ajax.js"],modalMessage:["dhtmlSuite-modalMessage.js",
"dhtmlSuite-dynamicContent.js","ajax.js"],tableWidget:["dhtmlSuite-tableWidget.js","ajax.js"],progressBar:["dhtmlSuite-progressBar.js"],tabView:["dhtmlSuite-tabView.js","dhtmlSuite-dynamicContent.js","ajax.js"],infoPanel:["dhtmlSuite-infoPanel.js","dhtmlSuite-dynamicContent.js","ajax.js"],form:["dhtmlSuite-formUtil.js","dhtmlSuite-dynamicContent.js","ajax.js"],autoComplete:["dhtmlSuite-autoComplete.js","ajax.js"],chainedSelect:["dhtmlSuite-chainedSelect.js","ajax.js"]},depCache={};
DHTMLSuite.include=function(a){if(widgetDep[a])for(var a=widgetDep[a],b=0;b<a.length;b++){if(!depCache[a[b]]){document.write("<script");document.write(' language="javascript"');document.write(' type="text/javascript"');document.write(' src="'+DHTML_SUITE_JS_FOLDER+a[b]+'">');document.write("<\/script>");depCache[a[b]]=true}}else alert("Cannot find the files for widget "+a+". Please verify that the name is correct")};
DHTMLSuite.discardElement=function(a){var a=DHTMLSuite.commonObj.getEl(a),b=document.getElementById("IELeakGBin");if(!b){b=document.createElement("DIV");b.id="IELeakGBin";b.style.display="none";document.body.appendChild(b)}b.appendChild(a);b.innerHTML=""};
DHTMLSuite.createStandardObjects=function(){DHTMLSuite.clientInfoObj=new DHTMLSuite.clientInfo;DHTMLSuite.clientInfoObj.init();if(!DHTMLSuite.configObj){DHTMLSuite.configObj=new DHTMLSuite.config;DHTMLSuite.configObj.init()}DHTMLSuite.commonObj=new DHTMLSuite.common;DHTMLSuite.variableStorage=new DHTMLSuite.globalVariableStorage;DHTMLSuite.commonObj.init();DHTMLSuite.domQueryObj=new DHTMLSuite.domQuery;DHTMLSuite.commonObj.addEvent(window,"unload",function(){DHTMLSuite.commonObj.__clearMemoryGarbage()});
standardObjectsCreated=true};DHTMLSuite.config=function(){};DHTMLSuite.config.prototype={init:function(){this.imagePath=DHTML_SUITE_THEME_FOLDER+DHTML_SUITE_THEME+"/images/";this.defaultCssPath=this.cssPath=DHTML_SUITE_THEME_FOLDER+DHTML_SUITE_THEME+"/css/";this.defaultImagePath=this.imagePath},setCssPath:function(a){this.cssPath=a},resetCssPath:function(){this.cssPath=this.defaultCssPath},resetImagePath:function(){this.imagePath=this.defaultImagePath},setImagePath:function(a){this.imagePath=a}};
DHTMLSuite.globalVariableStorage=function(){this.menuBar_highlightedItems=[];this.arrayOfDhtmlSuiteObjects=this.arrayDSObjects=[];this.ajaxObjects=[]};DHTMLSuite.globalVariableStorage.prototype={};DHTMLSuite.common=function(){this.cssCacheStatus=this.okToSelect=true;this.eventEls=[]};
DHTMLSuite.common.prototype={init:function(){this.loadedCSSFiles=[]},loadCSS:function(a,b){!b&&b!==false&&(b=true);if(!this.loadedCSSFiles[a]){this.loadedCSSFiles[a]=true;var c=document.createElement("LINK");if(!this.cssCacheStatus){a=a.indexOf("?")>=0?a+"&":a+"?";a=a+"rand="+Math.random()}c.href=b?DHTMLSuite.configObj.cssPath+a:a;c.rel="stylesheet";c.media="screen";c.type="text/css";document.getElementsByTagName("HEAD")[0].appendChild(c)}},__setTextSelOk:function(a){this.okToSelect=a},__isTextSelOk:function(){return this.okToSelect},
setCssCacheStatus:function(a){this.cssCacheStatus=a},getEl:function(a){if(typeof a=="string"){if(document.getElementById(a))return document.getElementById(a);if(document.forms[a])return document.forms[a];if(document[a])return document[a];if(window[a])return window[a]}return a},isArray:function(a){return a.constructor.toString().indexOf("Array")!=-1?true:false},getStyle:function(a,b){a=this.getEl(a);if(document.defaultView&&document.defaultView.getComputedStyle){var c=null,d=document.defaultView.getComputedStyle(a,
"");d&&(c=d[b]);return a.style[b]||c}if(document.documentElement.currentStyle&&DHTMLSuite.clientInfoObj.isMSIE){a.currentStyle&&(value=a.currentStyle[b]);return a.style[b]||null}return a.style[b]},getLeftPos:function(a){if(document.getBoxObjectFor&&a.tagName!="INPUT"&&a.tagName!="SELECT"&&a.tagName!="TEXTAREA")return document.getBoxObjectFor(a).x;for(var b=a.offsetLeft;(a=a.offsetParent)!=null;)if(a.tagName!="HTML"){b=b+a.offsetLeft;document.all&&(b=b+a.clientLeft)}return b},getTopPos:function(a){if(document.getBoxObjectFor&&
a.tagName!="INPUT"&&a.tagName!="SELECT"&&a.tagName!="TEXTAREA")return document.getBoxObjectFor(a).y;for(var b=a.offsetTop;(a=a.offsetParent)!=null;)if(a.tagName!="HTML"){b=b+(a.offsetTop-a.scrollTop);document.all&&(b=b+a.clientTop)}return b},sgetCookie:function(a){var b=document.cookie.indexOf(a+"="),c=b+a.length+1;if(!b&&a!=document.cookie.substring(0,a.length)||b==-1)return null;a=document.cookie.indexOf(";",c);if(a==-1)a=document.cookie.length;return unescape(document.cookie.substring(c,a))},setCookie:function(a,
b,c,d,e,f){var c=c*864E5,g=new Date((new Date).getTime()+c),a=a+"="+escape(b)+(c?";expires="+g.toGMTString():"")+(d?";path="+d:"")+(e?";domain="+e:"")+(f?";secure":"");document.cookie=a},deleteCookie:function(a,b,c){if(this.getCookie(a))document.cookie=a+"="+(b?";path="+b:"")+(c?";domain="+c:"")+";expires=Thu,01-Jan-1970 00:00:01 GMT"},cancelEvent:function(){return false},addEvent:function(a,b,c,d){d||(d="");if(a.attachEvent){if(typeof DHTMLSuite_funcs[b+c+d]!="function"){DHTMLSuite_funcs[b+c+d]=
function(){c.apply(window.event.srcElement)};a.attachEvent("on"+b,DHTMLSuite_funcs[b+c+d])}a=null}else a.addEventListener(b,c,false);this.__addEventEl(a)},removeEvent:function(a,b,c,d){if(a.detachEvent){a.detachEvent("on"+b,DHTMLSuite_funcs[b+c+d]);DHTMLSuite_funcs[b+c+d]=null}else a.removeEventListener(b,c,false)},__clearMemoryGarbage:function(){if(DHTMLSuite.clientInfoObj.isMSIE){for(var a=0;a<DHTMLSuite.eventEls.length;a++)try{var b=DHTMLSuite.eventEls[a];b.onclick=null;b.onmousedown=null;b.onmousemove=
null;b.onmouseout=null;b.onmouseover=null;b.onmouseup=null;b.onfocus=null;b.onblur=null;b.onkeydown=null;b.onkeypress=null;b.onkeyup=null;b.onselectstart=null;b.ondragstart=null;b.oncontextmenu=null;b=b.onscroll=null}catch(c){}for(a in DHTMLSuite.variableStorage.arrayDSObjects)DHTMLSuite.variableStorage.arrayDSObjects[a]=null;window.onbeforeunload=null;DHTMLSuite=window.onunload=null}},__addEventEl:function(a){DHTMLSuite.eventEls[DHTMLSuite.eventEls.length]=a},getSrcElement:function(a){var b;if(a.target)b=
a.target;else if(a.srcElement)b=a.srcElement;if(b.nodeType==3)b=b.parentNode;return b},getKeyFromEvent:function(a){a=this.getKeyCode(a);return String.fromCharCode(a)},getKeyCode:function(a){if(a.keyCode)code=a.keyCode;else if(a.which)code=a.which;return code},isObjectClicked:function(a,b){var c=this.getSrcElement(b);if(c==a)return true;for(;c.parentNode&&c.tagName.toLowerCase()!="html";){c=c.parentNode;if(c==a)return true}return false},getObjectByClassName:function(a,b){var c=this.getSrcElement(a);
if(c.className==b)return c;for(;c&&c.tagName.toLowerCase()!="html";){c=c.parentNode;if(c.className==b)return c}return false},getObjectByAttribute:function(a,b){var c=this.getSrcElement(a),d=c.getAttribute(b);d||(d=c[b]);if(d)return c;for(;c&&c.tagName.toLowerCase()!="html";){c=c.parentNode;(d=c.getAttribute("attribute"))||(d=c[b]);if(d)return c}return false},getUniqueId:function(){var a=Math.random()+"",a=a.replace(".",""),b=Math.random()+"",b=b.replace(".","");return a+b},getAssociativeArrayFromString:function(a){if(a){for(var b=
[],a=a.split(/,/g),c=0;c<a.length;c++){var d=a[c].split(/:/);b[d[0]]=d[1]}return b}},correctPng:function(a){a=DHTMLSuite.commonObj.getEl(a);a.outerHTML="<span style=\"display:inline-block;filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+a.src+"',sizingMethod='scale');width:"+a.width+";height:"+a.height+'"></span>'},__evaluateJs:function(a){for(var a=this.getEl(a),a=a.getElementsByTagName("SCRIPT"),b="",c=0;c<a.length;c++)if(a[c].src){document.getElementsByTagName("head");var d=document.createElement("script");
d.setAttribute("type","text/javascript");d.setAttribute("src",a[c].src)}else b=DHTMLSuite.clientInfoObj.isOpera?b+a[c].text+"\n":b+a[c].innerHTML;b&&this.__installScript(b)},__installScript:function(a){try{a&&(window.execScript?window.execScript(a):window.setTimeout(a,0))}catch(b){}},__evaluateCss:function(a){for(var a=this.getEl(a),a=a.getElementsByTagName("STYLE"),b=document.getElementsByTagName("HEAD")[0],c=0;c<a.length;c++)b.appendChild(a[c])}};DHTMLSuite.clientInfo=function(){};
DHTMLSuite.clientInfo.prototype={init:function(){this.browser=navigator.userAgent;this.isOpera=this.browser.toLowerCase().indexOf("opera")>=0?true:false;this.isFirefox=this.browser.toLowerCase().indexOf("firefox")>=0?true:false;this.isMSIE=this.browser.toLowerCase().indexOf("msie")>=0?true:false;this.isOldMSIE=this.browser.toLowerCase().match(/msie\s[0-6]/gi)?true:false;this.isSafari=this.browser.toLowerCase().indexOf("safari")>=0?true:false;this.navigatorVersion=navigator.appVersion.replace(/.*?MSIE\s(\d\.\d).*/g,
"$1")/1;this.isOldMSIE=this.isMSIE&&this.navigatorVersion<7?true:false},getBrowserWidth:function(){return self.innerWidth?self.innerWidth:document.documentElement.offsetWidth},getBrowserHeight:function(){return self.innerHeight?self.innerHeight:document.documentElement.offsetHeight}};DHTMLSuite.domQuery=function(){document.getElementsByClassName=this.getElementsByClassName;document.getElementsByAttribute=this.getElementsByAttribute};DHTMLSuite.domQuery.prototype={};
window.DHTMLSuite||(DHTMLSuite={});DHTMLSuite.calendarLanguageModel=function(a){this.monthArray=[];this.monthArrayShort=[];this.dayArray=[];a||(a="en");this.languageCode=a;this.__setCalendarProperties()};
DHTMLSuite.calendarLanguageModel.prototype={__setCalendarProperties:function(){switch(this.languageCode){case "fi":this.monthArray=["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"];this.monthArrayShort=["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"];this.dayArray=["Maa","Tii","Kes","Tor","Per","Lau","Sun"];this.weekString="Viikko";this.todayIsString="T&auml;n&auml;&auml;n on";this.todayString=
"T&auml;n&auml;&auml;n";this.timeString="Kello";break;case "ge":this.monthArray=["Januar","Februar","M\u00e4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"];this.monthArrayShort=["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"];this.dayArray=["Mon","Die","Mit","Don","Fre","Sam","Son"];this.weekString="Woche";this.todayString=this.todayIsString="Heute";this.timeString="";break;case "no":this.monthArray=["Januar","Februar","Mars","April",
"Mai","Juni","Juli","August","September","Oktober","November","Desember"];this.monthArrayShort=["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"];this.dayArray=["Man","Tir","Ons","Tor","Fre","L&oslash;r","S&oslash;n"];this.weekString="Uke";this.todayIsString="Dagen i dag er";this.todayString="I dag";this.timeString="Tid";break;case "nl":this.monthArray=["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"];this.monthArrayShort=
["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"];this.dayArray=["Ma","Di","Wo","Do","Vr","Za","Zo"];this.weekString="Week";this.todayString=this.todayIsString="Vandaag";this.timeString="";break;case "es":this.monthArray=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"];this.monthArrayShort=["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"];this.dayArray=["Lun","Mar","Mie","Jue","Vie","Sab",
"Dom"];this.weekString="Semana";this.todayIsString="Hoy es";this.todayString="Hoy";this.timeString="";break;case "pt-br":this.monthArray=["Janeiro","Fevereiro","Mar&ccedil;o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];this.monthArrayShort=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];this.dayArray=["Seg","Ter","Qua","Qui","Sex","S&aacute;b","Dom"];this.weekString="Sem.";this.todayIsString="Hoje &eacute;";this.todayString="Hoje";
this.timeString="";break;case "fr":this.monthArray=["Janvier","F\u00e9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\u00fbt","Septembre","Octobre","Novembre","D\u00e9cembre"];this.monthArrayShort=["Jan","Fev","Mar","Avr","Mai","Jun","Jul","Aou","Sep","Oct","Nov","Dec"];this.dayArray=["Lun","Mar","Mer","Jeu","Ven","Sam","Dim"];this.weekString="Sem";this.todayIsString="Aujourd'hui";this.todayString="Aujourd";this.timeString="";break;case "da":this.monthArray=["januar","februar","marts","april","maj",
"juni","juli","august","september","oktober","november","december"];this.monthArrayShort=["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"];this.dayArray=["man","tirs","ons","tors","fre","l&oslash;r","s&oslash;n"];this.weekString="Uge";this.todayIsString="I dag er den";this.todayString="I dag";this.timeString="Tid";break;case "it":this.monthArray=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"];this.monthArrayShort=
["Gen","Feb","Mar","Apr","Mag","Giu","Lugl","Ago","Set","Ott","Nov","Dic"];this.dayArray=["Lun","Mar","Mer","Gio","Ven","Sab","Dom"];this.weekString="Sett";this.todayString=this.todayIsString="Oggi &egrave;il";this.timeString="";break;case "sv":this.monthArray=["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"];this.monthArrayShort=["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"];this.dayArray=["M&aring;n","Tis",
"Ons","Tor","Fre","L&ouml;r","S&ouml;n"];this.weekString="Vecka";this.todayString=this.todayIsString="Idag &auml;r det den";this.timeString="";break;default:this.monthArray=["January","February","March","April","May","June","July","August","September","October","November","December"];this.monthArrayShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];this.dayArray=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];this.weekString="Week";this.todayIsString="";this.todayString="Today";
this.timeString="Time"}}};DHTMLSuite.calendarModel=function(a){this.weekStartsOnMonday=true;this.languageCode="en";this.invalidDateRange=[];this.__createDefaultModel(a)};
DHTMLSuite.calendarModel.prototype={setCallbackFunctionOnMonthChange:function(a){this.callbackFunctionOnMonthChange=a},addInvalidDateRange:function(a,b){var c=this.invalidDateRange.length;this.invalidDateRange[c]={};if(a){a.day=a.day+"";a.month=a.month+"";a.year=a.year+"";if(!a.month)a.month=a.month="1";if(!a.day)a.day=a.day="1";if(a.day.length==1)a.day="0"+a.day;if(a.month.length==1)a.month="0"+a.month;this.invalidDateRange[c].fromDate=a.year+a.month+a.day}else this.invalidDateRange[c].fromDate=
false;if(b){b.day=b.day+"";b.month=b.month+"";b.year=b.year+"";if(!b.month)b.month=b.month="1";if(!b.day)b.day=b.day="1";if(b.day.length==1)b.day="0"+b.day;if(b.month.length==1)b.month="0"+b.month;this.invalidDateRange[c].toDate=b.year+b.month+b.day}else this.invalidDateRange[c].toDate=false},isDateWithinValidRange:function(a){if(this.invalidDateRange.length==0)return true;var b=a.month+"";b.length==1&&(b="0"+b);var c=a.day+"";c.length==1&&(c="0"+c);a=a.year+b+c;for(b=0;b<this.invalidDateRange.length;b++)if(!this.invalidDateRange[b].fromDate&&
this.invalidDateRange[b].toDate>=a||!this.invalidDateRange[b].toDate&&this.invalidDateRange[b].fromDate<=a||this.invalidDateRange[b].fromDate<=a&&this.invalidDateRange[b].toDate>=a)return false;return true},setInitialDateFromInput:function(a,b){if(a.value.length>0)if(b.match(/^[0-9]*?$/gi)){var c=b.indexOf("mm");this.initialMonth=a.value.substr(c,2)/1;c=b.indexOf("yyyy");this.initialYear=a.value.substr(c,4);c=b.indexOf("dd");this.initialDay=tmpDay=a.value.substr(c,2);c=b.indexOf("hh");if(c>=0)this.initialHour=
tmpHour=a.value.substr(c,2);else this.initialHour="00";c=b.indexOf("ii");if(c>=0)this.initialMinute=tmpMinute=a.value.substr(c,2);else this.initialMinute="00"}else{a.value.split(/[^0-9]/gi);c={};c.m=b.indexOf("mm");if(c.m==-1)c.m=b.indexOf("m");c.d=b.indexOf("dd");if(c.d==-1)c.d=b.indexOf("d");c.y=b.indexOf("yyyy");c.h=b.indexOf("hh");c.i=b.indexOf("ii");this.initialMinute=this.initialHour="00";for(var d=["y","m","d","h","i"],e=["initialYear","initialMonth","initialDay","initialHour","initialMinute"],
f=[4,2,2,2,2],g=0;g<d.length;g++)c[d[g]]>=0&&(this[e[g]]=a.value.substr(c[d[g]],f[g])/1)}this.__setDisplayedDateToInitialData()},__setDisplayedDateToInitialData:function(){this.displayedYear=this.initialYear;this.displayedMonth=this.initialMonth;this.displayedDay=this.initialDay;this.displayedHour=this.initialHour;this.displayedMinute=this.initialMinute},__calendarSortItems:function(a,b){return a/1-b/1},setWeekStartsOnMonday:function(a){this.weekStartsOnMonday=a},setLanguageCode:function(a){this.languageModel=
new DHTMLSuite.calendarLanguageModel(a)},__isLeapYear:function(a){return a%400==0||a%4==0&&a%100!=0?true:false},getWeekStartsOnMonday:function(){return this.weekStartsOnMonday},__createDefaultModel:function(a){var b=new Date;this.initialYear=b.getFullYear();this.initialMonth=b.getMonth()+1;this.initialDay=b.getDate();this.initialHour=b.getHours();if(a){if(a.initialYear)this.initialYear=a.initialYear;if(a.initialMonth)this.initialMonth=a.initialMonth;if(a.initialDay)this.initialDay=a.initialDay;if(a.initialHour)this.initialHour=
a.initialHour;if(a.initialMinute)this.initialMinute=a.initialMinute;if(a.languageCode)this.languageCode=a.languageCode}this.displayedYear=this.initialYear;this.displayedMonth=this.initialMonth;this.displayedDay=this.initialDay;this.displayedHour=this.initialHour;this.displayedMinute=this.initialMinute;this.languageModel=new DHTMLSuite.calendarLanguageModel},__getDisplayedDay:function(){return this.displayedDay},__getDisplayedHourWithLeadingZeros:function(){var a=this.__getDisplayedHour()+"";a.length==
1&&(a="0"+a);return a},__getDisplayedMinuteWithLeadingZeros:function(){var a=this.__getDisplayedMinute()+"";a.length==1&&(a="0"+a);return a},__getDisplayedDayWithLeadingZeros:function(){var a=this.__getDisplayedDay()+"";a.length==1&&(a="0"+a);return a},__getDisplayedMonthNumberWithLeadingZeros:function(){var a=this.__getDisplayedMonthNumber()+"";a.length==1&&(a="0"+a);return a},__getDisplayedYear:function(){return this.displayedYear},__getDisplayedHour:function(){if(!this.displayedHour)this.displayedHour=
0;return this.displayedHour},__getDisplayedMinute:function(){if(!this.displayedMinute)this.displayedMinute=0;return this.displayedMinute},__getDisplayedMonthNumber:function(){return this.displayedMonth},__getInitialDay:function(){return this.initialDay},__getInitialYear:function(){return this.initialYear},__getInitialMonthNumber:function(){return this.initialMonth},__getMonthNameByMonthNumber:function(a){return this.languageModel.monthArray[a-1]},__moveOneYearBack:function(){this.displayedYear--},
__moveOneYearForward:function(){this.displayedYear++},__moveOneMonthBack:function(){this.displayedMonth--;if(this.displayedMonth<1){this.displayedMonth=12;this.displayedYear--}},__moveOneMonthForward:function(){this.displayedMonth++;if(this.displayedMonth>12){this.displayedMonth=1;this.displayedYear++}},__setDisplayedYear:function(a){var b=a!=this.displayedYear;this.displayedYear=a;return b},__setDisplayedMonth:function(a){var b=a!=this.displayedMonth;this.displayedMonth=a;return b},__setDisplayedDay:function(a){this.displayedDay=
a},__setDisplayedHour:function(a){this.displayedHour=a/1},__setDisplayedMinute:function(a){this.displayedMinute=a/1},__getPreviousYearAndMonthAsArray:function(){var a=this.displayedMonth-1,b=this.displayedYear;if(a==0){a=12;b=b-1}return[b,a]},__getNumberOfDaysInCurrentDisplayedMonth:function(){return this.__getNumberOfDaysInAMonthByMonthAndYear(this.displayedYear,this.displayedMonth)},__getNumberOfDaysInAMonthByMonthAndYear:function(a,b){var c=[31,28,31,30,31,30,31,31,30,31,30,31][b-1];c==28&&this.__isLeapYear(a)&&
(c=29);return c/1},__getStringWeek:function(){return this.languageModel.weekString},__getDaysMondayToSunday:function(){return this.languageModel.dayArray},__getDaysSundayToSaturday:function(){var a=this.languageModel.dayArray.concat(),b=Array(a[a.length-1]);a.pop();return b.concat(a)},__getWeekNumberFromDayMonthAndYear:function(a,b,c){c=c/1;a=a/1;b=b/1;if(!this.weekStartsOnMonday)return this.__getWeekNumberFromDayMonthAndYear_S(a,b,c);var d=Math.floor((14-b)/12),a=a+4800-d,b=c+Math.floor((153*(b+
12*d-3)+2)/5)+365*a+Math.floor(a/4)-Math.floor(a/100)+Math.floor(a/400)-32045,b=(b+31741-b%7)%146097%36524%1461,c=Math.floor(b/1460);return NumberOfWeek=Math.floor(((b-c)%365+c)/7)+1},__getWeekNumberFromDayMonthAndYear_S:function(a,b,c){b--;now=Date.UTC(a,b,c+1,0,0,0);b=new Date;b.setYear(a);b.setMonth(0);b.setDate(1);then=Date.UTC(a,0,1,0,0,0);a=b.getDay();return NumberOfWeek=Math.round(((now-then)/864E5+(a>3?a-4:a+3))/7)},__getDayNumberFirstDayInYear:function(a){var b=new Date;b.setFullYear(a);
b.setDate(1);b.setMonth(0);return b.getDay()},__getRemainingDaysInPreviousMonthAsArray:function(){var a=new Date;a.setFullYear(this.displayedYear);a.setDate(1);a.setMonth(this.displayedMonth-1);a=a.getDay();if(this.weekStartsOnMonday){a==0&&(a=7);a--}for(var b=this.__getPreviousYearAndMonthAsArray(),b=this.__getNumberOfDaysInAMonthByMonthAndYear(b[0],b[1]),c=[],d=0;d<a;d++)c[c.length]=b-a+d+1;return c},__getMonthNames:function(){return this.languageModel.monthArray},__getTodayAsString:function(){return this.languageModel.todayString},
__getTimeAsString:function(){return this.languageModel.timeString}};
DHTMLSuite.calendar=function(a){this.e=null;this.displayTimeBar=false;this.minuteDropDownInterval=5;this.htmlElementReferences={};this.posRefToHtmlEl=false;this.displayTodaysDateInNavigationBar=this.displayNavigationBar=this.displayCloseButton=true;this.minuteDropDownOffsetInMinute=this.minuteDropDownOffsetInHour=this.hourDropDownOffsetInHour=this.yearDropDownOffsetInYear=0;this.layoutCSS="calendar.css";this.scrollInMinuteDropDownActive=this.scrollInHourDropDownActive=this.scrollInYearDropDownActive=
this.isDragable=false;this.numberOfRowsInYearDropDown=this.numberOfRowsInHourDropDown=this.numberOfRowsInMinuteDropDown=10;this.dateOfToday=new Date;try{standardObjectsCreated||DHTMLSuite.createStandardObjects()}catch(b){alert("Include the dhtmlSuite-common.js file")}this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this;a&&this.__setInitialData(a)};
DHTMLSuite.calendar.prototype={setCallbackFunctionOnDayClick:function(a){this.callbackFunctionOnDayClick=a},setCallbackFunctionOnMonthChange:function(a){if(!this.calendarModelReference)this.calendarModelReference=new DHTMLSuite.calendarModel;this.callbackFunctionOnMonthChange=a},setCallbackFunctionOnClose:function(a){this.callbackFunctionOnClose=a},setCalendarModelReference:function(a){this.calendarModelReference=a},setCalendarPositionByHTMLElement:function(a,b,c){this.posRefToHtmlEl=a=DHTMLSuite.commonObj.getEl(a);
b||(b=0);c||(c=0);this.positioningOffsetXInPixels=b;this.positioningOffsetYInPixels=c},addHtmlElementReference:function(a,b){b=DHTMLSuite.commonObj.getEl(b);a&&(this.htmlElementReferences[a]=b)},getHtmlElementReferences:function(){return this.htmlElementReferences},setDisplayCloseButton:function(a){this.displayCloseButton=a},setTargetReference:function(a){this.targetReference=a=DHTMLSuite.commonObj.getEl(a)},setIsDragable:function(a){this.isDragable=a},resetViewDisplayedMonth:function(){if(this.divElement){if(!this.calendarModelReference)this.calendarModelReference=
new DHTMLSuite.calendarModel;this.calendarModelReference.__setDisplayedDateToInitialData();this.__populateCalHeading();this.__populateMonthView()}},setLayoutCss:function(a){this.layoutCSS=a},__init:function(){if(this.divElement){this.divElement.style.display="block";this.__populateCalHeading();this.__populateMonthView()}else{if(!this.calendarModelReference)this.calendarModelReference=new DHTMLSuite.calendarModel;this.__createMainHtmlEls();this.__createHeadingElements();this.__createNavigationBar();
this.__populateNavigationBar();this.__populateCalHeading();this.__createCalMonthView();this.__populateMonthView();this.__createTimeBar();this.__populateTimeBar();this.__createDropDownYears();this.__populateDropDownYears();this.__positionDropDownYears();this.__createDropDownMonth();this.__populateDropDownMonths();this.__positionDropDownMonths();this.__createDropDownHours();this.__populateDropDownHours();this.__positionDropDownHours();this.__createDropDownMinutes();this.__populateDropDownMinutes();
this.__positionDropDownMinutes();this.__addEvents()}this.__resizePrimaryiframeEl()},display:function(){this.divElement||this.__init();this.__positionCalendar();this.divElement.style.display="block";this.__resizePrimaryiframeEl()},hide:function(){if(this.__handleCalendarCallBack("calendarClose")===false)return false;this.divElement.style.display="none";this.divElYearDropdown.style.display="none";this.divElMonthDropdown.style.display="none"},isVisible:function(){return!this.divElement?false:this.divElement.style.display==
"block"?true:false},setInitialDateFromInput:function(a,b){if(!this.calendarModelReference)this.calendarModelReference=new DHTMLSuite.calendarModel;this.calendarModelReference.setInitialDateFromInput(a,b)},setDisplayedYear:function(a){a=this.calendarModelReference.__setDisplayedYear(a);this.__populateCalHeading();this.__populateMonthView();a&&this.__handleCalendarCallBack("monthChange")},setDisplayedMonth:function(a){a=this.calendarModelReference.__setDisplayedMonth(a);this.__populateCalHeading();
this.__populateMonthView();a&&this.__handleCalendarCallBack("monthChange")},setDisplayedHour:function(a){this.calendarModelReference.__setDisplayedHour(a);this.__populateTimeBar()},setDisplayedMinute:function(a){this.calendarModelReference.__setDisplayedMinute(a);this.__populateTimeBar()},__createDropDownMonth:function(){this.divElMonthDropdown=document.createElement("DIV");this.divElMonthDropdown.style.display="none";this.divElMonthDropdown.className="DHTMLSuite_calendar_monthDropDown";document.body.appendChild(this.divElMonthDropdown)},
__populateDropDownMonths:function(){this.divElMonthDropdown.innerHTML="";for(var a=this.objectIndex,b=this.calendarModelReference.__getMonthNames(),c=0;c<b.length;c++){var d=document.createElement("DIV");d.className="DHTMLSuite_calendar_dropDownAMonth";if(c+1==this.calendarModelReference.__getDisplayedMonthNumber())d.className="DHTMLSuite_calendar_yearDropDownCurrentMonth";d.innerHTML=b[c];d.id="DHTMLSuite_calendarMonthPicker"+(c+1);d.onmouseover=this.__mouseoverMonthInDropDown;d.onmouseout=this.__mouseoutMonthInDropDown;
d.onclick=function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__setMonthFromDropdown(b)};this.divElMonthDropdown.appendChild(d);DHTMLSuite.commonObj.__addEventEl(d)}},__createDropDownYears:function(){this.divElYearDropdown=document.createElement("DIV");this.divElYearDropdown.style.display="none";this.divElYearDropdown.className="DHTMLSuite_calendar_yearDropDown";document.body.appendChild(this.divElYearDropdown)},__createDropDownHours:function(){this.divElHourDropdown=document.createElement("DIV");
this.divElHourDropdown.style.display="none";this.divElHourDropdown.className="DHTMLSuite_calendar_hourDropDown";document.body.appendChild(this.divElHourDropdown)},__createDropDownMinutes:function(){this.divElMinuteDropdown=document.createElement("DIV");this.divElMinuteDropdown.style.display="none";this.divElMinuteDropdown.className="DHTMLSuite_calendar_minuteDropDown";document.body.appendChild(this.divElMinuteDropdown)},__populateDropDownMinutes:function(){var a=this.objectIndex;this.divElMinuteDropdown.innerHTML=
"";var b=document.createElement("DIV");b.className="DHTMLSuite_calendar_dropDown_arrowUp";b.onmouseover=function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__mouseoverUpAndDownArrowsInDropDownMinutes(b)};b.onmouseout=function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__mouseoutUpAndDownArrowsInDropDownMinutes(b)};this.divElMinuteDropdown.appendChild(b);DHTMLSuite.commonObj.__addEventEl(b);this.divElMinuteDropdownParent=document.createElement("DIV");this.divElMinuteDropdown.appendChild(this.divElMinuteDropdownParent);
this.__populateMinutesInsideDropDownMinutes(this.divElMinuteDropdownParent);var c=document.createElement("DIV");c.className="DHTMLSuite_calendar_dropDown_arrowDown";c.innerHTML="<span></span>";c.onmouseover=function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__mouseoverUpAndDownArrowsInDropDownMinutes(b)};c.onmouseout=function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__mouseoutUpAndDownArrowsInDropDownMinutes(b)};DHTMLSuite.commonObj.__addEventEl(c);this.divElMinuteDropdown.appendChild(c);
if(60/this.minuteDropDownInterval<this.numberOfRowsInMinuteDropDown){b.style.display="none";c.style.display="none"}},__populateMinutesInsideDropDownMinutes:function(){var a=this.objectIndex;this.divElMinuteDropdownParent.innerHTML="";if(60/this.minuteDropDownInterval<this.numberOfRowsInMinuteDropDown)b=0;else{var b=Math.max(0,this.calendarModelReference.__getDisplayedMinute()-Math.round(this.numberOfRowsInMinuteDropDown/2)),b=b+this.minuteDropDownOffsetInMinute*this.minuteDropDownInterval;if(b<0){b=
b+this.minuteDropDownInterval;this.minuteDropDownOffsetInMinute++}if(b+this.numberOfRowsInMinuteDropDown*this.minuteDropDownInterval>60){b=b-this.minuteDropDownInterval;this.minuteDropDownOffsetInMinute--}}for(var c=b;c<Math.min(60,b+this.numberOfRowsInMinuteDropDown*this.minuteDropDownInterval);c=c+this.minuteDropDownInterval){var d=document.createElement("DIV");d.className="DHTMLSuite_calendar_dropDownAMinute";if(c==this.calendarModelReference.__getDisplayedMinute())d.className="DHTMLSuite_calendar_minuteDropDownCurrentMinute";
var e="";c<10&&(e="0");d.innerHTML=e+c;d.onmouseover=this.__mouseoverMinuteInDropDown;d.onmouseout=this.__mouseoutMinuteInDropDown;d.onclick=function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__setMinuteFromDropdown(b)};this.divElMinuteDropdownParent.appendChild(d);DHTMLSuite.commonObj.__addEventEl(d)}},__populateDropDownHours:function(){var a=this.objectIndex;this.divElHourDropdown.innerHTML="";var b=document.createElement("DIV");b.className="DHTMLSuite_calendar_dropDown_arrowUp";b.onmouseover=
function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__mouseoverUpAndDownArrowsInDropDownHours(b)};b.onmouseout=function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__mouseoutUpAndDownArrowsInDropDownHours(b)};this.divElHourDropdown.appendChild(b);DHTMLSuite.commonObj.__addEventEl(b);this.divElHourDropdownParentHours=document.createElement("DIV");this.divElHourDropdown.appendChild(this.divElHourDropdownParentHours);this.__populateHoursInsideDropDownHours(this.divElHourDropdownParentHours);
b=document.createElement("DIV");b.className="DHTMLSuite_calendar_dropDown_arrowDown";b.innerHTML="<span></span>";b.onmouseover=function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__mouseoverUpAndDownArrowsInDropDownHours(b)};b.onmouseout=function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__mouseoutUpAndDownArrowsInDropDownHours(b)};DHTMLSuite.commonObj.__addEventEl(b);this.divElHourDropdown.appendChild(b)},__populateHoursInsideDropDownHours:function(){var a=this.objectIndex;this.divElHourDropdownParentHours.innerHTML=
"";var b=Math.max(0,this.calendarModelReference.__getDisplayedHour()-Math.round(this.numberOfRowsInHourDropDown/2)),b=Math.min(14,b);if(b+this.hourDropDownOffsetInHour+this.numberOfRowsInHourDropDown>24)this.hourDropDownOffsetInHour=24-b-this.numberOfRowsInHourDropDown;if(b+this.hourDropDownOffsetInHour<0)this.hourDropDownOffsetInHour=b*-1;b=b+this.hourDropDownOffsetInHour;b<0&&(b=0);b>24-this.numberOfRowsInHourDropDown&&(b=24-this.numberOfRowsInHourDropDown);for(var c=b;c<b+this.numberOfRowsInHourDropDown;c++){var d=
document.createElement("DIV");d.className="DHTMLSuite_calendar_dropDownAnHour";if(c==this.calendarModelReference.__getDisplayedHour())d.className="DHTMLSuite_calendar_hourDropDownCurrentHour";var e="";c<10&&(e="0");d.innerHTML=e+c;d.onmouseover=this.__mouseoverHourInDropDown;d.onmouseout=this.__mouseoutHourInDropDown;d.onclick=function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__setHourFromDropdown(b)};this.divElHourDropdownParentHours.appendChild(d);DHTMLSuite.commonObj.__addEventEl(d)}},__populateDropDownYears:function(){var a=
this.objectIndex;this.divElYearDropdown.innerHTML="";var b=document.createElement("DIV");b.className="DHTMLSuite_calendar_dropDown_arrowUp";b.onmouseover=function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__mouseoverUpAndDownArrowsInDropDownYears(b)};b.onmouseout=function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__mouseoutUpAndDownArrowsInDropDownYears(b)};this.divElYearDropdown.appendChild(b);DHTMLSuite.commonObj.__addEventEl(b);this.divElYearDropdownParentYears=document.createElement("DIV");
this.divElYearDropdown.appendChild(this.divElYearDropdownParentYears);this.__populateYearsInsideDropDownYears(this.divElYearDropdownParentYears);b=document.createElement("DIV");b.className="DHTMLSuite_calendar_dropDown_arrowDown";b.innerHTML="<span></span>";b.onmouseover=function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__mouseoverUpAndDownArrowsInDropDownYears(b)};b.onmouseout=function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__mouseoutUpAndDownArrowsInDropDownYears(b)};DHTMLSuite.commonObj.__addEventEl(b);
this.divElYearDropdown.appendChild(b)},__populateYearsInsideDropDownYears:function(){var a=this.objectIndex;this.divElYearDropdownParentYears.innerHTML="";for(var b=this.calendarModelReference.__getDisplayedYear()-5+this.yearDropDownOffsetInYear,c=b;c<b+this.numberOfRowsInYearDropDown;c++){var d=document.createElement("DIV");d.className="DHTMLSuite_calendar_dropDownAYear";if(c==this.calendarModelReference.__getDisplayedYear())d.className="DHTMLSuite_calendar_yearDropDownCurrentYear";d.innerHTML=c;
d.onmouseover=this.__mouseoverYearInDropDown;d.onmouseout=this.__mouseoutYearInDropDown;d.onclick=function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__setYearFromDropdown(b)};this.divElYearDropdownParentYears.appendChild(d);DHTMLSuite.commonObj.__addEventEl(d)}},__positionDropDownMonths:function(){this.divElMonthDropdown.style.left=DHTMLSuite.commonObj.getLeftPos(this.divElMonthNInHead)+"px";this.divElMonthDropdown.style.top=DHTMLSuite.commonObj.getTopPos(this.divElMonthNInHead)+this.divElMonthNInHead.offsetHeight+
"px";if(this.iframeElDropDowns){var a=this.iframeElDropDowns.style;a.left=this.divElMonthDropdown.style.left;a.top=this.divElMonthDropdown.style.top;a.width=this.divElMonthDropdown.clientWidth+"px";a.height=this.divElMonthDropdown.clientHeight+"px";a.display=this.divElMonthDropdown.style.display}},__positionDropDownYears:function(){this.divElYearDropdown.style.left=DHTMLSuite.commonObj.getLeftPos(this.divElYearInHeading)+"px";this.divElYearDropdown.style.top=DHTMLSuite.commonObj.getTopPos(this.divElYearInHeading)+
this.divElYearInHeading.offsetHeight+"px";if(this.iframeElDropDowns){var a=this.iframeElDropDowns.style;a.left=this.divElYearDropdown.style.left;a.top=this.divElYearDropdown.style.top;a.width=this.divElYearDropdown.clientWidth+"px";a.height=this.divElYearDropdown.clientHeight+"px";a.display=this.divElYearDropdown.style.display}},__positionDropDownHours:function(){this.divElHourDropdown.style.left=DHTMLSuite.commonObj.getLeftPos(this.divElHrInTimeBar)+"px";this.divElHourDropdown.style.top=DHTMLSuite.commonObj.getTopPos(this.divElHrInTimeBar)+
this.divElHrInTimeBar.offsetHeight+"px";if(this.iframeElDropDowns){var a=this.iframeElDropDowns.style;a.left=this.divElHourDropdown.style.left;a.top=this.divElHourDropdown.style.top;a.width=this.divElHourDropdown.clientWidth+"px";a.height=this.divElHourDropdown.clientHeight+"px";a.display=this.divElHourDropdown.style.display}},__positionDropDownMinutes:function(){this.divElMinuteDropdown.style.left=DHTMLSuite.commonObj.getLeftPos(this.divElMinInTimeBar)+"px";this.divElMinuteDropdown.style.top=DHTMLSuite.commonObj.getTopPos(this.divElMinInTimeBar)+
this.divElMinInTimeBar.offsetHeight+"px";if(this.iframeElDropDowns){var a=this.iframeElDropDowns.style;a.left=this.divElMinuteDropdown.style.left;a.top=this.divElMinuteDropdown.style.top;a.width=this.divElMinuteDropdown.clientWidth+"px";a.height=this.divElMinuteDropdown.clientHeight+"px";a.display=this.divElMinuteDropdown.style.display}},__setMonthFromDropdown:function(a){document.all&&(a=event);a=DHTMLSuite.commonObj.getSrcElement(a);this.__showHideDropDownBoxMonth();this.setDisplayedMonth(a.id.replace(/[^0-9]/gi,
""))},__setYearFromDropdown:function(a){document.all&&(a=event);a=DHTMLSuite.commonObj.getSrcElement(a);this.__showHideDropDownBoxYear();this.setDisplayedYear(a.innerHTML)},__setHourFromDropdown:function(a){document.all&&(a=event);a=DHTMLSuite.commonObj.getSrcElement(a);this.__showHideDropDownBoxHour();this.setDisplayedHour(a.innerHTML)},__setMinuteFromDropdown:function(a){document.all&&(a=event);a=DHTMLSuite.commonObj.getSrcElement(a);this.__showHideDropDownBoxMinute();this.setDisplayedMinute(a.innerHTML)},
__autoHideDropDownBoxes:function(a){document.all&&(a=event);var b=DHTMLSuite.commonObj.getSrcElement(a);if(!(b.className.indexOf("MonthAndYear")>=0||b.className.indexOf("HourAndMinute")>=0)||!DHTMLSuite.commonObj.isObjectClicked(this.divElement,a)){this.__showHideDropDownBoxMonth("none");this.__showHideDropDownBoxYear("none");this.__showHideDropDownBoxHour("none");this.__showHideDropDownBoxMinute("none")}},__showHideDropDownBoxMonth:function(a){if(!a){this.__showHideDropDownBoxYear("none");this.__showHideDropDownBoxHour("none")}this.divElMonthDropdown.style.display=
a?a:this.divElMonthDropdown.style.display=="block"?"none":"block";this.__populateDropDownMonths();this.__positionDropDownMonths()},__showHideDropDownBoxYear:function(a){if(!a){this.__showHideDropDownBoxMonth("none");this.__showHideDropDownBoxHour("none");this.__showHideDropDownBoxMinute("none")}this.divElYearDropdown.style.display=a?a:this.divElYearDropdown.style.display=="block"?"none":"block";this.divElYearDropdown.style.display=="none"?this.yearDropDownOffsetInYear=0:this.__populateDropDownYears();
this.__positionDropDownYears()},__showHideDropDownBoxHour:function(a){if(!a){this.__showHideDropDownBoxYear("none");this.__showHideDropDownBoxMonth("none");this.__showHideDropDownBoxMinute("none")}this.divElHourDropdown.style.display=a?a:this.divElHourDropdown.style.display=="block"?"none":"block";this.divElHourDropdown.style.display=="none"?this.hourDropDownOffsetInHour=0:this.__populateDropDownHours();this.__positionDropDownHours()},__showHideDropDownBoxMinute:function(a){if(!a){this.__showHideDropDownBoxYear("none");
this.__showHideDropDownBoxMonth("none");this.__showHideDropDownBoxHour("none")}this.divElMinuteDropdown.style.display=a?a:this.divElMinuteDropdown.style.display=="block"?"none":"block";this.divElMinuteDropdown.style.display=="none"?this.minuteDropDownOffsetInMinute=0:this.__populateDropDownMinutes();this.__positionDropDownMinutes()},__createMainHtmlEls:function(){this.divElement=document.createElement("DIV");this.divElement.className="DHTMLSuite_calendar";this.divElContent=document.createElement("DIV");
this.divElement.appendChild(this.divElContent);this.divElContent.className="DHTMLSuite_calendarContent";this.targetReference?this.targetReference.appendChild(this.divElement):document.body.appendChild(this.divElement);if(this.isDragable)try{this.referenceToDragDropObject=new DHTMLSuite.dragDropSimple({elementReference:this.divElement})}catch(a){alert("Include DHTMLSuite-dragDropSimple.js for the drag feature")}if(DHTMLSuite.clientInfoObj.isMSIE&&DHTMLSuite.clientInfoObj.navigatorVersion<8){this.iframeEl=
document.createElement('<iframe src="about:blank" frameborder="0">');this.iframeEl.className="DHTMLSuite_calendar_iframe";this.iframeEl.style.left="0px";this.iframeEl.style.top="0px";this.iframeEl.style.position="absolute";this.divElement.appendChild(this.iframeEl);this.iframeElDropDowns=document.createElement('<iframe src="about:blank" frameborder="0">');this.iframeElDropDowns.className="DHTMLSuite_calendar_iframe";this.iframeElDropDowns.style.display="none";document.body.appendChild(this.iframeElDropDowns)}},
__createHeadingElements:function(){this.divElHeading=document.createElement("DIV");if(this.isDragable){this.referenceToDragDropObject.addDragHandle(this.divElHeading);this.divElHeading.style.cursor="move"}this.divElHeading.className="DHTMLSuite_calendarHeading";this.divElContent.appendChild(this.divElHeading);this.divElHeading.style.position="relative";this.divElClose=document.createElement("DIV");this.divElClose.innerHTML="<span></span>";this.divElClose.className="DHTMLSuite_calendarCloseButton";
this.divElHeading.appendChild(this.divElClose);if(!this.displayCloseButton)this.divElClose.style.display="none";this.divElHeadingTxt=document.createElement("DIV");this.divElHeadingTxt.className="DHTMLSuite_calendarHeadingTxt";if(DHTMLSuite.clientInfoObj.isMSIE)var a=document.createElement('<TABLE cellpadding="0" cellspacing="0" border="0">');else{a=document.createElement("TABLE");a.setAttribute("cellpadding",0);a.setAttribute("cellspacing",0);a.setAttribute("border",0)}a.style.margin="0 auto";var b=
document.createElement("TBODY");a.appendChild(b);this.divElHeadingTxt.appendChild(a);a=b.insertRow(0);b=a.insertCell(-1);this.divElMonthNInHead=document.createElement("DIV");this.divElMonthNInHead.className="DHTMLSuite_calendarHeaderMonthAndYear";b.appendChild(this.divElMonthNInHead);var b=a.insertCell(-1),c=document.createElement("SPAN");c.innerHTML=",";b.appendChild(c);b=a.insertCell(-1);this.divElYearInHeading=document.createElement("DIV");this.divElYearInHeading.className="DHTMLSuite_calendarHeaderMonthAndYear";
b.appendChild(this.divElYearInHeading);this.divElHeading.appendChild(this.divElHeadingTxt)},__createNavigationBar:function(){this.divElNavBar=document.createElement("DIV");this.divElNavBar.className="DHTMLSuite_calendar_navigationBar";this.divElContent.appendChild(this.divElNavBar);this.divElBtnPreviousYear=document.createElement("DIV");this.divElBtnPreviousYear.className="DHTMLSuite_calendar_btnPreviousYear";this.divElBtnPreviousYear.innerHTML="<span></span>";this.divElNavBar.appendChild(this.divElBtnPreviousYear);
this.divElBtnNextYear=document.createElement("DIV");this.divElBtnNextYear.className="DHTMLSuite_calendar_btnNextYear";this.divElBtnNextYear.innerHTML="<span></span>";this.divElNavBar.appendChild(this.divElBtnNextYear);this.divElBtnPrvMonth=document.createElement("DIV");this.divElBtnPrvMonth.className="DHTMLSuite_calendar_btnPreviousMonth";this.divElBtnPrvMonth.innerHTML="<span></span>";this.divElNavBar.appendChild(this.divElBtnPrvMonth);this.divElBtnNextMonth=document.createElement("DIV");this.divElBtnNextMonth.className=
"DHTMLSuite_calendar_btnNextMonth";this.divElBtnNextMonth.innerHTML="<span></span>";this.divElNavBar.appendChild(this.divElBtnNextMonth);this.divElTodayInNavBar=document.createElement("DIV");this.divElTodayInNavBar.className="DHTMLSuite_calendar_navigationBarToday";this.divElNavBar.appendChild(this.divElTodayInNavBar);if(!this.displayNavigationBar)this.divElNavBar.style.display="none";if(!this.displayTodaysDateInNavigationBar)this.divElTodayInNavBar.style.display="none"},__populateNavigationBar:function(){var a=
this.objectIndex;this.divElTodayInNavBar.innerHTML="";var b=document.createElement("SPAN");b.innerHTML=this.calendarModelReference.__getTodayAsString();b.onclick=function(){DHTMLSuite.variableStorage.arrayDSObjects[a].__displayMonthOfToday()};this.divElTodayInNavBar.appendChild(b);DHTMLSuite.commonObj.__addEventEl(b)},__createCalMonthView:function(){this.divElMonthView=document.createElement("DIV");this.divElMonthView.className="DHTMLSuite_calendar_monthView";this.divElContent.appendChild(this.divElMonthView)},
__populateMonthView:function(){var a=this.objectIndex;this.divElMonthView.innerHTML="";var b=this.calendarModelReference;if(DHTMLSuite.clientInfoObj.isMSIE)var c=document.createElement('<TABLE cellpadding="1" cellspacing="0" border="0" width="100%">');else{c=document.createElement("TABLE");c.setAttribute("cellpadding",1);c.setAttribute("cellspacing",0);c.setAttribute("border",0);c.width="100%"}var d=document.createElement("TBODY");c.appendChild(d);this.divElMonthView.appendChild(c);c=d.insertRow(-1);
c.className="DHTMLSuite_calendar_monthView_headerRow";var e=c.insertCell(-1);e.className="DHTMLSuite_calendar_monthView_firstColumn";e.innerHTML=b.__getStringWeek();for(var f=b.getWeekStartsOnMonday()?b.__getDaysMondayToSunday():b.__getDaysSundayToSaturday(),g=0;g<f.length;g++){e=c.insertCell(-1);e.innerHTML=f[g];e.className="DHTMLSuite_calendar_monthView_headerCell";if(b.getWeekStartsOnMonday()&&g==6)e.className="DHTMLSuite_calendar_monthView_headerSunday";if(!b.getWeekStartsOnMonday()&&g==0)e.className=
"DHTMLSuite_calendar_monthView_headerSunday"}c=d.insertRow(-1);e=c.insertCell(-1);e.className="DHTMLSuite_calendar_monthView_firstColumn";f=b.__getWeekNumberFromDayMonthAndYear(b.__getDisplayedYear(),b.__getDisplayedMonthNumber(),1);e.innerHTML=f>0?f:53;for(var h=b.__getRemainingDaysInPreviousMonthAsArray(),g=0;g<h.length;g++){e=c.insertCell(-1);e.innerHTML=h[g];e.className="DHTMLSuite_calendar_monthView_daysInOtherMonths"}for(var j=b.__getNumberOfDaysInCurrentDisplayedMonth(),h=h.length+1,g=1;g<=
j;g++){e=c.insertCell(-1);e.innerHTML=g;e.className="DHTMLSuite_calendar_monthView_daysInThisMonth";DHTMLSuite.commonObj.__addEventEl(e);if(h%7==0&&b.getWeekStartsOnMonday())e.className="DHTMLSuite_calendar_monthView_sundayInThisMonth";if(h%7==1&&!b.getWeekStartsOnMonday())e.className="DHTMLSuite_calendar_monthView_sundayInThisMonth";if(g==b.__getInitialDay()&&b.__getDisplayedYear()==b.__getInitialYear()&&b.__getDisplayedMonthNumber()==b.__getInitialMonthNumber())e.className="DHTMLSuite_calendar_monthView_initialDate";
if(b.isDateWithinValidRange({year:b.__getDisplayedYear(),month:b.__getDisplayedMonthNumber(),day:g})){e.onmousedown=function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__mousedownOnDayInCalendar(b)};e.onmouseover=this.__mouseoverCalendarDay;e.onmouseout=this.__mouseoutCalendarDay;DHTMLSuite.commonObj.__addEventEl(e)}else e.className="DHTMLSuite_calendar_monthView_invalidDate";if(g==this.dateOfToday.getDate()&&b.__getDisplayedYear()==this.dateOfToday.getFullYear()&&b.__getDisplayedMonthNumber()==
this.dateOfToday.getMonth()+1)e.className="DHTMLSuite_calendar_monthView_currentDate";if(h%7==0&&g<j){c=d.insertRow(-1);e=c.insertCell(-1);e.className="DHTMLSuite_calendar_monthView_firstColumn";f++;e.innerHTML=f}h++}if((h-1)%7>0){b=1;for(g=(h-1)%7;g<7;g++){e=c.insertCell(-1);e.innerHTML=b;e.className="DHTMLSuite_calendar_monthView_daysInOtherMonths";b++}}},__createTimeBar:function(){this.divElTimeBar=document.createElement("DIV");this.divElTimeBar.className="DHTMLSuite_calendar_timeBar";this.divElContent.appendChild(this.divElTimeBar);
if(DHTMLSuite.clientInfoObj.isMSIE)var a=document.createElement('<TABLE cellpadding="0" cellspacing="0" border="0">');else{a=document.createElement("TABLE");a.setAttribute("cellpadding",0);a.setAttribute("cellspacing",0);a.setAttribute("border",0)}a.style.margin="0 auto";this.divElTimeBar.appendChild(a);var a=a.insertRow(0),b=a.insertCell(-1);this.divElHrInTimeBar=document.createElement("DIV");this.divElHrInTimeBar.className="DHTMLSuite_calendar_timeBarHourAndMinute";b.appendChild(this.divElHrInTimeBar);
var b=a.insertCell(-1),c=document.createElement("SPAN");c.innerHTML=":";c.className="DHTMLSuite_calendar_dropDownAYear";b.appendChild(c);b=a.insertCell(-1);this.divElMinInTimeBar=document.createElement("DIV");this.divElMinInTimeBar.className="DHTMLSuite_calendar_timeBarHourAndMinute";b.appendChild(this.divElMinInTimeBar);this.divElTimeStringInTimeBar=document.createElement("DIV");this.divElTimeStringInTimeBar.className="DHTMLSuite_calendarTimeBarTimeString";this.divElTimeBar.appendChild(this.divElTimeStringInTimeBar);
if(!this.displayTimeBar)this.divElTimeBar.style.display="none"},__populateTimeBar:function(){this.divElHrInTimeBar.innerHTML=this.calendarModelReference.__getDisplayedHourWithLeadingZeros();this.divElMinInTimeBar.innerHTML=this.calendarModelReference.__getDisplayedMinuteWithLeadingZeros();this.divElTimeStringInTimeBar.innerHTML=this.calendarModelReference.__getTimeAsString()+":"},__populateCalHeading:function(){this.divElMonthNInHead.innerHTML=this.calendarModelReference.__getMonthNameByMonthNumber(this.calendarModelReference.__getDisplayedMonthNumber());
this.divElYearInHeading.innerHTML=this.calendarModelReference.__getDisplayedYear()},__mousedownOnDayInCalendar:function(a){document.all&&(a=event);a=DHTMLSuite.commonObj.getSrcElement(a);this.calendarModelReference.__setDisplayedDay(a.innerHTML);this.__handleCalendarCallBack("dayClick")},__handleCalendarCallBack:function(a){var b="",c="";switch(a){case "dayClick":if(this.callbackFunctionOnDayClick){b=this.callbackFunctionOnDayClick.func;if(typeof this.callbackFunctionOnDayClick.params!="undefined")for(i=
0;i<this.callbackFunctionOnDayClick.params.length;i++)c=c+(",'"+this.callbackFunctionOnDayClick.params[i]+"'")}break;case "monthChange":if(this.callbackFunctionOnMonthChange)b=this.callbackFunctionOnMonthChange;break;case "calendarClose":if(this.callbackFunctionOnClose)b=this.callbackFunctionOnClose}if(b){b=b+"({ year:"+this.calendarModelReference.__getDisplayedYear()+',month:"'+this.calendarModelReference.__getDisplayedMonthNumberWithLeadingZeros()+'",day:"'+this.calendarModelReference.__getDisplayedDayWithLeadingZeros()+
'",hour:"'+this.calendarModelReference.__getDisplayedHourWithLeadingZeros()+'",minute:"'+this.calendarModelReference.__getDisplayedMinuteWithLeadingZeros()+'",calendarRef:this';b=b+"}"+c+")"}if(b)return this.__evaluateCallBackString(b)},__evaluateCallBackString:function(a){try{return eval(a)}catch(b){alert("Could not excute call back function "+a+"\n"+b.message)}},__displayMonthOfToday:function(){var a=new Date,b=a.getMonth()+1,a=a.getFullYear();this.setDisplayedYear(a);this.setDisplayedMonth(b)},
__moveOneYearBack:function(){this.calendarModelReference.__moveOneYearBack();this.__populateCalHeading();this.__populateMonthView();this.__handleCalendarCallBack("monthChange")},__moveOneYearForward:function(){this.calendarModelReference.__moveOneYearForward();this.__populateCalHeading();this.__populateMonthView();this.__handleCalendarCallBack("monthChange")},__moveOneMonthBack:function(){this.calendarModelReference.__moveOneMonthBack();this.__populateCalHeading();this.__populateMonthView();this.__handleCalendarCallBack("monthChange")},
__moveOneMonthForward:function(){this.calendarModelReference.__moveOneMonthForward();this.__populateCalHeading();this.__populateMonthView();this.__handleCalendarCallBack("monthChange")},__addEvents:function(){var a=this.objectIndex;this.divElClose.onmouseover=this.__mouseoverCalendarButton;this.divElClose.onmouseout=this.__mouseoutCalendarButton;this.divElClose.onclick=function(){DHTMLSuite.variableStorage.arrayDSObjects[a].hide();G_CALENDAR_CURRENT_OBJ=null};DHTMLSuite.commonObj.__addEventEl(this.divElClose);
this.divElBtnPreviousYear.onmouseover=this.__mouseoverCalendarButton;this.divElBtnPreviousYear.onmouseout=this.__mouseoutCalendarButton;this.divElBtnPreviousYear.onclick=function(){DHTMLSuite.variableStorage.arrayDSObjects[a].__moveOneYearBack()};DHTMLSuite.commonObj.__addEventEl(this.divElBtnPreviousYear);this.divElBtnNextYear.onmouseover=this.__mouseoverCalendarButton;this.divElBtnNextYear.onmouseout=this.__mouseoutCalendarButton;this.divElBtnNextYear.onclick=function(){DHTMLSuite.variableStorage.arrayDSObjects[a].__moveOneYearForward()};
DHTMLSuite.commonObj.__addEventEl(this.divElBtnNextYear);this.divElBtnPrvMonth.onmouseover=this.__mouseoverCalendarButton;this.divElBtnPrvMonth.onmouseout=this.__mouseoutCalendarButton;this.divElBtnPrvMonth.onclick=function(){DHTMLSuite.variableStorage.arrayDSObjects[a].__moveOneMonthBack()};DHTMLSuite.commonObj.__addEventEl(this.divElBtnPrvMonth);this.divElBtnNextMonth.onmouseover=this.__mouseoverCalendarButton;this.divElBtnNextMonth.onmouseout=this.__mouseoutCalendarButton;this.divElBtnNextMonth.onclick=
function(){DHTMLSuite.variableStorage.arrayDSObjects[a].__moveOneMonthForward()};DHTMLSuite.commonObj.__addEventEl(this.divElBtnNextMonth);this.divElYearInHeading.onmouseover=this.__mouseoverMonthAndYear;this.divElYearInHeading.onmouseout=this.__mouseoutMonthAndYear;this.divElYearInHeading.onclick=function(){DHTMLSuite.variableStorage.arrayDSObjects[a].__showHideDropDownBoxYear()};DHTMLSuite.commonObj.__addEventEl(this.divElYearInHeading);this.divElMonthNInHead.onmouseover=this.__mouseoverMonthAndYear;
this.divElMonthNInHead.onmouseout=this.__mouseoutMonthAndYear;this.divElMonthNInHead.onclick=function(){DHTMLSuite.variableStorage.arrayDSObjects[a].__showHideDropDownBoxMonth()};DHTMLSuite.commonObj.__addEventEl(this.divElMonthNInHead);this.divElHrInTimeBar.onmouseover=this.__mouseoverHourAndMinute;this.divElHrInTimeBar.onmouseout=this.__mouseoutHourAndMinute;this.divElHrInTimeBar.onclick=function(){DHTMLSuite.variableStorage.arrayDSObjects[a].__showHideDropDownBoxHour()};DHTMLSuite.commonObj.__addEventEl(this.divElHrInTimeBar);
this.divElMinInTimeBar.onmouseover=this.__mouseoverHourAndMinute;this.divElMinInTimeBar.onmouseout=this.__mouseoutHourAndMinute;this.divElMinInTimeBar.onclick=function(){DHTMLSuite.variableStorage.arrayDSObjects[a].__showHideDropDownBoxMinute()};DHTMLSuite.commonObj.__addEventEl(this.divElMinInTimeBar);this.divElHeading.onselectstart=function(){return false};DHTMLSuite.commonObj.__addEventEl(this.divElHeading);DHTMLSuite.commonObj.addEvent(document.documentElement,"click",function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__autoHideDropDownBoxes(b)},
a+"")},__resizePrimaryiframeEl:function(){if(this.iframeEl){this.iframeEl.style.width=this.divElement.clientWidth+"px";this.iframeEl.style.height=this.divElement.clientHeight+"px"}},__scrollInYearDropDown:function(a){if(this.scrollInYearDropDownActive){var b=this.objectIndex;this.yearDropDownOffsetInYear=this.yearDropDownOffsetInYear+a;this.__populateYearsInsideDropDownYears();setTimeout("DHTMLSuite.variableStorage.arrayDSObjects["+b+"].__scrollInYearDropDown("+a+")",150)}},__mouseoverUpAndDownArrowsInDropDownYears:function(a){var b=
this.objectIndex;document.all&&(a=event);var a=DHTMLSuite.commonObj.getSrcElement(a),c=a.className.toLowerCase().indexOf("up")>=0?-1:1;a.className=a.className+" DHTMLSuite_calendarDropDown_dropDownArrowOver";this.scrollInYearDropDownActive=true;setTimeout("DHTMLSuite.variableStorage.arrayDSObjects["+b+"].__scrollInYearDropDown("+c+")",100)},__mouseoutUpAndDownArrowsInDropDownYears:function(a){document.all&&(a=event);a=DHTMLSuite.commonObj.getSrcElement(a);a.className=a.className.replace(" DHTMLSuite_calendarDropDown_dropDownArrowOver",
"");this.scrollInYearDropDownActive=false},__scrollInHourDropDown:function(a){if(this.scrollInHourDropDownActive){var b=this.objectIndex;this.hourDropDownOffsetInHour=this.hourDropDownOffsetInHour+a;this.__populateHoursInsideDropDownHours();setTimeout("DHTMLSuite.variableStorage.arrayDSObjects["+b+"].__scrollInHourDropDown("+a+")",150)}},__mouseoverUpAndDownArrowsInDropDownHours:function(a){var b=this.objectIndex;document.all&&(a=event);var a=DHTMLSuite.commonObj.getSrcElement(a),c=a.className.toLowerCase().indexOf("up")>=
0?-1:1;a.className=a.className+" DHTMLSuite_calendarDropDown_dropDownArrowOver";this.scrollInHourDropDownActive=true;setTimeout("DHTMLSuite.variableStorage.arrayDSObjects["+b+"].__scrollInHourDropDown("+c+")",100)},__mouseoutUpAndDownArrowsInDropDownHours:function(a){document.all&&(a=event);a=DHTMLSuite.commonObj.getSrcElement(a);a.className=a.className.replace(" DHTMLSuite_calendarDropDown_dropDownArrowOver","");this.scrollInHourDropDownActive=false},__scrollInMinuteDropDown:function(a){if(this.scrollInMinuteDropDownActive){var b=
this.objectIndex;this.minuteDropDownOffsetInMinute=this.minuteDropDownOffsetInMinute+a;this.__populateMinutesInsideDropDownMinutes();setTimeout("DHTMLSuite.variableStorage.arrayDSObjects["+b+"].__scrollInMinuteDropDown("+a+")",150)}},__mouseoverUpAndDownArrowsInDropDownMinutes:function(a){var b=this.objectIndex;document.all&&(a=event);var a=DHTMLSuite.commonObj.getSrcElement(a),c=a.className.toLowerCase().indexOf("up")>=0?-1:1;a.className=a.className+" DHTMLSuite_calendarDropDown_dropDownArrowOver";
this.scrollInMinuteDropDownActive=true;setTimeout("DHTMLSuite.variableStorage.arrayDSObjects["+b+"].__scrollInMinuteDropDown("+c+")",100)},__mouseoutUpAndDownArrowsInDropDownMinutes:function(a){document.all&&(a=event);a=DHTMLSuite.commonObj.getSrcElement(a);a.className=a.className.replace(" DHTMLSuite_calendarDropDown_dropDownArrowOver","");this.scrollInMinuteDropDownActive=false},__mouseoverYearInDropDown:function(){this.className=this.className+" DHTMLSuite_calendar_dropdownAYearOver"},__mouseoutYearInDropDown:function(){this.className=
this.className.replace(" DHTMLSuite_calendar_dropdownAYearOver","")},__mouseoverHourInDropDown:function(){this.className=this.className+" DHTMLSuite_calendar_dropdownAnHourOver"},__mouseoutHourInDropDown:function(){this.className=this.className.replace(" DHTMLSuite_calendar_dropdownAnHourOver","")},__mouseoverMinuteInDropDown:function(){this.className=this.className+" DHTMLSuite_calendar_dropdownAMinuteOver"},__mouseoutMinuteInDropDown:function(){this.className=this.className.replace(" DHTMLSuite_calendar_dropdownAMinuteOver",
"")},__mouseoverMonthInDropDown:function(){this.className=this.className+" DHTMLSuite_calendar_dropdownAMonthOver"},__mouseoutMonthInDropDown:function(){this.className=this.className.replace(" DHTMLSuite_calendar_dropdownAMonthOver","")},__mouseoverCalendarDay:function(){this.className=this.className+" DHTMLSuite_calendarDayOver"},__mouseoutCalendarDay:function(){this.className=this.className.replace(" DHTMLSuite_calendarDayOver","")},__mouseoverCalendarButton:function(){this.className=this.className+
" DHTMLSuite_calendarButtonOver"},__mouseoutCalendarButton:function(){this.className=this.className.replace(" DHTMLSuite_calendarButtonOver","")},__mouseoverMonthAndYear:function(){this.className=this.className+" DHTMLSuite_calendarHeaderMonthAndYearOver"},__mouseoutMonthAndYear:function(){this.className=this.className.replace(" DHTMLSuite_calendarHeaderMonthAndYearOver","")},__mouseoverHourAndMinute:function(){this.className=this.className+" DHTMLSuite_calendarTimeBarHourAndMinuteOver"},__mouseoutHourAndMinute:function(){this.className=
this.className.replace(" DHTMLSuite_calendarTimeBarHourAndMinuteOver","")},__positionCalendar:function(){if(this.posRefToHtmlEl){this.divElement.parentNode!=document.body&&document.body.appendChild(this.divElement);this.divElement.style.position="absolute";var a,b;if(self.pageYOffset){a=self.pageXOffset;b=self.pageYOffset}else if(document.documentElement&&document.documentElement.scrollTop){a=document.documentElement.scrollLeft;b=document.documentElement.scrollTop}else if(document.body){a=document.body.scrollLeft;
b=document.body.scrollTop}a=document.all?a+this.e.clientX:this.e.pageX;b=document.all?b+this.e.clientY:this.e.pageY;this.divElement.style.left=a+"px";this.divElement.style.top=b+"px"}},__setInitialData:function(a){if(a.id)this.id=a.id;if(a.targetReference)this.targetReference=a.targetReference;if(a.calendarModelReference)this.calendarModelReference=a.calendarModelReference;if(a.callbackFunctionOnDayClick)this.callbackFunctionOnDayClick=a.callbackFunctionOnDayClick;if(a.callbackFunctionOnMonthChange)this.callbackFunctionOnMonthChange=
a.callbackFunctionOnMonthChange;if(a.callbackFunctionOnClose)this.callbackFunctionOnClose=a.callbackFunctionOnClose;if(a.displayCloseButton||a.displayCloseButton===false)this.displayCloseButton=a.displayCloseButton;if(a.displayNavigationBar||a.displayNavigationBar===false)this.displayNavigationBar=a.displayNavigationBar;if(a.displayTodaysDateInNavigationBar||a.displayTodaysDateInNavigationBar===false)this.displayTodaysDateInNavigationBar=a.displayTodaysDateInNavigationBar;if(a.minuteDropDownInterval)this.minuteDropDownInterval=
a.minuteDropDownInterval;if(a.numberOfRowsInHourDropDown)this.numberOfRowsInHourDropDown=a.numberOfRowsInHourDropDown;if(a.numberOfRowsInMinuteDropDown)this.numberOfRowsInHourDropDown=a.numberOfRowsInMinuteDropDown;if(a.numberOfRowsInYearDropDown)this.numberOfRowsInYearDropDown=a.numberOfRowsInYearDropDown;if(a.isDragable||a.isDragable===false)this.isDragable=a.isDragable;if(a.displayTimeBar||a.displayTimeBar===false)this.displayTimeBar=a.displayTimeBar}};window.DHTMLSuite||(DHTMLSuite={});
var DHTMLSuite_dragDropSimple_curZIndex=1E5,DHTMLSuite_dragDropSimple_curObjIndex=!1;
DHTMLSuite.dragDropSimple=function(a){this.cloneNode=true;this.positionSet=false;this.dragHandle=[];this.allowMoveY=this.allowMoveX=true;this.callbackOnBeforeDrag=this.callbackOnAfterDrag=this.minY=this.minX=this.maxX=this.maxY=false;this.dragStatus=-1;try{standardObjectsCreated||DHTMLSuite.createStandardObjects()}catch(b){alert("Include the dhtmlSuite-common.js file")}this.objectIndex=DHTMLSuite.variableStorage.arrayDSObjects.length;DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex]=this;
this.__setInitProps(a);this.__init()};
DHTMLSuite.dragDropSimple.prototype={__setInitProps:function(a){if(a.cloneNode===false||a.cloneNode)this.cloneNode=a.cloneNode;if(a.allowMoveX===false||a.allowMoveX)this.allowMoveX=a.allowMoveX;if(a.allowMoveY===false||a.allowMoveY)this.allowMoveY=a.allowMoveY;if(a.minY||a.minY===0)this.minY=a.minY;if(a.maxY||a.maxY===0)this.maxY=a.maxY;if(a.minX||a.minX===0)this.minX=a.minX;if(a.maxX||a.maxX===0)this.maxX=a.maxX;if(!a.initOffsetX)a.initOffsetX=0;if(!a.initOffsetY)a.initOffsetY=0;this.initOffsetX=
a.initOffsetX;this.initOffsetY=a.initOffsetY;if(a.callbackOnBeforeDrag)this.callbackOnBeforeDrag=a.callbackOnBeforeDrag;if(a.callbackOnAfterDrag)this.callbackOnAfterDrag=a.callbackOnAfterDrag;if(a.callbackOnDuringDrag)this.callbackOnDuringDrag=a.callbackOnDuringDrag;a.elementReference=DHTMLSuite.commonObj.getEl(a.elementReference);this.divElement=a.elementReference;this.initialXPos=DHTMLSuite.commonObj.getLeftPos(this.divElement);this.initialYPos=DHTMLSuite.commonObj.getTopPos(this.divElement);a.dragHandle&&
(this.dragHandle[this.dragHandle.length]=DHTMLSuite.commonObj.getEl(a.dragHandle))},__init:function(){var a=this.objectIndex;this.divElement.objectIndex=a;this.divElement.setAttribute("objectIndex",a);this.divElement.style.padding="0px";if(this.allowMoveX)this.divElement.style.left=DHTMLSuite.commonObj.getLeftPos(this.divElement)+this.initOffsetX+"px";if(this.allowMoveY)this.divElement.style.top=DHTMLSuite.commonObj.getTopPos(this.divElement)+this.initOffsetY+"px";this.divElement.style.position="absolute";
this.divElement.style.margin="0px";this.divElement.style.zIndex&&this.divElement.style.zIndex/1>DHTMLSuite_dragDropSimple_curZIndex&&(DHTMLSuite_dragDropSimple_curZIndex=this.divElement.style.zIndex/1);DHTMLSuite_dragDropSimple_curZIndex=DHTMLSuite_dragDropSimple_curZIndex/1+1;this.divElement.style.zIndex=DHTMLSuite_dragDropSimple_curZIndex;if(this.cloneNode){var b=this.divElement.cloneNode(true);this.divElement.parentNode.insertBefore(b,this.divElement);b.style.visibility="hidden";document.body.appendChild(this.divElement)}DHTMLSuite.commonObj.addEvent(this.divElement,
"mousedown",function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__initDragProcess(b)},a);DHTMLSuite.commonObj.addEvent(document.documentElement,"mousemove",function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__moveDragableElement(b)},a);DHTMLSuite.commonObj.addEvent(document.documentElement,"mouseup",function(b){DHTMLSuite.variableStorage.arrayDSObjects[a].__stopDragProcess(b)},a);if(!document.documentElement.onselectstart)document.documentElement.onselectstart=function(){return DHTMLSuite.commonObj.__isTextSelOk()}},
setCallbackOnAfterDrag:function(a){this.callbackOnAfterDrag=a},setCallbackOnBeforeDrag:function(a){this.callbackOnBeforeDrag=a},addDragHandle:function(a){this.dragHandle[this.dragHandle.length]=a},__initDragProcess:function(a){document.all&&(a=event);var b=this.objectIndex;DHTMLSuite_dragDropSimple_curObjIndex=b;b=DHTMLSuite.variableStorage.arrayDSObjects[b];if(DHTMLSuite.commonObj.isObjectClicked(b.divElement,a)){b.divElement.style.zIndex&&b.divElement.style.zIndex/1>DHTMLSuite_dragDropSimple_curZIndex&&
(DHTMLSuite_dragDropSimple_curZIndex=b.divElement.style.zIndex/1);DHTMLSuite_dragDropSimple_curZIndex=DHTMLSuite_dragDropSimple_curZIndex/1+1;b.divElement.style.zIndex=DHTMLSuite_dragDropSimple_curZIndex;b.callbackOnBeforeDrag&&b.__handleCallback("beforeDrag",a);if(b.dragHandle.length>0){for(var c,d=0;d<b.dragHandle.length;d++)c||(c=DHTMLSuite.commonObj.isObjectClicked(b.dragHandle[d],a));if(!c)return}DHTMLSuite.commonObj.__setTextSelOk(false);b.mouse_x=a.clientX;b.mouse_y=a.clientY;b.el_x=b.divElement.style.left.replace("px",
"")/1;b.el_y=b.divElement.style.top.replace("px","")/1;b.dragTimer=0;b.__waitBeforeDragProcessStarts();return false}},__waitBeforeDragProcessStarts:function(){var a=this.objectIndex;if(this.dragTimer>=0&&this.dragTimer<5){this.dragTimer++;setTimeout("DHTMLSuite.variableStorage.arrayDSObjects["+a+"].__waitBeforeDragProcessStarts()",5)}},__moveDragableElement:function(a){document.all&&(a=event);var b=DHTMLSuite.variableStorage.arrayDSObjects[this.objectIndex];if(DHTMLSuite.clientInfoObj.isMSIE&&a.button!=
1)return b.__stopDragProcess();if(b.dragTimer==5){if(b.allowMoveX){var c=a.clientX-this.mouse_x+this.el_x;this.maxX!==false&&c+document.documentElement.scrollLeft>this.initialXPos+this.maxX&&(c=this.initialXPos+this.maxX);this.minX!==false&&c+document.documentElement.scrollLeft<this.initialXPos+this.minX&&(c=this.initialXPos+this.minX);b.divElement.style.left=c+"px"}if(b.allowMoveY){c=a.clientY-b.mouse_y+b.el_y;this.maxY!==false&&c>this.initialYPos+this.maxY&&(c=this.initialYPos+this.maxY);this.minY!==
false&&c<this.initialYPos+this.minY&&(c=this.initialYPos+this.minY);b.divElement.style.top=c+"px"}this.callbackOnDuringDrag&&this.__handleCallback("duringDrag",a)}return false},__stopDragProcess:function(a){var b=this.objectIndex;DHTMLSuite.commonObj.__setTextSelOk(true);b=DHTMLSuite.variableStorage.arrayDSObjects[b];b.dragTimer==5&&b.__handleCallback("afterDrag",a);b.dragTimer=-1},__handleCallback:function(a){var b="";switch(a){case "afterDrag":b=this.callbackOnAfterDrag;break;case "beforeDrag":b=
this.callbackOnBeforeDrag;break;case "duringDrag":b=this.callbackOnDuringDrag}if(b){b=b+"(e)";try{eval(b)}catch(c){alert("Could not execute callback function("+b+")after drag")}}},__setNewCurrentZIndex:function(a){a>DHTMLSuite_dragDropSimple_curZIndex&&(DHTMLSuite_dragDropSimple_curZIndex=a/1+1)}};
var cases=function(){this.parent=leimnud;this.panels={};this.make=function(){this.options.target=this.parent.dom.element(this.options.target);var a;this.panels.list=a=new leimnud.module.panel;a.options={size:{w:310,h:250},position:{x:50,y:50},title:"List",theme:"processmaker",target:this.options.target,statusBar:true,limit:true,control:{resize:false,close:true,roll:false},fx:{opacity:true,rollWidth:150,fadeIn:false}};this.panels.step=a=new this.parent.module.panel;this.panels.step.options={size:{w:260,
h:550},title:this.options.title,target:this.options.target,cursorToDrag:"move",position:{x:5,y:5},limit:true,fx:{shadow:false,modal:false,opacity:false}};this.panels.step.setStyle={statusBar:{}};this.panels.step.styles.fx.opacityModal.Static=0;this.panels.step.make();this.panels.step.events={remove:[function(){delete this.panels.step}.extend(this)]};a.events.remove.push(function(){(new this.parent.module.rpc.xmlhttp({url:this.options.dataServer,args:"showWindow=false"})).make()}.extend(this));a.loader.show();
a=new this.parent.module.rpc.xmlhttp({url:this.options.dataServer,args:"action="+this.options.action+"&showWindow="+this.options.action});a.callback=function(a){this.panels.step.loader.hide();var c=a.xmlhttp.responseText.extractScript();this.panels.step.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this);a.make()};this.expand(this)},oLeyendsPanel,showInformation=function(){Cse.panels.step&&Cse.panels.step.remove();Cse.panels.step=new leimnud.module.panel;Cse.panels.step.options={title:G_STRINGS.ID_INFORMATION,
size:{w:260,h:450},position:{x:0,y:30,left:true},control:{close:true,resize:true},fx:{modal:false},statusBar:false,fx:{shadow:true,modal:false}};Cse.panels.step.make();Cse.panels.step.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=information&showWindow=information"});a.callback=function(a){Cse.panels.step.loader.hide();var c=a.xmlhttp.responseText.extractScript();Cse.panels.step.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this);a.make()},showActions=
function(){Cse.panels.step&&Cse.panels.step.remove();Cse.panels.step=new leimnud.module.panel;Cse.panels.step.options={title:G_STRINGS.ID_ACTIONS,size:{w:260,h:450},position:{x:0,y:30,left:true},control:{close:true,resize:true},fx:{modal:false},statusBar:false,fx:{shadow:true,modal:false}};Cse.panels.step.make();Cse.panels.step.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=actions&showWindow=actions"});a.callback=function(a){Cse.panels.step.loader.hide();var c=
a.xmlhttp.responseText.extractScript();Cse.panels.step.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this);a.make()},showProcessMap=function(){oPanel=new leimnud.module.panel;oPanel.options={size:{w:document.body.clientWidth*95/100,h:document.body.clientHeight*95/100},position:{x:0,y:0,center:true},title:G_STRINGS.ID_PROCESS_MAP,theme:"processmaker",statusBar:false,control:{resize:false,roll:false,drag:false},fx:{modal:true,opacity:true,blinkToFront:false,fadeIn:false,drag:false}};oPanel.events=
{remove:function(){oLeyendsPanel.remove();delete oPanel}.extend(this)};oPanel.make();oPanel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=showProcessMap"});a.callback=function(a){oPanel.loader.hide();var c=a.xmlhttp.responseText.extractScript();oPanel.addContent(a.xmlhttp.responseText);c.evalScript();oLeyendsPanel=new leimnud.module.panel;oLeyendsPanel.options={size:{w:160,h:155},position:{x:document.body.clientWidth*95/100-(document.body.clientWidth*95/100-(document.body.clientWidth*
95/100-160)),y:45,center:false},title:G_STRINGS.ID_COLOR_LEYENDS,theme:"processmaker",statusBar:false,control:{resize:false,roll:false,drag:true,close:false},fx:{modal:false,opacity:false,blinkToFront:true,fadeIn:false,drag:false}};oLeyendsPanel.setStyle={content:{overflow:"hidden"}};oLeyendsPanel.events={remove:function(){delete oLeyendsPanel}.extend(this)};oLeyendsPanel.make();oLeyendsPanel.loader.show();a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=showLeyends"});a.callback=function(a){oLeyendsPanel.loader.hide();
a.xmlhttp.responseText.extractScript();oLeyendsPanel.addContent(a.xmlhttp.responseText)}.extend(this);a.make()}.extend(this);a.make()},showProcessInformation=function(){oPanel=new leimnud.module.panel;oPanel.options={size:{w:450,h:260},position:{x:0,y:0,center:true},title:G_STRINGS.ID_PROCESS_INFORMATION,theme:"processmaker",statusBar:false,control:{resize:false,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel.events={remove:function(){delete oPanel}.extend(this)};oPanel.make();
oPanel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=showProcessInformation"});a.callback=function(a){oPanel.loader.hide();var c=a.xmlhttp.responseText.extractScript();oPanel.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this);a.make()},showTransferHistory=function(){oPanel=new leimnud.module.panel;oPanel.options={size:{w:900,h:520},position:{x:0,y:0,center:true},title:G_STRINGS.ID_CASE_HISTORY,theme:"processmaker",statusBar:false,control:{resize:false,
roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel.events={remove:function(){delete oPanel}.extend(this)};oPanel.make();oPanel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=showTransferHistory"});a.callback=function(a){oPanel.loader.hide();var c=a.xmlhttp.responseText.extractScript();oPanel.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this);a.make()};
function dynaformHistory(a,b,c,d){d||(d="");oPanel2=new leimnud.module.panel;oPanel2.options={size:{w:900,h:520},position:{x:0,y:0,center:true},title:"",theme:"processmaker",statusBar:true,control:{resize:false,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel2.events={remove:function(){delete oPanel2}.extend(this)};oPanel2.make();oPanel2.loader.show();a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=showDynaformListHistory&PRO_UID="+a+"&APP_UID="+b+"&TAS_UID="+
c+"&DYN_UID="+d});a.callback=function(a){oPanel2.loader.hide();var b=a.xmlhttp.responseText.extractScript();oPanel2.addContent(a.xmlhttp.responseText);b.evalScript()}.extend(this);a.make()}function toggleTable(a){table=getElementByName(a);table.style.display=table.style.display==""?"none":""}
var showTaskInformation=function(){oPanel=new leimnud.module.panel;oPanel.options={size:{w:450,h:322},position:{x:0,y:0,center:true},title:G_STRINGS.ID_TASK_INFORMATION,theme:"processmaker",statusBar:true,control:{resize:false,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel.events={remove:function(){delete oPanel}.extend(this)};oPanel.make();oPanel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=showTaskInformation"});a.callback=function(a){oPanel.loader.hide();
var c=a.xmlhttp.responseText.extractScript();oPanel.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this);a.make()},cancelCase=function(){(new leimnud.module.app.confirm).make({label:G_STRINGS.ID_CONFIRM_CANCEL_CASE,action:function(){var a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=cancelCase"});a.callback=function(){window.location="casesListExtJs"}.extend(this);a.make()}.extend(this)})},reactivateCase=function(){(new leimnud.module.app.confirm).make({label:G_STRINGS.ID_MSG_CONFIRM_REACTIVATE_CASES,
action:function(){var a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=reactivateCase"});a.callback=function(){window.location="casesListExtJs"}.extend(this);a.make()}.extend(this)})},pausecasePanel,pauseCase=function(){var a=document.getElementById("pausediv");document.getElementById("spause").style.display="none";document.getElementById("scpause").style.display="block";a.style.display="block";var b=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=showPauseCaseInput"});
b.callback=function(b){a.innerHTML=b.xmlhttp.responseText}.extend(this);b.make()};function cancelPauseCase(){document.getElementById("spause").style.display="block";document.getElementById("scpause").style.display="none";document.getElementById("pausediv").style.display="none"}
function toPause(){unpausedate=document.getElementById("form[unpause_date]").value;if(unpausedate.trim()==""){msgBox(G_STRINGS.ID_CONFIRM_PAUSE_CASE_ALERT,"alert");return 0}(new leimnud.module.app.confirm).make({label:G_STRINGS.ID_CONFIRM_PAUSE_CASE,action:function(){var a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=pauseCase&unpausedate="+unpausedate});a.callback=function(){window.location="casesListExtJs"}.extend(this);a.make()}.extend(this)})}
var deleteCase=function(a){(new leimnud.module.app.confirm).make({label:G_STRINGS.ID_CONFIRM_DELETE_CASE,action:function(){var b=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=deleteCase&sApplicationUID="+a});b.callback=function(){window.location="casesListExtJs"}.extend(this);b.make()}.extend(this)})},unpauseCase=function(){(new leimnud.module.app.confirm).make({label:G_STRINGS.ID_CONFIRM_UNPAUSE_CASE,action:function(){var a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=unpauseCase"});
a.callback=function(){window.location="casesListExtJs"}.extend(this);a.make()}.extend(this)})},view_reassignCase=function(){var a=new leimnud.module.panel;a.options={size:{w:450,h:450},position:{x:50,y:50,center:true},title:"",control:{close:true,resize:false},fx:{modal:true},statusBar:false,fx:{shadow:true,modal:true}};a.make();a.loader.show();var b=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=view_reassignCase"});b.callback=function(b){a.loader.hide();a.addContent(b.xmlhttp.responseText);
b.xmlhttp.responseText.extractScript().evalScript()};b.make()},reassignCase=function(a,b){var c=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=reassignCase&USR_UID="+a+"&THETYPE="+b});c.callback=function(){window.location="casesListExtJs"}.extend(this);c.make()},adhocAssignmentUsers=function(){oPanel=new leimnud.module.panel;oPanel.options={size:{w:450,h:450},position:{x:0,y:0,center:true},title:"",theme:"processmaker",statusBar:false,control:{resize:false,roll:false},fx:{modal:true,
opacity:true,blinkToFront:true,fadeIn:false}};oPanel.events={remove:function(){delete oPanel}.extend(this)};oPanel.make();oPanel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=adhocAssignmentUsers"});a.callback=function(a){oPanel.loader.hide();var c=a.xmlhttp.responseText.extractScript();oPanel.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this);a.make()},showUploadedDocuments=function(){oPanel=new leimnud.module.panel;oPanel.options={size:{w:700,h:350},
position:{x:0,y:0,center:true},title:G_STRINGS.ID_UPLOADED_DOCUMENTS,theme:"processmaker",statusBar:true,control:{resize:false,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel.events={remove:function(){delete oPanel}.extend(this)};oPanel.make();oPanel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=showUploadedDocuments"});a.callback=function(a){oPanel.loader.hide();var c=a.xmlhttp.responseText.extractScript();oPanel.addContent(a.xmlhttp.responseText);
c.evalScript()}.extend(this);a.make()},showUploadedDocument=function(a){oPanel2=new leimnud.module.panel;oPanel2.options={size:{w:300,h:300},position:{x:0,y:0,center:true},title:"",theme:"processmaker",statusBar:true,control:{resize:false,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel2.events={remove:function(){delete oPanel2}.extend(this)};oPanel2.make();oPanel2.loader.show();a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=showUploadedDocument&APP_DOC_UID="+
a});a.callback=function(a){oPanel2.loader.hide();var c=a.xmlhttp.responseText.extractScript();oPanel2.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this);a.make()},showGeneratedDocuments=function(){oPanel=new leimnud.module.panel;oPanel.options={size:{w:700,h:350},position:{x:0,y:0,center:true},title:G_STRINGS.ID_GENERATED_DOCUMENTS,theme:"processmaker",statusBar:true,control:{resize:false,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel.events={remove:function(){delete oPanel}.extend(this)};
oPanel.make();oPanel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=showGeneratedDocuments"});a.callback=function(a){oPanel.loader.hide();var c=a.xmlhttp.responseText.extractScript();oPanel.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this);a.make()},showGeneratedDocument=function(a){oPanel2=new leimnud.module.panel;oPanel2.options={size:{w:300,h:250},position:{x:0,y:0,center:true},title:"",theme:"processmaker",statusBar:true,control:{resize:false,roll:false},
fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel2.events={remove:function(){delete oPanel2}.extend(this)};oPanel2.make();oPanel2.loader.show();a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=showGeneratedDocument&APP_DOC_UID="+a});a.callback=function(a){oPanel2.loader.hide();var c=a.xmlhttp.responseText.extractScript();oPanel2.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this);a.make()},showDynaforms=function(){oPanel2=new leimnud.module.panel;oPanel2.options=
{size:{w:400,h:300},position:{x:0,y:0,center:true},title:G_STRINGS.ID_DYNAFORMS,theme:"processmaker",statusBar:true,control:{resize:false,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel2.events={remove:function(){delete oPanel2}.extend(this)};oPanel2.make();oPanel2.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=showDynaformList"});a.callback=function(a){oPanel2.loader.hide();var c=a.xmlhttp.responseText.extractScript();oPanel2.addContent(a.xmlhttp.responseText);
c.evalScript()}.extend(this);a.make()};
function showDynaform(a){oPanel2=new leimnud.module.panel;oPanel2.options={size:{w:800,h:600},position:{x:0,y:0,center:true},title:"",theme:"processmaker",statusBar:false,control:{resize:false,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel2.events={remove:function(){delete oPanel2}.extend(this)};oPanel2.make();var b=document.createElement("iframe");b.setAttribute("id","dynaFormIframe");b.src="cases_Ajax?action=showDynaform&DYN_UID="+a;b.style.border="0px";b.style.width=
"790";b.style.height=_client.height-20;oPanel2.addContent(b)}
function showDynaformHistory(a,b){oPanel2=new leimnud.module.panel;oPanel2.options={size:{w:550,h:400},position:{x:0,y:0,center:true},title:"",theme:"processmaker",statusBar:true,control:{resize:false,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel2.events={remove:function(){delete oPanel2}.extend(this)};oPanel2.make();oPanel2.loader.show();var c=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=showDynaformHistory&DYN_UID="+a+"&HISTORY_ID="+b});c.callback=
function(a){oPanel2.loader.hide();var b=a.xmlhttp.responseText.extractScript();oPanel2.addContent(a.xmlhttp.responseText);b.evalScript()}.extend(this);c.make()}
var messagesListPanel,showHistoryMessages=function(){oPanel=new leimnud.module.panel;oPanel.options={size:{w:800,h:420},position:{x:0,y:0,center:true},title:G_STRINGS.ID_HISTORY_MESSAGE_CASE,theme:"processmaker",statusBar:true,control:{resize:false,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel.events={remove:function(){delete oPanel}.extend(this)};oPanel.make();oPanel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=showHistoryMessages"});
a.callback=function(a){oPanel.loader.hide();var c=a.xmlhttp.responseText.extractScript();oPanel.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this);a.make();messagesListPanel=oPanel};
function showHistoryMessage(a,b){oPanel2=new leimnud.module.panel;oPanel2.options={size:{w:600,h:400},position:{x:0,y:0,center:true},title:"",theme:"processmaker",statusBar:true,control:{resize:false,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel2.events={remove:function(){delete oPanel2}.extend(this)};oPanel2.make();oPanel2.loader.show();var c=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=showHistoryMessage&APP_UID="+a+"&APP_MSG_UID="+b});c.callback=
function(a){oPanel2.loader.hide();var b=a.xmlhttp.responseText.extractScript();oPanel2.addContent(a.xmlhttp.responseText);b.evalScript()}.extend(this);c.make()}
var deleteUploadedDocument=function(a){(new leimnud.module.app.confirm).make({label:G_STRINGS.ID_MSG_CONFIRM_DELETE_FILE,action:function(){var b=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=deleteUploadedDocument&DOC="+a});b.callback=function(){window.location.href.indexOf("/cases/cases_Step")>-1&&window.location.href.indexOf("?TYPE=INPUT_DOCUMENT&UID=")>-1&&window.location.href.indexOf("&ACTION=VIEW&")>-1&&window.location.href.indexOf("&DOC="+a)>-1?window.location=getField("DYN_FORWARD"):
cases_AllInputdocsList.refresh()}.extend(this);b.make()}.extend(this)})},deleteGeneratedDocument=function(a){(new leimnud.module.app.confirm).make({label:G_STRINGS.ID_MSG_CONFIRM_DELETE_FILE,action:function(){var b=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=deleteGeneratedDocument&DOC="+a});b.callback=function(){window.location.href.indexOf("/cases/cases_Step")>-1&&window.location.href.indexOf("?TYPE=OUTPUT_DOCUMENT&UID=")>-1&&window.location.href.indexOf("&ACTION=VIEW&")>-1&&window.location.href.indexOf("&DOC="+
a)>-1?window.location=getField("DYN_FORWARD"):cases_AllOutputdocsList.refresh()}.extend(this);b.make()}.extend(this)})},resendMessage=function(a,b){(new leimnud.module.app.confirm).make({label:G_STRINGS.ID_MSG_CONFIRM_RESENDMSG,action:function(){var c=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=resendMessage&APP_UID="+a+"&APP_MSG_UID="+b});c.callback=function(){messagesListPanel.clearContent();messagesListPanel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",
args:"action=showHistoryMessages"});a.callback=function(a){messagesListPanel.loader.hide();var b=a.xmlhttp.responseText.extractScript();messagesListPanel.addContent(a.xmlhttp.responseText);b.evalScript()}.extend(this);a.make()}.extend(this);c.make()}.extend(this)})};
function showdebug(){if(typeof parent!="undefined"&&typeof parent.parent!="undefined"&&typeof parent.parent.Ext!="undefined"){if(!parent.parent.PANEL_EAST_OPEN){var a=parent.parent.Ext.getCmp("debugPanel");parent.parent.PANEL_EAST_OPEN=true;a.show();a.ownerCt.doLayout();a.expand()}parent.parent.propStore.load();parent.parent.triggerStore.load()}}
var uploadInputDocument=function(a,b,c,d){if(d){if(d=="R")windowTitle=G_STRINGS.ID_UPLOAD_REPLACE_INPUT;if(d=="NV")windowTitle=G_STRINGS.ID_UPLOAD_NEW_INPUT_VERSION}else{windowTitle=G_STRINGS.ID_UPLOAD_NEW_INPUT;c=1;b=d=""}oPanel=new leimnud.module.panel;oPanel.options={size:{w:550,h:300},position:{x:0,y:0,center:true},title:windowTitle,theme:"processmaker",statusBar:false,control:{resize:true,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel.events={remove:function(){delete oPanel}.extend(this)};
oPanel.make();oPanel.loader.show();a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=uploadInputDocument&docID="+a+"&appDocId="+b+"&docVersion="+c+"&actionType="+d});a.callback=function(a){oPanel.loader.hide();var b=a.xmlhttp.responseText.extractScript();oPanel.addContent(a.xmlhttp.responseText);b.evalScript()}.extend(this);a.make()},uploadToReviseInputDocument=function(a,b,c,d){if(d){if(d=="R")windowTitle=G_STRINGS.ID_UPLOAD_REPLACE_INPUT;if(d=="NV")windowTitle=G_STRINGS.ID_UPLOAD_NEW_INPUT_VERSION}else{windowTitle=
G_STRINGS.ID_UPLOAD_NEW_INPUT;c=1;d=""}oPanel=new leimnud.module.panel;oPanel.options={size:{w:550,h:300},position:{x:0,y:0,center:true},title:windowTitle,theme:"processmaker",statusBar:false,control:{resize:true,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel.events={remove:function(){delete oPanel}.extend(this)};oPanel.make();oPanel.loader.show();a=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=uploadToReviseInputDocument&docID="+a+"&appDocId="+b+"&docVersion="+
c+"&actionType="+d});a.callback=function(a){oPanel.loader.hide();var b=a.xmlhttp.responseText.extractScript();oPanel.addContent(a.xmlhttp.responseText);b.evalScript()}.extend(this);a.make()},inputDocumentVersionHistory=function(a,b){oPanel=new leimnud.module.panel;oPanel.options={size:{w:550,h:400},position:{x:0,y:0,center:true},title:G_STRINGS.ID_INPUT_DOCUMENT_HISTORY,theme:"processmaker",statusBar:false,control:{resize:true,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};
oPanel.events={remove:function(){delete oPanel}.extend(this)};oPanel.make();oPanel.loader.show();var c=new leimnud.module.rpc.xmlhttp({url:"cases_Ajax",args:"action=inputDocumentVersionHistory&docID="+a+"&appDocId="+b});c.callback=function(a){oPanel.loader.hide();var b=a.xmlhttp.responseText.extractScript();oPanel.addContent(a.xmlhttp.responseText);b.evalScript()}.extend(this);c.make()},PROCESSMAP_STEP_EDIT=!1,PROCESSMAP_USER_EDIT=!1,processmapOutputsPanel,_client=getClientWindowSize(),processmap=
function(){this.data={load:function(){var a=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=load&data="+{uid:this.options.uid,mode:this.options.rw,ct:this.options.ct}.toJSONString()});a.callback=this.data.render.base;a.make()},render:{buildingBlocks:{injector:function(a){Wx=a=="dynaforms"||a=="triggers"||a=="outputs"?600:500;Hx=460;if(a=="reportTables"){Wx=_client.width-30;Hx=_client.height-15}var b={dynaforms:1,messages:1,inputs:1,outputs:1,webbots:1};this.observers.menu.update();
if(this.panels.buildingBlocks)this.panels.buildingBlocks.clearContent();else{this.panels.buildingBlocks=new leimnud.module.panel;this.panels.buildingBlocks.options={limit:true,size:{w:Wx,h:Hx},position:{x:0,y:10,center:true},title:"",theme:"processmaker",statusBar:false,control:{drag:false,resize:false,close:true,drag:true},fx:{opacity:false,rolled:false,modal:true,drag:true}};this.panels.buildingBlocks.make();this.panels.buildingBlocks.events={remove:function(){delete this.panels.buildingBlocks}.extend(this)}}b=
{outputs:function(){var a=this.panels.buildingBlocks;a.addContentTitle(G_STRINGS.ID_PROCESSMAP_OUTPUT_DOCUMENTS);a.loader.show();var b=new this.parent.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=outputs&data="+{pro_uid:this.options.uid}.toJSONString()});b.callback=function(b){a.loader.hide();var d=b.xmlhttp.responseText.extractScript();a.addContent(b.xmlhttp.responseText);d.evalScript();this.buildLoading=false}.extend(this);b.make();processmapOutputsPanel=a}.extend(this),inputs:function(){var a=
this.panels.buildingBlocks;a.addContentTitle(G_STRINGS.ID_PROCESSMAP_INPUT_DOCUMENTS);a.loader.show();var b=new this.parent.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=inputs&data="+{pro_uid:this.options.uid}.toJSONString()});b.callback=function(b){a.loader.hide();var d=b.xmlhttp.responseText.extractScript();a.addContent(b.xmlhttp.responseText);d.evalScript();this.buildLoading=false}.extend(this);b.make()}.extend(this),triggers:function(){var a=this.panels.buildingBlocks;a.addContentTitle(G_STRINGS.ID_PROCESSMAP_TRIGGERS);
a.clearContent();a.loader.show();var b=new this.parent.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=triggers&data="+{pro_uid:this.options.uid}.toJSONString()});b.callback=function(b){a.loader.hide();var d=b.xmlhttp.responseText.extractScript();a.addContent(b.xmlhttp.responseText);d.evalScript();this.buildLoading=false}.extend(this);b.make()}.extend(this),messages:function(){var a=this.panels.buildingBlocks;a.addContentTitle(G_STRINGS.ID_PROCESSMAP_MESSAGES);a.clearContent();a.loader.show();
var b=new this.parent.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=messages&data="+{pro_uid:this.options.uid}.toJSONString()});b.callback=function(b){a.loader.hide();var d=b.xmlhttp.responseText.extractScript();a.addContent(b.xmlhttp.responseText);d.evalScript();this.buildLoading=false}.extend(this);b.make()}.extend(this),reportTables2:function(){var a=this.panels.buildingBlocks;a.addContentTitle(G_STRINGS.ID_PROCESSMAP_REPORT_TABLES);a.clearContent();a.loader.show();var b=new this.parent.module.rpc.xmlhttp({url:this.options.dataServer,
args:"action=reportTables&data="+{pro_uid:this.options.uid}.toJSONString()});b.callback=function(b){a.loader.hide();var d=b.xmlhttp.responseText.extractScript();a.addContent(b.xmlhttp.responseText);d.evalScript();this.buildLoading=false}.extend(this);b.make()}.extend(this),reportTables:function(){var a="../pmTables?PRO_UID="+this.options.uid;if((navigator.userAgent.toLowerCase().indexOf("msie")!=-1?1:0)==1){this.panels.buildingBlocks.remove();var b=screen.width-150,e=screen.height-300;window.open(a,
"reportTable","width="+b+", height="+e+", resizable=no, toolbar=no, menubar=no, scrollbars=yes, status=no, location=no, left="+(screen.width/2-b/2)+", top="+(screen.height/2-e/2+50))}else{b=this.panels.buildingBlocks;b.addContentTitle("");b.clearContent();e=document.createElement("iframe");e.setAttribute("id","reportTablesIframe");e.src=a;e.frameBorder=0;e.style.width=_client.width-40;e.style.height=_client.height-70;b.addContent(e)}}.extend(this),dynaforms:function(){var a=this.panels.buildingBlocks;
a.addContentTitle(G_STRINGS.ID_DYNAFORMS);a.loader.show();var b=new this.parent.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=dynaforms&data="+{pro_uid:this.options.uid}.toJSONString()});b.callback=function(b){a.loader.hide();var d=b.xmlhttp.responseText.extractScript();a.addContent(b.xmlhttp.responseText);d.evalScript();this.buildLoading=false}.extend(this);b.make()}.extend(this)};b[a]()},panel:function(){var a;a=this.panels.toolbar=new leimnud.module.panel;this.panels.toolbar.options=
{limit:true,size:{w:220,h:31},position:{x:this.options.target.clientWidth-278,y:4},title:"",theme:"processmaker",target:this.options.target,titleBar:false,statusBar:false,elementToDrag:"content",cursorToDrag:"default",control:{drag:true,resize:false},fx:{opacity:true,shadow:false}};a.setStyle={containerWindow:{border:"1px solid buttonshadow"},frontend:{backgroundColor:"buttonface"},content:{border:"1px solid transparent",backgroundColor:"transparent",margin:0,overflow:"hidden",padding:1}};this.panels.toolbar.make();
var b=document.createElement("div");this.parent.dom.setStyle(b,{textAlign:"center"});var c=document.createElement("img");c.src=this.options.images_dir+"0.gif";c.title=_("ID_PROCESSMAP_SEQUENTIAL");b.appendChild(c);var d=document.createElement("img");d.src=this.options.images_dir+"1.gif";d.title=_("ID_PROCESSMAP_SELECTION");b.appendChild(d);var e=document.createElement("img");e.src=this.options.images_dir+"2.gif";e.title=_("ID_PROCESSMAP_EVALUATION");b.appendChild(e);var f=document.createElement("img");
f.src=this.options.images_dir+"3.gif";f.title=_("ID_PROCESSMAP_PARALLEL_FORK");b.appendChild(f);var g=document.createElement("img");g.src=this.options.images_dir+"4.gif";g.title=_("ID_PROCESSMAP_PARALLEL_EVALUATION_FORK");b.appendChild(g);var h=document.createElement("img");h.src=this.options.images_dir+"5.gif";h.title=_("ID_PROCESSMAP_PARALLEL_JOIN");b.appendChild(h);var j=document.createElement("img");j.src=this.options.images_dir+"6.gif";j.title=_("ID_END_OF_PROCESS");b.appendChild(j);var k=document.createElement("img");
k.src=this.options.images_dir+"7.gif";k.title=_("ID_START_TASK");b.appendChild(k);[c,d,e,f,g,h,j,k].map(function(a){a.className="processmap_toolbarItem___"+this.options.theme}.extend(this));this.dragables.derivation=new this.parent.module.drag({elements:[c,d,e,f,g,h,j,k],fx:{type:"clone",target:this.panels.editor.elements.content,zIndex:11}});this.dragables.derivation.typesDerivation=["simple","double","conditional","conditional1","conditional2","conditional3","final","initial"];this.dragables.derivation.events=
{init:[function(){this.dragables.derivation.noDrag=true}.extend(this)],move:this.dropables.derivation.capture.args(this.dragables.derivation),finish:this.parent.closure({instance:this,method:function(){this.parent.dom.remove(this.dropables.derivation.drag||this.dragables.derivation.currentElementDrag);this.parent.dom.remove(this.dragables.derivation.currentElementDrag);if(this.dropables.derivation.selected!==false){this.dropables.derivation.launchEvents(this.dropables.derivation.elements[this.dropables.derivation.selected].events.out);
vAux=this.dropables.derivation.launchEvents(this.dropables.derivation.elements[this.dropables.derivation.selected].events.click);this.dropables.derivation.selected=false;return vAux}this.dragables.derivation.noDrag=false}})};this.dragables.derivation.make();this.parent.dom.setStyle([c,d,e,f,g,h,j,k],{cursor:"move"});a.loader.hide();a.addContent(b);leimnud._panel=["O"];leimnud.ipanel=0},components:{}},base:function(a){this.panels.editor.loader.hide();this.data.db=a.xmlhttp.responseText.parseJSON().concat({});
this.data.db.subprocess=[];this.panels.editor.addContentStatus(G_STRINGS.ID_PROCESSMAP_LOADING);if(this.options.rw===true){this.menu=new this.parent.module.app.menuRight;this.menu.make({target:this.panels.editor.elements.content,width:201,theme:this.options.theme,menu:[{image:"/images/edit.gif",text:G_STRINGS.ID_PROCESSMAP_EDIT_PROCESS,launch:function(){this.tmp.editProcessPanel=panel=new leimnud.module.panel;panel.options={limit:true,size:{w:700,h:520},position:{x:50,y:50,center:true},title:G_STRINGS.ID_PROCESSMAP_EDIT_PROCESS+
": "+moldTitle(this.data.db.title.label,700),theme:this.options.theme,control:{close:true,resize:false},fx:{modal:true},statusBar:false,fx:{shadow:true,modal:true}};panel.make();panel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=process_Edit&data="+{pro_uid:this.options.uid}.toJSONString()});a.callback=function(a,b){b.loader.hide();var e=a.xmlhttp.responseText.extractScript();b.addContent(a.xmlhttp.responseText);e.evalScript()}.extend(this,panel);a.make()}.extend(this)},
{image:"/images/edit.gif",text:G_STRINGS.ID_PROCESSMAP_EXPORT_PROCESS,launch:function(){this.tmp.exportProcessPanel=panel=new leimnud.module.panel;panel.options={limit:true,size:{w:600,h:230},position:{x:50,y:50,center:true},title:G_STRINGS.ID_PROCESSMAP_EXPORT_PROCESS+": "+moldTitle(this.data.db.title.label,600),theme:this.options.theme,control:{close:true,resize:false},fx:{modal:true},statusBar:false,fx:{shadow:true,modal:true}};panel.make();panel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,
args:"action=process_Export&processMap=1&data="+{pro_uid:this.options.uid}.toJSONString()});a.callback=function(a,b){b.loader.hide();var e=a.xmlhttp.responseText.extractScript();b.addContent(a.xmlhttp.responseText);e.evalScript()}.extend(this,panel);a.make()}.extend(this)},{separator:true},{image:"/images/add.png",text:G_STRINGS.ID_PROCESSMAP_ADD_TASK,launch:this.addTask.extend(this,{tp:"task"})},{image:"/images/subProcess.png",text:G_STRINGS.ID_PROCESSMAP_ADD_SUBPROCESS,launch:this.addTask.extend(this,
{tp:"subprocess"})},{image:"/images/addtext.png",text:G_STRINGS.ID_PROCESSMAP_ADD_TEXT,launch:this.addText.extend(this)},{image:"/images/linhori.png",text:G_STRINGS.ID_PROCESSMAP_HORIZONTAL_LINE,launch:this.addGuide.extend(this,"horizontal")},{image:"/images/linver.png",text:G_STRINGS.ID_PROCESSMAP_VERTICAL_LINE,launch:this.addGuide.extend(this,"vertical")},{image:"/images/delete.png",text:G_STRINGS.ID_PROCESSMAP_DELETE_ALL_LINES,launch:function(){(new leimnud.module.app.confirm).make({label:G_STRINGS.ID_PROCESSMAP_CONFIRM_DELETE_ALL_LINES,
action:function(){for(var a=0;a<this.data.db.guide.length;a++)this.parent.dom.remove(this.data.db.guide[a].object.elements.guide);(new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=deleteGuides&data="+{pro_uid:this.options.uid}.toJSONString()})).make()}.extend(this)})}.extend(this)},{separator:true},{image:"/images/object_permission.gif",text:G_STRINGS.ID_OBJECT_PERMISSIONS,launch:function(){this.tmp.editProcessPanel=panel=new leimnud.module.panel;panel.options={limit:true,
size:{w:850,h:480},position:{x:50,y:50,center:true},title:G_STRINGS.ID_OBJECT_PERMISSIONS,theme:this.options.theme,control:{close:true,resize:false},fx:{modal:true},statusBar:false,fx:{shadow:true,modal:true}};panel.make();panel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=objectPermissions&data="+{pro_uid:this.options.uid}.toJSONString()});a.callback=function(a,b){b.loader.hide();var e=a.xmlhttp.responseText.extractScript();b.addContent(a.xmlhttp.responseText);
e.evalScript()}.extend(this,panel);a.make()}.extend(this)},{image:"/images/users.png",text:G_STRINGS.ID_PROCESSMAP_PSUPERVISORS,submenu:[{image:"/images/users.png",text:G_STRINGS.ID_PROCESSMAP_PROCESS_SUPERVISORS,launch:function(){this.tmp.editProcessPanel=panel=new leimnud.module.panel;panel.options={limit:true,size:{w:500,h:300},position:{x:50,y:50,center:true},title:G_STRINGS.ID_PROCESSMAP_PROCESS_SUPERVISORS,theme:this.options.theme,control:{close:true,resize:false},fx:{modal:true},statusBar:false,
fx:{shadow:true,modal:true}};panel.make();panel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=process_User&data="+{pro_uid:this.options.uid}.toJSONString()});a.callback=function(a,b){b.loader.hide();var e=a.xmlhttp.responseText.extractScript();b.addContent(a.xmlhttp.responseText);e.evalScript()}.extend(this,panel);a.make()}.extend(this)},{image:"/images/dynaforms.gif",text:G_STRINGS.ID_PROCESSMAP_SUPERVISORS_DYNAFORMS,launch:function(){this.tmp.editProcessPanel=
panel=new leimnud.module.panel;panel.options={limit:true,size:{w:500,h:380},position:{x:50,y:50,center:true},title:G_STRINGS.ID_PROCESSMAP_SUPERVISORS_DYNAFORMS,theme:this.options.theme,control:{close:true,resize:false},fx:{modal:true},statusBar:false,fx:{shadow:true,modal:true}};panel.make();panel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=supervisorDynaforms&data="+{pro_uid:this.options.uid}.toJSONString()});a.callback=function(a,b){b.loader.hide();
var e=a.xmlhttp.responseText.extractScript();b.addContent(a.xmlhttp.responseText);e.evalScript()}.extend(this,panel);a.make()}.extend(this)},{image:"/images/inputdocument.gif",text:G_STRINGS.ID_PROCESSMAP_SUPERVISORS_INPUTS,launch:function(){this.tmp.editProcessPanel=panel=new leimnud.module.panel;panel.options={limit:true,size:{w:500,h:380},position:{x:50,y:50,center:true},title:G_STRINGS.ID_PROCESSMAP_SUPERVISORS_INPUTS,theme:this.options.theme,control:{close:true,resize:false},fx:{modal:true},
statusBar:false,fx:{shadow:true,modal:true}};panel.make();panel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=supervisorInputs&data="+{pro_uid:this.options.uid}.toJSONString()});a.callback=function(a,b){b.loader.hide();var e=a.xmlhttp.responseText.extractScript();b.addContent(a.xmlhttp.responseText);e.evalScript()}.extend(this,panel);a.make()}.extend(this)}]},{separator:true},{image:"/images/dynaforms.gif",text:G_STRINGS.ID_WEB_ENTRY,launch:function(){this.tmp.editProcessPanel=
panel=new leimnud.module.panel;panel.options={limit:true,size:{w:500,h:380},position:{x:50,y:50,center:true},title:G_STRINGS.ID_WEB_ENTRY,theme:this.options.theme,control:{close:true,resize:true},fx:{modal:true},statusBar:false,fx:{shadow:true,modal:true}};panel.make();panel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=webEntry&data="+{pro_uid:this.options.uid}.toJSONString()});a.callback=function(a,b){b.loader.hide();var e=a.xmlhttp.responseText.extractScript();
b.addContent(a.xmlhttp.responseText);e.evalScript()}.extend(this,panel);a.make()}.extend(this)},{image:"/images/tracker.gif",text:G_STRINGS.ID_CASE_TRACKER,submenu:[{image:"/images/tracker.gif",text:G_STRINGS.ID_CASE_TRACKER_PROPERTIES,launch:function(){this.tmp.caseTrackerPanel=panel=new leimnud.module.panel;panel.options={limit:true,size:{w:300,h:180},position:{x:50,y:50,center:true},title:G_STRINGS.ID_CASE_TRACKER,theme:this.options.theme,control:{close:true,resize:false},fx:{modal:true},statusBar:false,
fx:{shadow:true,modal:true}};panel.make();panel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=caseTracker&data="+{pro_uid:this.options.uid}.toJSONString()});a.callback=function(a,b){b.loader.hide();var e=a.xmlhttp.responseText.extractScript();b.addContent(a.xmlhttp.responseText);e.evalScript()}.extend(this,panel);a.make()}.extend(this)},{image:"/images/tracker.gif",text:G_STRINGS.ID_CASE_TRACKER_OBJECTS,launch:function(){this.tmp.caseTrackerPanel=panel=
new leimnud.module.panel;panel.options={limit:true,size:{w:500,h:380},position:{x:50,y:50,center:true},title:G_STRINGS.ID_CASE_TRACKER_OBJECTS,theme:this.options.theme,control:{close:true,resize:false},fx:{modal:true},statusBar:false,fx:{shadow:true,modal:true}};panel.make();panel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=caseTrackerObjects&data="+{pro_uid:this.options.uid}.toJSONString()});a.callback=function(a,b){b.loader.hide();var e=a.xmlhttp.responseText.extractScript();
b.addContent(a.xmlhttp.responseText);e.evalScript()}.extend(this,panel);a.make()}.extend(this)}]},{image:"/images/folder.gif",text:G_STRINGS.ID_PROCESS_FILES_MANAGER,launch:function(){this.tmp.processFilesManagerPanel=panel=new leimnud.module.panel;panel.options={limit:true,size:{w:500,h:380},position:{x:50,y:50,center:true},title:G_STRINGS.ID_PROCESS_FILES_MANAGER,theme:this.options.theme,control:{close:true,resize:false},fx:{modal:true},statusBar:false,fx:{shadow:true,modal:true}};panel.make();
panel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=processFilesManager&data="+{pro_uid:this.options.uid}.toJSONString()});a.callback=function(a,b){b.loader.hide();var e=a.xmlhttp.responseText.extractScript();b.addContent(a.xmlhttp.responseText);e.evalScript()}.extend(this,panel);a.make()}.extend(this)},{image:"/images/events.gif",text:G_STRINGS.ID_EVENTS,submenu:[{image:"/images/event_messageThrow.png",text:G_STRINGS.ID_INTERMEDIATE_MESSAGE_EVENT,launch:function(){this.tmp.eventsPanel=
panel=new leimnud.module.panel;panel.options={limit:true,size:{w:700,h:380},position:{x:50,y:50,center:true},title:G_STRINGS.ID_EVENT_MESSAGE,theme:this.options.theme,control:{close:true,resize:false},fx:{modal:true},statusBar:false,fx:{shadow:true,modal:true}};panel.make();panel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=events&data="+{pro_uid:this.options.uid,type:"message"}.toJSONString()});a.callback=function(a,b){b.loader.hide();var e=a.xmlhttp.responseText.extractScript();
b.addContent(a.xmlhttp.responseText);e.evalScript()}.extend(this,panel);a.make()}.extend(this)},{image:"/images/event_conditional.png",text:G_STRINGS.ID_INTERMEDIATE_CONDITIONAL_EVENT,launch:function(){this.tmp.eventsPanel=panel=new leimnud.module.panel;panel.options={limit:true,size:{w:700,h:380},position:{x:50,y:50,center:true},title:G_STRINGS.ID_EVENT_MESSAGE,theme:this.options.theme,control:{close:true,resize:false},fx:{modal:true},statusBar:false,fx:{shadow:true,modal:true}};panel.make();panel.loader.show();
var a=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=events&data="+{pro_uid:this.options.uid,type:"conditional"}.toJSONString()});a.callback=function(a,b){b.loader.hide();var e=a.xmlhttp.responseText.extractScript();b.addContent(a.xmlhttp.responseText);e.evalScript()}.extend(this,panel);a.make()}.extend(this)},{image:"/images/event_timer.png",text:G_STRINGS.ID_INTERMEDIATE_TIMER_EVENT,launch:function(){this.tmp.eventsPanel=panel=new leimnud.module.panel;panel.options={limit:true,
size:{w:700,h:380},position:{x:50,y:50,center:true},title:G_STRINGS.ID_EVENT_MULTIPLE,theme:this.options.theme,control:{close:true,resize:false},fx:{modal:true},statusBar:false,fx:{shadow:true,modal:true}};panel.make();panel.loader.show();var a=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=events&data="+{pro_uid:this.options.uid,type:"multiple"}.toJSONString()});a.callback=function(a,b){b.loader.hide();var e=a.xmlhttp.responseText.extractScript();b.addContent(a.xmlhttp.responseText);
e.evalScript()}.extend(this,panel);a.make()}.extend(this)}]}]});this.observers.menu.register(this.parent.closure({instance:this.menu,method:this.menu.remove}),this.menu)}this.data.render.task();if(maximunX>this.options.size.w&&document.getElementById("pm_separator_div"))document.getElementById("pm_separator_div").style.width=maximunX+200},task:function(){for(var a=this.data.db.task.length,b=0;b<a;b++){var c=this.data.db.task[b].task_type==="NORMAL"||this.data.db.task[b].task_type==="ADHOC"?"task":
"subprocess";this.data.db.task[b].task_type==="HIDDEN"&&(c="hidden");this.data.build.task(b,{tp:c})}this.data.render.taskINI();this.data.render.guide()},taskINI:function(){for(var a=this.data.db.task.length,b=0;b<a;b++){var c=this.data.db.task[b];c.taskINI===true&&this.parent.dom.setStyle(c.object.elements.init,{background:"url("+this.options.images_dir+"inicio.gif)"})}return true},setTaskINI:function(a){var b=this.data.db.task[this.tools.getIndexOfUid(a.task)];b.taskINI=a.value;this.parent.dom.setStyle(b.object.elements.init,
{background:b.taskINI===true?"url("+this.options.images_dir+"inicio.gif)":""})},guide:function(){for(var a=0;a<this.data.db.guide.length;a++)this.data.build.guide(a);this.data.render.title()},title:function(){this.data.build.title();this.data.render.text()},deleteDerivation:function(a,b,c){for(var d=this.data.db.task[this.tools.getIndexOfUid(a)],c=typeof c!=="number"?false:c,e=d.derivation,f=0;f<e.to.length;f++)if(c===false||c!==false&&c===f){if(e.to[f].task==="-1"||e.to[f].task==="-2")this.parent.dom.setStyle(d.object.elements[e.to.length>
1?"derivationBottom":"derivation"],{background:""});else{e.to[f].object.line.remove();this.observers.lineas.unregister(e.to[f].object.indexObserver)}if(e.type===5||e.type===8){var g=this.data.db.task[this.tools.getIndexOfUid(e.to[f].task)];if(typeof g!="undefined"){g.object.inJoin=g.object.inJoin-1;g.object.inJoin===0&&this.parent.dom.setStyle(g.object.elements.init,{backgroundPosition:"0 0",background:""})}}}this.parent.dom.setStyle(d.object.elements.derivation,{background:""});d.derivation={to:[]};
if(b){b=this.data.db.task;for(f=0;f<b.length;f++){c=b[f].derivation.to||[];for(d=0;d<c.length;d++)c[d].task===a&&this.data.render.deleteDerivation(b[f].uid,false,d)}}},preDerivation:function(a){var b;b=this.dragables.derivation.currentElementInArray;if(b===6){a=this.data.db.task[a];a={type:0,tas_uid:a.uid,pro_uid:this.options.uid,data:["-1"],next_task:"-1"};this.data.build.derivation(a);a["delete"]=true;a=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=saveNewPattern&data="+
a.toJSONString()});a.make();this.inDerivationDrag=false;return this.dragables.derivation.noDrag=false}if(b===7){a=this.data.db.task[a];if(a.task_type!="SUBPROCESS"){this.data.render.setTaskINI({task:a.uid,value:true});this.inDerivationDrag=false;this.dragables.derivation.noDrag=false;a=new leimnud.module.rpc.xmlhttp({url:"../tasks/tasks_Ajax",args:"function=saveTaskData&oData="+{TAS_START:"TRUE",TAS_UID:a.uid}.toJSONString()});a.make()}else{this.inDerivationDrag=false;this.dragables.derivation.noDrag=
false}return false}this.observers.menu.update();b=this.derivationArrowToDrop=document.createElement("div");this.parent.dom.setStyle(b,{position:"absolute",width:10,height:10,zIndex:12,overflow:"hidden",backgroundColor:"red"});this.panels.editor.elements.content.appendChild(b);var c;c=this.derivationLineToDrop=new this.parent.module.app.line({elements:[this.data.db.task[a].object.elements.task,b],target:this.panels.editor.elements.content,color:"green",zIndex:15});c.make();this.observers.lineas.register(this.parent.closure({instance:c,
method:c.update}),c);this.parent.event.add(this.data.db.task[a].object.elements.task,"mouseover",this.parent.closure({instance:this,method:function(a,b,c,d){var j=this.parent.dom.position(this.panels.editor.elements.content),a=this.parent.dom.mouse(window.event||a);this.parent.dom.setStyle(b,{left:a.x-(j.x+6),top:a.y-(j.y+6)});this.parent.exec(c.update,false,false,c);this.parent.event.flushCollection([d])},event:true,args:[b,c,this.parent.event.db.length]}));this.parent.browser.isIE&&this.data.db.task[a].object.elements.task.fireEvent("onmouseover");
var d=this.parent.event.db.length;this.parent.event.add(this.panels.editor.elements.content,"mousemove",function(a,b,c){var d=this.parent.dom.position(this.panels.editor.elements.content),a=this.parent.dom.mouse(window.event||a);this.parent.dom.setStyle(b,{left:a.x-(d.x+6)+(this.panels.editor.elements.content.scrollLeft||0),top:a.y-(d.y+6)+(this.panels.editor.elements.content.scrollTop||0)});c.update();this.parent.exec(this.dropables.derivation.capture,{currentElementDrag:b},false,this.dropables.derivation)}.extend(this,
b,c));this.parent.event.add(b,"click",function(a,b){this.dropables.derivation.capture({currentElementDrag:b.arrow});this.dragables.derivation.noDrag=false;if(this.dropables.derivation.selected===false)b.line.remove();else{b.line.remove();this.patternPanel(false,b.uid,{to:this.dropables.derivation.selected,type:this.dragables.derivation.currentElementInArray});this.dropables.derivation.elements[this.dropables.derivation.selected]&&this.dropables.derivation.launchEvents(this.dropables.derivation.elements[this.dropables.derivation.selected].events.out)}this.inDerivationDrag=
false;this.dropables.derivation.selected=false;this.parent.event.flushCollection([b.ue,b.ua]);this.parent.dom.remove(b.arrow)}.extend(this,{uid:a,arrow:b,line:c,ue:this.parent.event.db.length,ua:d}))},derivation:function(){for(var a=0;a<this.data.db.task.length;a++)this.data.render.lineDerivation(a);return true},lineDerivation:function(a){for(var a=this.data.db.task[a],b=0;b<a.derivation.to.length;b++){var c=a.derivation.to[b];if(c.task==="-1"||c.task==="-2"){var d=a.derivation.to.length>1?"derivationBottom":
"derivation";this.parent.dom.setStyle(a.object.elements[d],{background:"url("+this.options.images_dir+c.task+(d=="derivationBottom"?"bb.jpg":".gif")+"?aa="+Math.random()+")"})}else{var e=this.tools.getIndexOfUid(c.task),d=a.object.elements,f=this.data.db.task[e].object.elements,e=this.data.db.task[e];if(a.derivation.type===8||a.derivation.type===5){var g=e.object.inJoin,g=g?g+1:1;e.object.inJoin=g;this.parent.dom.setStyle(e.object.elements.init,{background:"url("+this.options.images_dir+a.derivation.type+
"t.gif?aa="+Math.random()+")",backgroundPosition:"2 0",backgroundRepeat:"no-repeat"})}else this.parent.dom.setStyle(a.object.elements.derivation,{background:"url("+this.options.images_dir+a.derivation.type+"t.gif?aa="+Math.random()+")"});d=new this.parent.module.app.line({indexRootSize:30,indexRootLastSize:35,elements:[d.task,f.task],envolve:[[d.task],[]],target:this.panels.editor.elements.content,color:"#228AB0",startA:50,zIndex:5});d.make();f=this.observers.lineas.register(d.update,d);c.object=
{line:d,indexObserver:f}}}},text:function(){for(var a=this.data.db.text.length,b=0;b<a;b++)this.data.build.text(b);this.panels.editor.clearContentStatus();this.data.render.derivation()}},build:{task:function(a,b){var b={tp:"task"}.concat(b||{}),c=this.data.db.task[a];if(this.options.rw){c.color=b.tp==="task"?"auto":"#9B88CA";if(b.tp==="hidden")c.color="transparent"}var d=this.data.db.task[a],e=document.createElement("div");e.className="processmap_task___"+this.options.theme;this.parent.dom.setStyle(e,
{top:c.position.y,left:c.position.x,cursor:this.options.rw===true?"move":"default",backgroundColor:c.color?c.color:"auto"});if(c.color=="#9B88CA")var f=b.tp==="task"?"":"url(/images/subp.png)";c.color=="transparent"&&(f=b.tp==="task"?"":"url(/images/0t.gif)");if(b.tp==="hidden")b.tp="task";var g=document.createElement("div");g.className="processmap_task_label___"+this.options.theme;this.parent.dom.setStyle(g,{cursor:this.options.rw===true?"move":"default",background:f,backgroundRepeat:"no-repeat",
backgroundPosition:"center",height:40});g.innerHTML=c.label;if(c.color=="transparent"){g=document.createElement("div");g.className="processmap_task_label___"+this.options.theme;this.parent.dom.setStyle(g,{cursor:this.options.rw===true?"move":"default",background:f,backgroundRepeat:"repeat-y",backgroundPosition:"top",height:100});g.innerHTML=c.label}f=document.createElement("div");c.color!="transparent"&&this.parent.dom.setStyle(f,{top:"2",left:"5",border:"0px solid red",height:13,position:"absolute"});
var h=document.createElement("div");this.parent.dom.setStyle(h,{position:"absolute",top:c.position.y+38,left:c.position.x+69,height:25,width:25,border:"0px solid black",overflow:"hidden",cursor:this.options.rw===true?"pointer":"default",zIndex:9});if(this.options.rw===true)h.onclick=navigator.appName=="Microsoft Internet Explorer"?this.patternPanel.args(1,a,null):this.patternPanel.args(a);var j=document.createElement("div");this.parent.dom.setStyle(j,{position:"absolute",top:c.position.y+49,left:c.position.x+
93,height:38,width:38,border:"0px solid black",overflow:"hidden",zIndex:9});var k=document.createElement("div");this.parent.dom.setStyle(k,{position:"absolute",top:c.position.y-30,left:c.position.x+67,height:30,width:30,overflow:"hidden",zIndex:9});if(this.options.rw===true){var l=new this.parent.module.app.menuRight,m=mb_strlen(G_STRINGS.ID_PROCESSMAP_USERS_AND_GROUPS_ADHOC)*0.6;l.make({target:e,width:3+m+"em",theme:this.options.theme,menu:b.tp=="task"?[{image:"/images/steps.png",text:G_STRINGS.ID_PROCESSMAP_STEPS,
launch:function(a,b){this.tmp.stepsPanel=panel=new leimnud.module.panel;var c=this.data.db.task[b],d=function(a,b,d){a.command(a.loader.show);d=new this.parent.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=steps&data="+{proUid:this.options.uid,tasUid:c.uid,option:d,index:b}.toJSONString()});d.callback=this.parent.closure({instance:this,method:function(a,b,c){c.command(c.loader.hide);a=b.xmlhttp.responseText.extractScript();c.addContent(b.xmlhttp.responseText);a.evalScript()},args:[b,
d,a]});d.make()};panel.options={limit:true,size:{w:670,h:450},position:{x:50,y:50,center:true},title:G_STRINGS.ID_PROCESSMAP_TASK_STEPS+" "+c.label.substr(0,82)+(c.label.length>=82?"...":""),theme:this.options.theme,statusBar:false,control:{close:true},fx:{modal:true}};panel.tab={width:300,optWidth:120,step:this.parent.browser.isIE?3:4,options:[{title:G_STRINGS.ID_PROCESSMAP_STEPS,content:this.parent.closure({instance:this,method:d,args:[panel,b,1]}),selected:true},{title:G_STRINGS.ID_PROCESSMAP_CONDITIONS,
content:this.parent.closure({instance:this,method:d,args:[panel,b,2]})},{title:G_STRINGS.ID_PROCESSMAP_TRIGGERS,content:this.parent.closure({instance:this,method:d,args:[panel,b,3]})}]};panel.events={remove:function(){}.extend(this)};panel.make()}.extend(this,a)},{image:"/images/users.png",text:G_STRINGS.ID_PROCESSMAP_USERS_AND_GROUPS,launch:function(){var a;this.tmp.usersPanel=a=new leimnud.module.panel;a.options={limit:true,size:{w:450,h:300},position:{x:50,y:50,center:true},title:G_STRINGS.ID_PROCESSMAP_USERS_AND_GROUPS+
": "+d.label.substr(0,30)+(d.label.length>=30?"...":""),theme:this.options.theme,control:{close:true,resize:false},fx:{modal:true},statusBar:false,fx:{modal:true}};a.events={remove:function(){}.extend(this)};a.make();a.loader.show();var b;a.currentRPC=b=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=users&data="+{tas_uid:d.uid,pro_uid:this.options.uid}.toJSONString()});b.callback=function(a,b){b.loader.hide();var c=a.xmlhttp.responseText.extractScript();b.addContent(a.xmlhttp.responseText);
c.evalScript()}.extend(this,a);b.make()}.extend(this,a)},{image:"/images/users.png",text:G_STRINGS.ID_PROCESSMAP_USERS_AND_GROUPS_ADHOC,launch:function(){var a;this.tmp.usersPanel=a=new leimnud.module.panel;a.options={limit:true,size:{w:450,h:300},position:{x:50,y:50,center:true},title:G_STRINGS.ID_PROCESSMAP_USERS_AND_GROUPS_ADHOC+": "+d.label.substr(0,27)+(d.label.length>=27?"...":""),theme:this.options.theme,control:{close:true,resize:false},fx:{modal:true},statusBar:false,fx:{modal:true}};a.make();
a.loader.show();var b;a.currentRPC=b=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=users_adhoc&data="+{tas_uid:d.uid,pro_uid:this.options.uid}.toJSONString()});b.callback=function(a,b){b.loader.hide();var c=a.xmlhttp.responseText.extractScript();b.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this,a);b.make()}.extend(this,a)},{image:"/images/rules.png",text:G_STRINGS.ID_PROCESSMAP_WORKFLOW_PATTERNS,launch:this.patternPanel.args(a)},{image:"/images/delete_rules.png",
text:G_STRINGS.ID_PROCESSMAP_WORKFLOW_DELETE_PATTERNS,launch:this.parent.closure({instance:this,method:function(){var b=this.data.db.task[a];typeof b.derivation.type!="undefined"?(new this.parent.module.app.confirm).make({label:G_STRINGS.ID_PROCESSMAP_WORKFLOW_CONFIRM_DELETE_PATTERNS+'"'+b.label+'"?',action:function(){var b={tas_uid:this.data.db.task[a].uid,pro_uid:this.options.uid},c={};c.tas_uid=b.tas_uid;c.data=[];this.data.build.derivation(c);(new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,
args:"action=deleteAllRoutes&data="+b.toJSONString()})).make()}.extend(this)}):(new leimnud.module.app.alert).make({label:G_STRINGS.ID_NO_DERIVATIONS_DEFINED})},args:a})},{image:"/images/delete.png",text:G_STRINGS.ID_PROCESSMAP_DELETE_TASK,launch:this.parent.closure({instance:this,method:function(a){var b=this.data.db.task[a],a=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=taskCases&data="+{pro_uid:this.options.uid,task_uid:b.uid}.toJSONString()});a.callback=function(a){a=
a.xmlhttp.responseText.parseJSON().casesNumRec;if(a==0)(new this.parent.module.app.confirm).make({label:G_STRINGS.ID_PROCESSMAP_CONFIRM_DELETE_TASK+" "+b.label,action:function(){b.object.drag.flush();this.dropables.derivation.unregister(b.object.dropIndex);this.data.render.deleteDerivation(b.uid,true);this.parent.dom.remove(b.object.elements);(new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=deleteTask&data="+{pro_uid:this.options.uid,tas_uid:b.uid}.toJSONString()})).make()}.extend(this)});
else{var c=_("ID_TASK_CANT_DELETE"),c=c.replace("{0}",b.label),c=c.replace("{1}",a);(new this.parent.module.app.info).make({label:c})}}.extend(this);a.make()},args:a})},{simage:"/images/properties.png",text:G_STRINGS.ID_PROCESSMAP_PROPERTIES,launch:this.parent.closure({instance:this,method:function(a){var b,c=function(a,b,c){if(typeof a.flag=="undefined"&&!saveDataTaskTemporal(c)){b=a.tabSelected;a.tabSelected=a.tabLastSelected;a.tabLastSelected=b;a.flag=true;a.makeTab();return false}delete a.flag;
a.command(a.loader.show);c=new this.parent.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=editTaskProperties&data="+{uid:d.uid,iForm:c,index:b}.toJSONString()});c.callback=this.parent.closure({instance:this,method:function(a,b,c){c.command(c.loader.hide);c.clearContent();a=b.xmlhttp.responseText.extractScript();c.addContent(b.xmlhttp.responseText.stripScript());a.evalScript()},args:[b,c,a]});c.make()};this.tmp.propertiesPanel=b=new leimnud.module.panel;var d=this.data.db.task[a];b.options=
{limit:true,size:{w:600,h:430},position:{x:50,y:50,center:true},title:G_STRINGS.ID_PROCESSMAP_TASK+": "+d.label.substr(0,75)+(d.label.length>=75?"...":""),theme:this.options.theme,statusBar:true,statusBarButtons:[{type:"button",value:G_STRINGS.ID_PROCESSMAP_SUBMIT},{type:"button",value:G_STRINGS.ID_PROCESSMAP_CANCEL}],control:{close:true,resize:false},fx:{modal:true}};b.tab={width:170,optWidth:160,widthFixed:false,step:this.parent.browser.isIE?3:4,options:[{title:G_STRINGS.ID_PROCESSMAP_TASK_PROPERTIES_DEFINITION,
content:this.parent.closure({instance:this,method:c,args:[b,a,1]}),noClear:true,selected:true},{title:G_STRINGS.ID_PROCESSMAP_TASK_PROPERTIES_ASSIGNMENTS,content:this.parent.closure({instance:this,method:c,args:[b,a,2]}),noClear:true},{title:G_STRINGS.ID_PROCESSMAP_TASK_PROPERTIES_TIMING,content:this.parent.closure({instance:this,method:c,args:[b,a,3]}),noClear:true},{title:G_STRINGS.ID_PROCESSMAP_TASK_PROPERTIES_PERMISSIONS,content:this.parent.closure({instance:this,method:c,args:[b,a,5]}),noClear:true},
{title:G_STRINGS.ID_PROCESSMAP_TASK_PROPERTIES_LABELS,content:this.parent.closure({instance:this,method:c,args:[b,a,6]}),noClear:true},{title:G_STRINGS.ID_PROCESSMAP_TASK_PROPERTIES_NOTIFICATIONS,content:this.parent.closure({instance:this,method:c,args:[b,a,7]}),noClear:true}]};var e=this.data.db.taskOptions;this.loadExtendedProperties=function(){for(i=0;i<e.length;i++){anElement={title:e[i].title,content:this.parent.closure({instance:this,method:c,args:[b,a,e[i].id]}),noClear:true};b.tab.options.push(anElement)}};
this.loadExtendedProperties();b.make()},args:a})}]:[{image:"/images/rules.png",text:G_STRINGS.ID_PROCESSMAP_WORKFLOW_PATTERNS,launch:this.patternPanel.args(a)},{image:"/images/delete_rules.png",text:G_STRINGS.ID_PROCESSMAP_WORKFLOW_DELETE_PATTERNS,launch:this.parent.closure({instance:this,method:function(){var b=this.data.db.task[a];typeof b.derivation.type!="undefined"?(new this.parent.module.app.confirm).make({label:G_STRINGS.ID_PROCESSMAP_WORKFLOW_CONFIRM_DELETE_PATTERNS+'"'+b.label+'"?',action:function(){var b=
{tas_uid:this.data.db.task[a].uid,pro_uid:this.options.uid},c={};c.tas_uid=b.tas_uid;c.data=[];this.data.build.derivation(c);(new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=deleteAllRoutes&data="+b.toJSONString()})).make()}.extend(this)}):(new leimnud.module.app.alert).make({label:G_STRINGS.ID_NO_DERIVATIONS_DEFINED})},args:a})},{image:"/images/delete.png",text:G_STRINGS.ID_PROCESSMAP_DELETE_SUBPROCESS,launch:this.parent.closure({instance:this,method:function(a){var b=this.data.db.task[a];
(new this.parent.module.app.confirm).make({label:G_STRINGS.ID_PROCESSMAP_CONFIRM_DELETE_SUBPROCESS+b.label,action:function(){b.object.drag.flush();this.dropables.derivation.unregister(b.object.dropIndex);this.data.render.deleteDerivation(b.uid,true);this.parent.dom.remove(b.object.elements);(new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=deleteSubProcess&data="+{pro_uid:this.options.uid,tas_uid:b.uid}.toJSONString()})).make()}.extend(this)})},args:a})},{simage:"/images/properties.png",
text:G_STRINGS.ID_PROCESSMAP_PROPERTIES,launch:function(a,b){var c;this.tmp.subProcessPanel=c=new leimnud.module.panel;c.options={limit:true,size:{w:700,h:550},position:{x:50,y:50,center:true},title:G_STRINGS.ID_PROCESSMAP_PROPERTIES,theme:this.options.theme,control:{close:true,resize:false},fx:{modal:true},statusBar:false,fx:{modal:true}};c.make();c.loader.show();var e;c.currentRPC=e=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=subProcess_Properties&data="+{tas_uid:d.uid,
pro_uid:this.options.uid,index:b}.toJSONString()});e.callback=function(a,b){b.loader.hide();var c=a.xmlhttp.responseText.extractScript();b.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this,c);e.make()}.extend(this,a)}]});this.observers.menu.register(l.remove,l)}else if(this.options.mi){this.parent.dom.setStyle(e,{cursor:"pointer"});e.title=G_STRINGS.ID_CLICK_VIEW_MORE_INFO;this.parent.dom.setStyle(g,{cursor:"pointer"});this.parent.event.add(e,"click",{instance:this,method:function(a,
b){var c=this.data.db.task[b];this.oTaskDetailsPanel=new leimnud.module.panel;this.oTaskDetailsPanel.options={limit:true,size:{w:300,h:227},position:{x:0,y:0,center:true},title:"",theme:"processmaker",statusBar:false,control:{drag:false,resize:false,close:true},fx:{opacity:true,rolled:false,modal:true}};this.oTaskDetailsPanel.make();this.oTaskDetailsPanel.events={remove:function(){delete this.oTaskDetailsPanel}.extend(this)};this.oTaskDetailsPanel.loader.show();c=new this.parent.module.rpc.xmlhttp({url:"cases_Ajax",
args:"action=showTaskDetails&sTaskUID="+c.uid});c.callback=function(a){this.oTaskDetailsPanel.loader.hide();var b=a.xmlhttp.responseText.extractScript();this.oTaskDetailsPanel.addContent(a.xmlhttp.responseText);b.evalScript()}.extend(this);c.make()}.extend(this,a)})}this.panels.editor.elements.content.appendChild(e);e.appendChild(g);this.options.rw===true&&e.appendChild(f);this.panels.editor.elements.content.appendChild(h);this.panels.editor.elements.content.appendChild(j);this.panels.editor.elements.content.appendChild(k);
c.object={elements:{task:e,label:g,derivation:h,derivationBottom:j,init:k,statusIcons:f}};c.object.dropIndex=this.dropables.derivation.register({element:e,value:a,events:{over:this.parent.closure({instance:this.dropables.derivation,method:function(a){this.parent.dom.setStyle(a,{border:"1px solid #006699"})},args:[e,c,a]}),out:this.parent.closure({instance:this.dropables.derivation,method:function(a){this.parent.dom.setStyle(a,{border:"0px solid #006699"})},args:[e,c,a]}),click:this.data.render.preDerivation.args(a)}});
if(this.options.rw===true){c.object.drag=new this.parent.module.drag({link:{elements:e,ref:[e,h,j,k]},limit:true});this.observers.lineas.register(this.parent.closure({instance:c.object.drag,method:function(){}}),c.object.drag);c.object.drag.events={move:this.parent.closure({instance:this,method:function(){c.object.drag.observer.update()},args:[e,h,a,c.object.drag]}),finish:this.parent.closure({instance:this,method:function(a,b,c,d){if(!d.moved)return false;a=this.parent.dom.position(a);(new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,
args:"action=saveTaskPosition&data="+{uid:this.data.db.task[c].uid,position:a}.toJSONString()})).make()},args:[e,h,a,c.object.drag]})};c.object.drag.make()}},guide:function(a){var b=this.data.db.guide[a],c=this.panels.editor.elements.content.scrollLeft,d=this.panels.editor.elements.content.scrollTop,e=document.createElement("div");this.parent.dom.setStyle(e,{position:"absolute",display:"",visibility:"visible",height:b.direction==="vertical"?"100%":5,width:b.direction==="horizontal"?"100%":5,backgroundColor:"transparent",
borderLeft:(b.direction==="vertical"?"1":"0")+"px solid #FE9F0D",borderTop:(b.direction==="horizontal"?"1":"0")+"px solid #FE9F0D",overflow:"hidden",zIndex:1,cursor:this.options.rw===true?"move":"default",left:b.direction==="horizontal"?0+c:b.position,top:b.direction==="vertical"?0+d:b.position});c=new this.parent.module.app.menuRight;c.make({target:e,width:201,theme:this.options.theme,menu:[{image:"/images/delete.png",text:G_STRINGS.ID_PROCESSMAP_DELETE_LINE,launch:this.parent.closure({instance:this,
method:function(a){a=this.data.db.guide[a];this.parent.dom.remove(a.object.elements);(new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=deleteGuide&data="+{uid:a.uid}.toJSONString()})).make()},args:a})}],parent:this.parent});this.observers.menu.register(this.parent.closure({instance:c,method:c.remove}),c);b.object={elements:{guide:e}};c=new this.parent.module.drag({elements:e,limit:b.direction==="horizontal"?"x":"y"});c.events={finish:this.parent.closure({instance:this,method:function(a,
b){if(!b.moved)return false;var c=this.data.db.guide[a],d=this.parent.dom.position(c.object.elements.guide);c.position=c.direction=="vertical"?d.x:d.y;(new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=saveGuidePosition&data="+{uid:c.uid,position:c.position,direction:c.direction}.toJSONString()})).make()},args:[a,c]})};c.make();this.observers.guideLines.register(this.parent.closure({instance:this,method:function(a,b){b=="horizontal"?a.style.left=parseInt(this.panels.editor.elements.content.scrollLeft,
10):a.style.top=parseInt(this.panels.editor.elements.content.scrollTop,10)},args:[e,b.direction]}));this.panels.editor.elements.content.onscroll=this.observers.guideLines.update;this.panels.editor.elements.content.appendChild(e)},title:function(){if(this.data.db.title){var a=this.data.db.title,b=document.createElement("div");b.className="processmap_title___"+this.options.theme;this.parent.dom.setStyle(b,{top:a.position.y,left:a.position.x,cursor:this.options.rw===true?"move":"default"});b.innerHTML=
a.label;this.panels.editor.elements.content.appendChild(b);a.object={elements:{label:b}};if(this.options.rw===true){a.object.drag=new this.parent.module.drag({elements:b,limit:true});a.object.drag.events={finish:function(a){if(!a.moved)return false;var a=this.data.db.title,b=this.parent.dom.position(a.object.elements.label);a.position=b;(new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=saveTitlePosition&data="+{pro_uid:this.options.uid,position:a.position}.toJSONString()})).make()}.extend(this,
a.object.drag)};a.object.drag.make()}}},text:function(a){var b=this.data.db.text[a],c=document.createElement("div");c.className="processmap_text___"+this.options.theme;this.parent.dom.setStyle(c,{top:b.position.y,left:b.position.x,cursor:this.options.rw===true?"move":"default"});c.innerHTML=b.label;this.panels.editor.elements.content.appendChild(c);if(this.options.rw===true){var d=new this.parent.module.app.menuRight;d.make({target:c,width:201,theme:this.options.theme,menu:[{image:"/images/properties.png",
text:G_STRINGS.ID_PROCESSMAP_EDIT_TEXT,launch:function(a,b){var c=this.data.db.text[b];(new this.parent.module.app.prompt).make({label:G_STRINGS.ID_PROCESSMAP_EDIT_TEXT_CHANGE_TO,value:c.label.escapeHTML(),action:function(a,b){if(a.trim()!==""&&b.label!=a){b.label=b.object.elements.label.innerHTML=a.escapeHTML();(new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=updateText&data="+{uid:b.uid,label:b.label.unescapeHTML()}.toJSONString()})).make()}}.extend(this,c)})}.extend(this,
a)},{image:"/images/delete.png",text:G_STRINGS.ID_PROCESSMAP_DELETE_TEXT,launch:function(a,b){var c=this.data.db.text[b];(new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=deleteText&data="+{uid:c.uid}.toJSONString()})).make();this.parent.dom.remove(c.object.elements.label);this.data.db.text[b]=null}.extend(this,a)}]});this.observers.menu.register(d.remove,d);b.object={elements:{label:c}};b.object.drag=new this.parent.module.drag({elements:c,limit:true});b.object.drag.events=
{finish:function(a,b){if(!b.moved)return false;var c=this.data.db.text[a],d=this.parent.dom.position(c.object.elements.label);c.position=d;(new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=saveTextPosition&data="+{uid:c.uid,position:c.position}.toJSONString()})).make()}.extend(this,a,b.object.drag)};b.object.drag.make()}},derivation:function(a){tt=a;var b=this.tools.getIndexOfUid(a.tas_uid),c=this.data.db.task[b];this.data.render.deleteDerivation(a.tas_uid);var d=a.data;c.derivation.type=
a.type;for(a=0;a<d.length;a++)c.derivation.to[a]={task:d[a]};this.data.render.lineDerivation(b)}},save:function(){}}.expand(this,true);this.patternPanel=function(a,b,c){var d=this.data.db.task[b],e={tas_uid:d.uid,pro_uid:this.options.uid}.concat(c?{type:c.type,next_task:this.data.db.task[c.to].uid}:{});if(a){if(typeof this.data.db.task[b].derivation.type=="undefined"){(new leimnud.module.app.alert).make({label:G_STRINGS.ID_NO_DERIVATIONS_DEFINED});return false}var f,g;switch(this.data.db.task[b].derivation.type){case 0:f=
450;g=205;break;case 1:f=700;g=350;break;case 2:f=700;g=350;break;case 3:g=f=350;break;case 4:f=600;g=350;break;case 5:f=450;g=205;break;case 8:f=550;g=300}this.tmp.derivationsPanel=panel=new leimnud.module.panel;panel.options={limit:true,size:{w:f,h:g},position:{x:50,y:50,center:true},title:G_STRINGS.ID_PROCESSMAP_WORKFLOW_PATTERNS+": "+d.label,theme:this.options.theme,control:{close:true,resize:true},fx:{modal:true}};panel.make();panel.loader.show();b=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,
args:"action=derivations&data="+e.toJSONString()});b.callback=function(a,b){b.loader.hide();var c=a.xmlhttp.responseText.extractScript();b.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this,panel);b.make()}else if(this.data.db.task[b].derivation.type!=e.type&&typeof this.data.db.task[b].derivation.type!="undefined")typeof this.data.db.task[b].derivation.type!="undefined"&&(new leimnud.module.app.confirm).make({label:G_STRINGS.ID_PROCESSMAP_CONFIRM_WORKFLOW_PATTERN_CHANGE,action:function(){var a=
{};a.type=Number(e.type);a.tas_uid=e.tas_uid;a.data=[];a.data.push(e.next_task);this.data.build.derivation(a);e["delete"]=true;(new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=saveNewPattern&data="+e.toJSONString()})).make()}.extend(this)});else{a={};a.type=e.type;a.tas_uid=e.tas_uid;a.data=[];a.data.push(e.next_task);if(a.type!=0&&a.type!=5)for(c=0;c<this.data.db.task[b].derivation.to.length;c++)a.data.inArray(this.data.db.task[b].derivation.to[c].task)||a.data.push(this.data.db.task[b].derivation.to[c].task);
Pm.data.build.derivation(a);a.data.push(e.next_task);e["delete"]=false;b=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=saveNewPattern&data="+e.toJSONString()});b.make()}};this.tools={getIndexOfUid:function(a){for(var b=0;b<this.data.db.task.length;b++)if(this.data.db.task[b].uid===a)return b},getUidOfIndex:function(a){return this.data.db.task[a].uid||false}}.expand(this);this.expand(this)};
processmap.prototype={parent:leimnud,tmp:{},info:{name:"processmap"},panels:{},dragables:{},dropables:{},make:function(){this.options={theme:"firefox",rw:true,mi:true,ct:false,hideMenu:true}.concat(this.options||{});this.options.target=this.parent.dom.element(this.options.target);if(!this.validate())return false;this.observers={menu:this.parent.factory(this.parent.pattern.observer,true),lineas:this.parent.factory(this.parent.pattern.observer,true),guideLines:this.parent.factory(this.parent.pattern.observer,
true),buildingLineGuides:this.parent.factory(this.parent.pattern.observer,true)};this.dropables.derivation=new this.parent.module.drop;this.dropables.derivation.make();if(this.options.hideMenu===true){var a=this.parent.dom.element("pm_header"),b=this.parent.dom.element("pm_menu"),c=this.parent.dom.element("pm_submenu"),d=this.parent.dom.element("pm_separator");d.className="pm_separatorOff___"+this.options.theme;this.menuRolled=false;var e=document.createElement("div");e.id="pm_separator_div";e.className=
"pm_separatorDOff___"+this.options.theme;d.appendChild(e);d.onmouseup=function(){if(this.menuRolled===true){d.className="pm_separatorOff___"+this.options.theme;e.className="pm_separatorDOff___"+this.options.theme;this.parent.dom.setStyle([a,b,c],{display:""});this.menuRolled=false}else{d.className="pm_separatorOn___"+this.options.theme;e.className="pm_separatorDOn___"+this.options.theme;this.menuRolled=true;this.parent.dom.setStyle([a,b,c],{display:"none"})}}.extend(this,d);e.onmouseover=function(){e.className=
this.menuRolled===true?"pm_separatorDOn___"+this.options.theme+" pm_separatorOver___"+this.options.theme:"pm_separatorDOff___"+this.options.theme+" pm_separatorOver___"+this.options.theme}.extend(this,e);e.onmouseout=function(){e.className=this.menuRolled===true?"pm_separatorDOn___"+this.options.theme+" pm_separatorOut___"+this.options.theme:"pm_separatorDOff___"+this.options.theme+" pm_separatorOut___"+this.options.theme}.extend(this,e)}if(this.options.rw===true){var f=this.parent.dom.capture("tag.body 0"),
g=this.parent.dom.element("pm_submenu");this.parent.dom.setStyle(f,{backgroundColor:"buttonface"});this.parent.dom.setStyle(g,{height:25})}this.panels.editor=new leimnud.module.panel;oClientWinSize=getClientWindowSize();f=this.options.size.h;f<=oClientWinSize.height&&(f=f+800);this.panels.editor.options={limit:true,size:{w:maximunX>this.options.size.w?maximunX+200:this.options.size.w,h:f},position:{x:200,y:0,centerX:true},title:"",titleBar:false,control:{resize:false},fx:{opacity:false,shadow:false,
blinkToFront:false},theme:this.options.theme,target:this.options.target,modal:true,limit:true};this.panels.editor.setStyle={content:{background:"white url('"+this.options.images_dir+"bg_pm.gif') repeat fixed",backgroundPosition:"10 0"},containerWindow:{borderWidth:0,padding:0,backgroundColor:"buttonface"},titleBar:{background:"transparent",borderWidth:0,height:5},frontend:{backgroundColor:"buttonface"},backend:{backgroundColor:"buttonface"},status:{textAlign:"center"}};this.panels.editor.make();this.panels.editor.loader.show();
this.panels.editor.addContentStatus(G_STRINGS.ID_PROCESSMAP_LOADING);this.data.load();this.options.rw===true&&this.data.render.buildingBlocks.panel()},validate:function(){return!this.options.target||!this.options.dataServer||!this.options.lang?false:true},addTask:function(a,b){var c=this.menu.cursor,d=this.parent.dom.position(this.panels.editor.elements.content),e=this.data.db.task.length,c={x:this.panels.editor.elements.content.scrollLeft+(c.x-d.x),y:this.panels.editor.elements.content.scrollTop+
(c.y-d.y)};this.data.db.task[e]={position:c,label:G_STRINGS.ID_PROCESSMAP_NEW_TASK,uid:false,task_type:b.tp=="task"?"NORMAL":"SUBPROCESS",derivation:{to:[]}};if(b.tp=="task"){c=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=addTask&data="+{uid:this.options.uid,position:c}.toJSONString()});c.callback=this.parent.closure({instance:this,method:function(a,b){var c=b.xmlhttp.responseText.parseJSON(),d=this.data.db.task[a];d.uid=c.uid||false;d.statusIcons=c.statusIcons;this.data.build.task(a,
{tp:"task"});d.label=d.object.elements.label.innerHTML=c.label||""},args:[e,c]})}else if(b.tp=="subprocess"){this.data.build.task(e,{tp:"subprocess"});c=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=addSubProcess&data="+{uid:this.options.uid,position:c}.toJSONString()});c.callback=this.parent.closure({instance:this,method:function(a,b){var c=b.xmlhttp.responseText.parseJSON(),d=this.data.db.task[a];d.label=d.object.elements.label.innerHTML=c.label||"";d.uid=c.uid||false},
args:[e,c]})}else{this.data.build.task(e,{tp:"hidden"});c=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=addTaskHidden&data="+{uid:this.options.uid,position:c}.toJSONString()});c.callback=this.parent.closure({instance:this,method:function(a,b){var c=b.xmlhttp.responseText.parseJSON(),d=this.data.db.task[a];d.label=d.object.elements.label.innerHTML=c.label||"";d.uid=c.uid||false},args:[e,c]})}c.make()},addText:function(){(new this.parent.module.app.prompt).make({label:G_STRINGS.ID_PROCESSMAP_TEXT,
action:function(a){if(a&&a.trim()!==""){var b=this.menu.cursor,c=this.parent.dom.position(this.panels.editor.elements.content),d=this.data.db.task.length,e=this.panels.editor.elements.content.scrollLeft+(b.x-c.x),b=this.panels.editor.elements.content.scrollTop+(b.y-c.y),d=this.data.db.text.length;this.data.db.text[d]={label:a,position:{x:e,y:b},uid:false};this.data.build.text(d);a=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=addText&data="+{uid:this.options.uid,label:a,
position:{x:e,y:b}}.toJSONString()});a.callback=function(a,b){var c=a.xmlhttp.responseText.parseJSON();this.data.db.text[b].uid=c.uid}.extend(this,d);a.make()}}.extend(this)})},addGuide:function(a,b){var c=this.menu.cursor,d=this.parent.dom.position(this.panels.editor.elements.content),e=this.data.db.guide.length,f=this.panels.editor.elements.content.scrollLeft,g=this.panels.editor.elements.content.scrollTop,h=c.x-d.x,c=c.y-d.y;this.data.db.guide[e]={position:b==="horizontal"?c+g:h+f,uid:false,direction:b};
f=this.data.db.guide[e];this.data.build.guide(e);f=new leimnud.module.rpc.xmlhttp({url:this.options.dataServer,args:"action=addGuide&data="+{uid:this.options.uid,position:f.position,direction:f.direction}.toJSONString()});f.callback=function(a,b){var c=a.xmlhttp.responseText.parseJSON();this.data.db.guide[b].uid=c.uid||false}.extend(this,e);f.make()}};var mainPanel;
function showDbConnectionsList(a){mainPanel=new leimnud.module.panel;mainPanel.options={size:{w:640,h:450},position:{x:0,y:0,center:true},title:G_STRINGS.ID_DBS_LIST,theme:"processmaker",statusBar:false,control:{resize:false,roll:false,drag:true},fx:{modal:true,opacity:true,blinkToFront:false,fadeIn:false,drag:true}};mainPanel.events={remove:function(){delete mainPanel}.extend(this)};mainPanel.make();mainPanel.loader.show();a=new leimnud.module.rpc.xmlhttp({url:"../dbConnections/dbConnectionsAjax",
args:"action=showDbConnectionsList&PRO_UID="+a});a.callback=function(a){mainPanel.loader.hide();var c=a.xmlhttp.responseText.extractScript();mainPanel.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this);a.make()}
function showCaseSchedulerList(a){mainPanel=new leimnud.module.panel;mainPanel.options={size:{w:850,h:570},position:{x:0,y:0,center:true},title:G_STRINGS.ID_PROCESSMAP_CASE_SCHEDULER_TITLE,theme:"processmaker",statusBar:false,control:{resize:false,roll:false,drag:true},fx:{modal:true,opacity:true,blinkToFront:false,fadeIn:false,drag:true}};mainPanel.events={remove:function(){delete mainPanel}.extend(this)};mainPanel.make();mainPanel.loader.show();a=new leimnud.module.rpc.xmlhttp({url:"processes_Ajax",
args:"action=case_scheduler&PRO_UID="+a});a.callback=function(a){mainPanel.loader.hide();var c=a.xmlhttp.responseText.extractScript();mainPanel.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this);a.make()}function showNewProcessMap(a){window.location="../bpmnDesigner?id="+a}
function showLogCaseSchedulerList(a){mainPanel=new leimnud.module.panel;mainPanel.options={size:{w:640,h:450},position:{x:0,y:0,center:true},title:"Case Scheduler Log List",theme:"processmaker",statusBar:false,control:{resize:false,roll:false,drag:true},fx:{modal:true,opacity:true,blinkToFront:false,fadeIn:false,drag:true}};mainPanel.events={remove:function(){delete mainPanel}.extend(this)};mainPanel.make();mainPanel.loader.show();a=new leimnud.module.rpc.xmlhttp({url:"processes_Ajax",args:"action=log_case_scheduler&PRO_UID="+
a});a.callback=function(a){mainPanel.loader.hide();var c=a.xmlhttp.responseText.extractScript();mainPanel.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this);a.make()}function exitEditor(){location.href="../processes/mainInit"}function moldTitle(a,b){b=parseInt(b);chain=parseInt(a.length*6);if(b-chain<0){chain=parseInt(b/6-33);newTitle=a.substring(0,chain);a=newTitle+"..."}return a}
function openPMFolder(a,b){currentFolder=a;if(document.getElementById("child_"+a).innerHTML!=""&&a!=b){document.getElementById("child_"+a).innerHTML="";getPMFolderContent(a)}else{document.getElementById("child_"+a).innerHTML="<img src='/images/classic/loader_B.gif' >";var c=new leimnud.module.rpc.xmlhttp({url:"appFolderAjax",async:true,method:"POST",args:"action=openPMFolder&folderID="+a+"&rootfolder="+b});c.callback=function(b){document.getElementById("child_"+a).innerHTML=b.xmlhttp.responseText;
b.xmlhttp.responseText.extractScript().evalScript();getPMFolderContent(a)}.extend(this);c.make();a==b&&getPMFolderTags(b)}}
function getPMFolderContent(a){document.getElementById("spanFolderContent").innerHTML="<img src='/images/classic/loader_B.gif' >";var b=new leimnud.module.rpc.xmlhttp({url:"appFolderAjax",async:true,method:"POST",args:"action=getPMFolderContent&folderID="+a});b.callback=function(){document.getElementById("spanFolderContent").innerHTML=b.xmlhttp.responseText;b.xmlhttp.responseText.extractScript().evalScript()}.extend(this);b.make()}
function getPMFolderSearchResult(a,b){document.getElementById("spanFolderContent").innerHTML="<img src='/images/classic/loader_B.gif' >";var c=new leimnud.module.rpc.xmlhttp({url:"appFolderAjax",async:true,method:"POST",args:"action=getPMFolderContent&searchKeyword="+a+"&type="+b});c.callback=function(){document.getElementById("spanFolderContent").innerHTML=c.xmlhttp.responseText;c.xmlhttp.responseText.extractScript().evalScript()}.extend(this);c.make()}
function getPMFolderTags(a){document.getElementById("tags_cloud").innerHTML="<img src='/images/classicloader_B.gif' >";a=new leimnud.module.rpc.xmlhttp({url:"appFolderAjax",async:false,method:"POST",args:"action=getPMFolderTags&rootFolder="+a});a.make();document.getElementById("tags_cloud").innerHTML=a.xmlhttp.responseText;a.xmlhttp.responseText.extractScript().evalScript()}
var uploadDocument=function(a,b,c,d,e,f){if(d){if(d=="R")windowTitle=G_STRINGS.ID_UPLOAD_REPLACE_INPUT;if(d=="NV")windowTitle=G_STRINGS.ID_UPLOAD_NEW_INPUT_VERSION}else{windowTitle=G_STRINGS.ID_UPLOAD_NEW_INPUT;c=1;b=d=""}oPanel=new leimnud.module.panel;oPanel.options={size:{w:550,h:300},position:{x:0,y:0,center:true},title:windowTitle,theme:"processmaker",statusBar:false,control:{resize:true,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel.events={remove:function(){delete oPanel}.extend(this)};
oPanel.make();oPanel.loader.show();a=new leimnud.module.rpc.xmlhttp({url:"appFolderAjax",args:"action=uploadDocument&docID="+a+"&appDocId="+b+"&docVersion="+c+"&actionType="+d+"&appId="+e+"&docType="+f});a.callback=function(a){oPanel.loader.hide();var b=a.xmlhttp.responseText.extractScript();oPanel.addContent(a.xmlhttp.responseText);b.evalScript()}.extend(this);a.make()},oPanel,gUSER_UID,uploadExternalDocument=function(a){gUSER_UID=a;oPanel=new leimnud.module.panel;oPanel.options={size:{w:550,h:300},
position:{x:0,y:0,center:true},title:G_STRINGS.ID_UPLOAD_EXTERNAL_DOCUMENT,theme:"processmaker",statusBar:false,control:{resize:true,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel.events={remove:function(){delete oPanel}.extend(this)};oPanel.make();oPanel.loader.show();a=new leimnud.module.rpc.xmlhttp({url:"appFolderAjax",args:"action=uploadExternalDocument&folderID="+a});a.callback=function(a){oPanel.loader.hide();var c=a.xmlhttp.responseText.extractScript();oPanel.addContent(a.xmlhttp.responseText);
c.evalScript()}.extend(this);a.make()},newFolder=function(a){gUSER_UID=a;oPanel=new leimnud.module.panel;oPanel.options={size:{w:550,h:250},position:{x:0,y:0,center:true},title:G_STRINGS.ID_NEW_FOLDER,theme:"processmaker",statusBar:false,control:{resize:true,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel.events={remove:function(){delete oPanel}.extend(this)};oPanel.make();oPanel.loader.show();a=new leimnud.module.rpc.xmlhttp({url:"appFolderAjax",args:"action=newFolder&folderID="+
a});a.callback=function(a){oPanel.loader.hide();var c=a.xmlhttp.responseText.extractScript();oPanel.addContent(a.xmlhttp.responseText);c.evalScript()}.extend(this);a.make()},documentVersionHistory=function(a,b){oPanel=new leimnud.module.panel;oPanel.options={size:{w:550,h:300},position:{x:0,y:0,center:true},title:G_STRINGS.ID_INPUT_DOCUMENT_HISTORY,theme:"processmaker",statusBar:false,control:{resize:true,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel.events={remove:function(){delete oPanel}.extend(this)};
oPanel.make();oPanel.loader.show();var c=new leimnud.module.rpc.xmlhttp({url:"appFolderAjax",args:"action=documentVersionHistory&folderID="+a+"&appDocId="+b});c.callback=function(a){oPanel.loader.hide();var b=a.xmlhttp.responseText.extractScript();oPanel.addContent(a.xmlhttp.responseText);b.evalScript()}.extend(this);c.make()},documentInfo=function(a,b,c,d,e,f,g){oPanel=new leimnud.module.panel;oPanel.options={size:{w:400,h:270},position:{x:0,y:0,center:true},title:G_STRINGS.ID_DOCUMENT_INFO,theme:"processmaker",
statusBar:false,control:{resize:true,roll:false},fx:{modal:true,opacity:true,blinkToFront:true,fadeIn:false}};oPanel.events={remove:function(){delete oPanel}.extend(this)};oPanel.make();oPanel.loader.show();a=new leimnud.module.rpc.xmlhttp({url:"appFolderAjax",args:"action=documentInfo&docID="+a+"&appDocId="+b+"&docVersion="+c+"&actionType="+d+"&appId="+e+"&docType="+f+"&usrUid="+g});a.callback=function(a){oPanel.loader.hide();var b=a.xmlhttp.responseText.extractScript();oPanel.addContent(a.xmlhttp.responseText);
b.evalScript()}.extend(this);a.make()},documentdelete=function(a,b,c){(new leimnud.module.app.confirm).make({label:G_STRINGS.ID_MSG_CONFIRM_DELETE_FILE,action:function(){var a=new leimnud.module.rpc.xmlhttp({url:"appFolderAjax",async:true,method:"POST",args:"action=documentdelete&sFileUID="+b+"&docVersion="+c});a.callback=function(){window.location="appFolderList"}.extend(this);a.make()}.extend(this)})};
function deletePMFolder(a,b){(new leimnud.module.app.confirm).make({label:G_STRINGS.ID_MSG_CONFIRM_DELETE_FILE,action:function(){var c=new leimnud.module.rpc.xmlhttp({url:"appFolderAjax",async:true,method:"POST",args:"action=deletePMFolder&sFileUID="+a+"&rootfolder="+b});c.callback=function(){window.location="appFolderList"}.extend(this);c.make()}.extend(this)})}_editor_url="/htmlarea/";
function editor_defaultConfig(a){this.version="2.03";this.height=this.width="auto";this.bodyStyle='background-color: #FFFFFF; font-family: "Verdana"; font-size: x-small;';this.imgURL=_editor_url+"images/";this.plaintextInput=this.replaceNextlines=this.debug=0;this.toolbar=[["fontname"],["fontsize"],["bold","italic","underline","separator"],["justifyleft","justifycenter","justifyright","separator"],["OrderedList","UnOrderedList","Outdent","Indent","separator"],["forecolor","backcolor","separator"],
["HorizontalRule","Createlink","InsertImage","InsertTable","htmlmode","separator"],["popupeditor","about"]];this.fontnames={Arial:"arial, helvetica, sans-serif","Courier New":"courier new, courier, mono",Georgia:"Georgia, Times New Roman, Times, Serif",Tahoma:"Tahoma, Arial, Helvetica, sans-serif","Times New Roman":"times new roman, times, serif",Verdana:"Verdana, Arial, Helvetica, sans-serif",impact:"impact",WingDings:"WingDings"};this.fontsizes={"1 (8 pt)":"1","2 (10 pt)":"2","3 (12 pt)":"3","4 (14 pt)":"4",
"5 (18 pt)":"5","6 (24 pt)":"6","7 (36 pt)":"7"};this.fontstyles=[];this.btnList={bold:["Bold","Bold","editor_action(this.id)","ed_format_bold.gif"],italic:["Italic","Italic","editor_action(this.id)","ed_format_italic.gif"],underline:["Underline","Underline","editor_action(this.id)","ed_format_underline.gif"],strikethrough:["StrikeThrough","Strikethrough","editor_action(this.id)","ed_format_strike.gif"],subscript:["SubScript","Subscript","editor_action(this.id)","ed_format_sub.gif"],superscript:["SuperScript",
"Superscript","editor_action(this.id)","ed_format_sup.gif"],justifyleft:["JustifyLeft","Justify Left","editor_action(this.id)","ed_align_left.gif"],justifycenter:["JustifyCenter","Justify Center","editor_action(this.id)","ed_align_center.gif"],justifyright:["JustifyRight","Justify Right","editor_action(this.id)","ed_align_right.gif"],orderedlist:["InsertOrderedList","Ordered List","editor_action(this.id)","ed_list_num.gif"],unorderedlist:["InsertUnorderedList","Bulleted List","editor_action(this.id)",
"ed_list_bullet.gif"],outdent:["Outdent","Decrease Indent","editor_action(this.id)","ed_indent_less.gif"],indent:["Indent","Increase Indent","editor_action(this.id)","ed_indent_more.gif"],forecolor:["ForeColor","Font Color","editor_action(this.id)","ed_color_fg.gif"],backcolor:["BackColor","Background Color","editor_action(this.id)","ed_color_bg.gif"],horizontalrule:["InsertHorizontalRule","Horizontal Rule","editor_action(this.id)","ed_hr.gif"],createlink:["CreateLink","Insert Web Link","editor_action(this.id)",
"ed_link.gif"],insertimage:["InsertImage","Insert Image","editor_action(this.id)","ed_image.gif"],inserttable:["InsertTable","Insert Table","editor_action(this.id)","insert_table.gif"],htmlmode:["HtmlMode","View HTML Source","editor_setmode('"+a+"')","ed_html.gif"],popupeditor:["popupeditor","Enlarge Editor","editor_action(this.id)","fullscreen_maximize.gif"],about:["about","About this editor","editor_about('"+a+"')","ed_about.gif"],custom1:["custom1","Purpose of button 1","editor_action(this.id)",
"ed_custom.gif"],custom2:["custom2","Purpose of button 2","editor_action(this.id)","ed_custom.gif"],custom3:["custom3","Purpose of button 3","editor_action(this.id)","ed_custom.gif"],help:["showhelp","Help using editor","editor_action(this.id)","ed_help.gif"]}}
function editor_generate(a,b){var c=new editor_defaultConfig(a);if(b)for(var d=0;d<b.length;d++)b[d]&&(c[d]=b[d]);document.getElementById(a).config=c;d=document.getElementById(a);if(!c.width||c.width=="auto")c.width=d.style.width?d.style.width:d.cols?d.cols*8+22:"100%";if(!c.height||c.height=="auto")c.height=d.style.height?d.style.height:d.rows?d.rows*17:"200";var d="",e,f;for(e=0;e<c.toolbar.length;e++)if(c.toolbar[e].length==1&&c.toolbar[e][0].toLowerCase()=="linebreak")d=d+'<br clear="all">';else{d=
d+'<table border=0 cellspacing=0 cellpadding=0 style="float: left;"  unselectable="on"><tr><td style="border: none; padding: 1 0 0 0"><nobr>';for(f=0;f<c.toolbar[e].length;f++){var g=c.toolbar[e][f].toLowerCase();if(g=="fontname"){d=d+('<select id="_'+a+'_FontName" onChange="editor_action(this.id)" unselectable="on" style="margin: 1 2 0 2; font-size: 12px;">');for(g=0;g<c.fontnames.length;g++)d=d+('<option value="'+c.fontnames[g]+'">'+g+"</option>");d=d+"</select>"}else if(g=="fontsize"){d=d+('<select id="_'+
a+'_FontSize" onChange="editor_action(this.id)" unselectable="on" style="margin: 1 2 0 0; font-size: 12px;">');for(g=0;g<c.fontsizes.length;g++)d=d+('<option value="'+c.fontsizes[g]+'">'+g+"</option>");d=d+"</select>\n"}else if(g=="fontstyle"){d=d+('<select id="_'+a+'_FontStyle" onChange="editor_action(this.id)" unselectable="on" style="margin: 1 2 0 0; font-size: 12px;">');NaN;for(g=0;g<c.fontstyles.length;g++)var h=c.fontstyles[g],d=d+('<option value="'+h.className+'">'+h.name+"</option>");d=d+
"</select>"}else if(g=="separator")d=d+'<span style="border: 1px inset; width: 1px; font-size: 16px; height: 16px; margin: 0 3 0 3"></span>';else{h=c.btnList[g];if(g=="linebreak"){alert("htmlArea error: 'linebreak' must be in a subgroup by itself, not with other buttons.\n\nhtmlArea wysiwyg editor not created.");return}if(!h){alert("htmlArea error: button '"+g+"' not found in button list when creating the wysiwyg editor for '"+a+"'.\nPlease make sure you entered the button name correctly.\n\nhtmlArea wysiwyg editor not created.");
return}d=d+('<button title="'+h[1]+'" id="_'+a+"_"+h[0]+'" class="btn" onClick="'+h[2]+"\" onmouseover=\"if(this.className=='btn'){this.className='btnOver'}\" onmouseout=\"if(this.className=='btnOver'){this.className='btn'}\" unselectable=\"on\"><img src=\""+c.imgURL+h[3]+'" border=0 unselectable="on"></button>')}}d=d+"</nobr></td></tr></table>\n"}d='<span id="_editor_toolbar"><table border=0 cellspacing=0 cellpadding=0 bgcolor="buttonface" style="padding: 1 0 0 2" width='+c.width+' unselectable="on"><tr><td>\n'+
d+'</td></tr></table>\n</td></tr></table></span>\n<textarea ID="_'+a+'_editor" style="width:'+c.width+"; height:"+c.height+'; margin-top: -1px; margin-bottom: -1px;" wrap=soft></textarea>';d=d+('<div id="_'+a+'_cMenu" style="position: absolute; visibility: hidden;"></div>');if(!c.debug)document.getElementById(a).style.display="none";if(c.plaintextInput){c=document.getElementById(a).value;c=c.replace(/\r\n/g,"<br>");c=c.replace(/\n/g,"<br>");c=c.replace(/\r/g,"<br>");document.getElementById(a).value=
c}insertHTMLAfterEnd(document.getElementById(a),d);editor_setmode(a,"init");for(c=0;c<document.forms.length;c++)leimnud.event.add(document.forms[c],"submit",function(){editor_filterOutput(a)});return true}
function editor_action(a){var b=[],b=a.split("_"),c=a.replace(/^_(.*)_[^_]*$/,"$1"),b=b[b.length-1],d=document.getElementById(a),e=document.getElementById("_"+c+"_editor");document.getElementById(c);if(b=="showhelp")window.open(_editor_url+"popups/editor_help.html","EditorHelp");else if(b=="popupeditor")window.open(_editor_url+"popups/fullscreen.html?"+c,"FullScreen","toolbar=no,location=no,directories=no,status=yes,menubar=no,scrollbars=yes,resizable=yes,width=640,height=480");else if(e.tagName.toLowerCase()!=
"textarea"){a=e.contentWindow.document;editor_focus(e);e=d.selectedIndex;e=e!=null?d[e].value:null;if(b=="custom1")alert("Hello, I am custom button 1!");else if(b=="custom2")(b=showModalDialog(_editor_url+"popups/custom2.html","This is a custom title","resizable: yes; help: no; status: no; scroll: no; "))&&editor_insertHTML(c,b);else if(b=="custom3")editor_insertHTML(c,"It's easy to add buttons that insert text!");else if(b=="FontName"&&e)a.execCommand(b,0,e);else if(b=="FontSize"&&e)a.execCommand(b,
0,e);else if(b=="FontStyle"&&e){a.execCommand("RemoveFormat");a.execCommand("FontName",0,"636c6173734e616d6520706c616365686f6c646572");b=a.getElementsByTagName("FONT");for(i=0;i<b.length;i++)if(b[i].face=="636c6173734e616d6520706c616365686f6c646572"){b[i].face="";b[i].className=e;b[i].outerHTML=b[i].outerHTML.replace(/face=['"]+/,"")}d.selectedIndex=0}else if(b=="ForeColor"||b=="BackColor"){d=_dec_to_rgb(a.queryCommandValue(b));d=showModalDialog(_editor_url+"popups/select_color.html",d,"resizable: no; help: no; status: no; scroll: no;");
d!=null&&a.execCommand(b,false,"#"+d)}else{b.toLowerCase()=="subscript"&&a.queryCommandState("superscript")&&a.execCommand("superscript");b.toLowerCase()=="superscript"&&a.queryCommandState("subscript")&&a.execCommand("subscript");b.toLowerCase()=="createlink"?a.execCommand(b,1):b.toLowerCase()=="insertimage"?showModalDialog(_editor_url+"popups/insert_image.html",a,"resizable: no; help: no; status: no; scroll: no; "):b.toLowerCase()=="inserttable"?showModalDialog(_editor_url+"popups/insert_table.html?"+
c,window,"resizable: yes; help: no; status: no; scroll: no; "):a.execCommand(b)}editor_event(c)}}
function editor_event(a,b){document.getElementById(a);var c=document.getElementById("_"+a+"_editor");b==null&&(b=0);var d=c.contentWindow?c.contentWindow.event:event;if(d&&d.keyCode){var c=d.keyCode,e=d.ctrlKey,d=d.shiftKey;if(c==16||c==17||c==18||e&&(c==122||c==90)||e&&(c==121||c==89)||e&&d&&(c==122||c==90))return}if(b>0)return setTimeout(function(){editor_event(a)},b);if(this.tooSoon==1&&b>=0)this.queue=1;else{this.tooSoon=1;setTimeout(function(){this.tooSoon=0;this.queue&&editor_event(a,-1);this.queue=
0},333);editor_updateOutput(a);editor_updateToolbar(a)}}
function editor_updateToolbar(a,b){var c=document.getElementById(a).config,d=document.getElementById("_"+a+"_editor");if(b=="enable"||b=="disable"){for(var d=["FontName","FontSize","FontStyle"],e=0;e<c.btnList.length;e++)d.push(c.btnList[e][0]);for(c=0;c<d.length;c++){typeof d[c]=="undefined"&&alert(c);var f=d[c].toLowerCase(),e=document.getElementById("_"+a+"_"+d[c]);if(!(f=="htmlmode"||f=="about"||f=="showhelp"||f=="popupeditor")&&e!=null){f=e.tagName.toLowerCase()=="button"?true:false;if(b=="enable"){e.disabled=
false;if(f)e.className="btn"}if(b=="disable"){e.disabled=true;if(f)e.className="btnNA"}}}}else if(d.tagName.toLowerCase()!="textarea"){d=d.contentWindow.document;if(e=document.getElementById("_"+a+"_FontName")){f=d.queryCommandValue("FontName");if(f==null)e.value=null;else{for(i=c=0;i<e.length;i++)if(f.toLowerCase()==e[i].text.toLowerCase()){e.selectedIndex=i;c=1}if(c!=1)e.value=null}}if(e=document.getElementById("_"+a+"_FontSize")){f=d.queryCommandValue("FontSize");if(f==null)e.value=null;else{for(i=
c=0;i<e.length;i++)if(f==e[i].value){e.selectedIndex=i;c=1}if(c!=1)e.value=null}}if(e=document.getElementById("_"+a+"_FontStyle")){c=d.selection.createRange();for(c=c.length?c[0]:c.parentElement();c&&!c.className;)c=c.parentElement;f=c?c.className.toLowerCase():"";if(!f&&e.value)e.value=null;else{for(i=c=0;i<e.length;i++)if(f==e[i].value.toLowerCase()){e.selectedIndex=i;c=1}if(c!=1)e.value=null}}c=["Bold","Italic","Underline","StrikeThrough","SubScript","SuperScript","JustifyLeft","JustifyCenter",
"JustifyRight","InsertOrderedList","InsertUnorderedList"];for(i=0;i<c.length;i++){e=document.getElementById("_"+a+"_"+c[i]);if(e!=null)if(f=d.queryCommandState(c[i])){if(f){if(e.className!="btnDown")e.className="btnDown";if(e.disabled!=false)e.disabled=false}}else{if(e.className!="btn")e.className="btn";if(e.disabled!=false)e.disabled=false}}}}
function editor_updateOutput(a){var b=document.getElementById(a).config,c=document.getElementById("_"+a+"_editor"),d=c.tagName.toLowerCase()=="textarea",e=d?null:c.contentWindow.document,c=d?c.value:e.body.innerHTML;if(!(b.lastUpdateOutput&&b.lastUpdateOutput==c)){b.lastUpdateOutput=c;document.getElementById(a).value=c}}
function editor_filterOutput(a){editor_updateOutput(a);var b=document.getElementById(a).value,c=document.getElementById(a).config;b.toLowerCase()=="<p>&nbsp;</p>"&&(b="");RegExp.lastIndex=0;b=b.replace(/<\/?(\w+)((?:[^'">]*|'[^']*'|"[^"]*")*)>/g,function(a,b){b=b.toLowerCase();a.match(/^<\//);b=="img"&&(a=a.replace(/(src\s*=\s*.)[^*]*(\*\*\*)/,"$1$2"));b=="a"&&(a=a.replace(/(href\s*=\s*.)[^*]*(\*\*\*)/,"$1$2"));return a});if(c.replaceNextlines){b=b.replace(/\r\n/g," ");b=b.replace(/\n/g," ");b=b.replace(/\r/g,
" ")}document.getElementById(a).value=b}
function editor_setmode(a,b){var c=document.getElementById(a).config,d=document.getElementById("_"+a+"_editor");if(document.readyState!="complete")setTimeout(function(){editor_setmode(a,b)},25);else{var e='<textarea ID="_'+a+'_editor" style="width:'+d.style.width+"; height:"+d.style.height+'; margin-top: -1px; margin-bottom: -1px;"></textarea>',f='<iframe ID="_'+a+'_editor"    style="width:'+d.style.width+"; height:"+d.style.height+';"></iframe>';if(b=="textedit"||d.tagName.toLowerCase()=="iframe"){c.mode=
"textedit";var c=d.contentWindow.document,g=c.body.createTextRange().htmlText;d.outerHTML=e;d=document.getElementById("_"+a+"_editor");d.value=g;editor_event(a);editor_updateToolbar(a,"disable");d.onkeydown=function(){editor_event(a)};d.onkeypress=function(){editor_event(a)};d.onkeyup=function(){editor_event(a)};d.onmouseup=function(){editor_event(a)};d.ondrop=function(){editor_event(a,100)};d.oncut=function(){editor_event(a,100)};d.onpaste=function(){editor_event(a,100)};d.onblur=function(){editor_event(a,
-1)};editor_updateOutput(a);editor_focus(d)}else{c.mode="wysiwyg";g=d.value;if(b=="init")g=document.getElementById(a).value;d.outerHTML=f;d=document.getElementById("_"+a+"_editor");e="<html><head>\n";c.stylesheet&&(e=e+('<link href="'+c.stylesheet+'" rel="stylesheet" type="text/css">\n'));e=e+"<style>\n"+("body {"+c.bodyStyle+"} \n");for(f=0;f<c.fontstyles.length;f++){var h=c.fontstyles[f];h.classStyle&&(e=e+("."+h.className+" {"+h.classStyle+"}\n"))}e=e+('</style>\n</head>\n<body contenteditable="true" topmargin=1 leftmargin=1>'+
g+"</body>\n</html>\n");c=d.contentWindow?d.contentWindow.document:d.contentDocument;c.open();c.write(e);c.close();editor_updateToolbar(a,"enable");c.objname=a;c.onkeydown=function(){editor_event(a)};c.onkeypress=function(){editor_event(a)};c.onkeyup=function(){editor_event(a)};c.onmouseup=function(){editor_event(a)};c.body.ondrop=function(){editor_event(a,100)};c.body.oncut=function(){editor_event(a,100)};c.body.onpaste=function(){editor_event(a,100)};c.body.onblur=function(){editor_event(a,-1)};
b!="init"&&editor_focus(d)}b!="init"&&editor_event(a)}}function editor_focus(a){if(a.tagName.toLowerCase()=="textarea")setTimeout(function(){a.focus()},100);else{var b=a.contentWindow.document,c=b.body.createTextRange(),b=b.selection.createRange();if(b.length==null&&!c.inRange(b)){c.collapse();c.select();b=c}}}function editor_about(){showModalDialog(_editor_url+"popups/about.html",window,"resizable: yes; help: no; status: no; scroll: no; ")}
function _dec_to_rgb(a){for(var b="",c=0;c<3;c++)var d=a&255,a=a>>8,e=d&15,b=b+(d>>4&15).toString(16),b=b+e.toString(16);return b.toUpperCase()}
function editor_insertHTML(a,b,c,d){document.getElementById(a);var e=document.getElementById("_"+a+"_editor");b==null&&(b="");c==null&&(c="");if(document.getElementById(a)&&e==null){document.getElementById(a).focus();document.getElementById(a).value=document.getElementById(a).value+b+c}else{if(e==null)return alert("Unable to insert HTML.  Invalid object name '"+a+"'.");editor_focus(e);var a=e.tagName.toLowerCase(),f;if(a=="iframe"){f=e.contentWindow.document.selection.createRange();e=f.htmlText;if(f.length)return alert("Unable to insert HTML.  Try highlighting content instead of selecting it.");
a=window.onerror;window.onerror=function(){alert("Unable to insert HTML for current selection.");return true};if(e.length)c?f.pasteHTML(b+e+c):f.pasteHTML(b);else{if(d)return alert("Unable to insert HTML.  You must select something first.");f.pasteHTML(b+c)}window.onerror=a}else if(a=="textarea"){e.focus();f=document.selection.createRange();e=f.text;if(e.length)f.text=c?b+e+c:b;else{if(d)return alert("Unable to insert HTML.  You must select something first.");f.text=b+c}}else alert("Unable to insert HTML.  Unknown object tag type '"+
a+"'.");f.collapse(false);f.select()}}function editor_getHTML(a){a=document.getElementById("_"+a+"_editor");return a.tagName.toLowerCase()=="textarea"?a.value:a.contentWindow.document.body.innerHTML}function editor_setHTML(a,b){var c=document.getElementById("_"+a+"_editor");c.tagName.toLowerCase()=="textarea"?c.value=b:c.contentWindow.document.body.innerHTML=b}
function editor_appendHTML(a,b){var c=document.getElementById("_"+a+"_editor");c.tagName.toLowerCase()=="textarea"?c.value=c.value+b:c.contentWindow.document.body.innerHTML=c.contentWindow.document.body.innerHTML+b}function _isMouseOver(a,b){var c=b.clientX,d=b.clientY,e=a.offsetTop,f=a.offsetTop+a.offsetHeight,g=a.offsetLeft+a.offsetWidth;return c>=a.offsetLeft&&c<=g&&d>=e&&d<=f?true:false}
function editor_cMenu_generate(a,b){var c=window;a.event.returnValue=false;editor_cMenu.options=[["Cut","Ctrl-X",function(){}],["Copy","Ctrl-C",function(){}],["Paste","Ctrl-C",function(){}],["Delete","DEL",function(){}],["---",null,null],["Select All","Ctrl-A",function(){}],["Clear All","",function(){}],["---",null,null],["About this editor...","",function(){alert("about this editor")}]];for(var d="",e=0;e<editor_cMenu.options.length;e++){var f=editor_cMenu.options[e][0],g=editor_cMenu.options[e][1];
if(f=="---"||f=="separator")d=d+' <tr><td colspan=2 class="cMenuDivOuter"><div class="cMenuDivInner"></div></td></tr>';else{d=d+('<tr class="cMenu" onMouseOver="editor_cMenu(this)" onMouseOut="editor_cMenu(this)" onClick="editor_cMenu(this, \''+e+"','"+b+"')\">");d=g?d+(' <td align=left class="cMenu">'+f+'</td><td align=right class="cMenu">'+g+"</td>"):d+(' <td colspan=2 class="cMenu">'+f+"</td>");d=d+"</tr>"}}document.getElementById("_"+b+"_cMenu").outerHTML='<div id="_'+b+'_cMenu" onblur="editor_cMenu(this);" oncontextmenu="return false;" onselectstart="return false"  style="position: absolute; visibility: hidden; cursor: default; width: 167px; background-color: threedface;         border: solid 1px; border-color: threedlightshadow threeddarkshadow threeddarkshadow threedlightshadow;"><table border=0 cellspacing=0 cellpadding=0 width="100%" style="width: 167px; background-color: threedface; border: solid 1px; border-color: threedhighlight threedshadow threedshadow threedhighlight;"> <tr><td colspan=2 height=1></td></tr>'+
d+" <tr><td colspan=2 height=1></td></tr></table></div>";editor_cMenu_setPosition(c,a,b);c["_"+b+"_cMenu"].style.visibility="visible";c["_"+b+"_cMenu"].focus()}
function editor_cMenu_setPosition(a,b,c){var d=b.event,b=a["_"+c+"_cMenu"],e=d.clientX+a.document.getElementById("_"+c+"_editor").offsetLeft,a=d.clientY+a.document.getElementById("_"+c+"_editor").offsetTop,c=b.offsetHeight,d=b.offsetWidth,e=e+5+d>document.body.clientWidth+document.body.scrollLeft?e-d-5:e+5;b.style.top=a+5+c>document.body.clientHeight+document.body.scrollTop?a-c+5:a+5;b.style.left=e}
function editor_cMenu(a,b,c){var d=event.type;if(d=="mouseover"&&!a.disabled&&a.tagName.toLowerCase()=="tr"){a.className="cMenuOver";for(b=0;b<a.cells.length;b++)a.cells[b].className="cMenuOver"}else if(d=="mouseout"&&!a.disabled&&a.tagName.toLowerCase()=="tr"){a.className="cMenu";for(b=0;b<a.cells.length;b++)a.cells[b].className="cMenu"}else if(d=="click"&&!a.disabled){document.getElementById("_"+c+"_cMenu").style.visibility="hidden";(0,editor_cMenu.options[b][2])()}else d=="blur"?_isMouseOver(a,
event)?a.style.visibility!="hidden"&&a.focus():a.style.visibility="hidden":alert("editor_cMenu, unknown action: "+d)}function insertAfterEnd(a,b){a.parentNode.insertBefore(b,a.nextSibling)}function insertHTMLAfterEnd(a,b){var c=$dce("div");c.innerHTML=b;for(var d=c.childNodes.length-1;d>=0;d--)insertAfterEnd(a,c.childNodes[d])};
